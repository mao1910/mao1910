<!-- VISITOR BADGE -->
<!-- https://github.com/hehuapei/visitor-badge -->

<img align="right" src="https://visitor-badge.laobi.icu/badge?page_id=mao1910.mao1910&left_color=%2379DAF9&right_color=%23FE6E96" />


<!-- TYPING SVG -->
<!-- https://github.com/DenverCoder1/readme-typing-svg -->

<h1 align="center">
    <img src="https://readme-typing-svg.herokuapp.com/?font=Righteous&size=35&center=true&vCenter=true&width=500&height=70&color=FE6E96&font=poppins&duration=5000&lines=Hi+There!+üëã;+I'm+Mao!;" />
</h1>

<br/>

<!-- CODE/TERMINAL ABOUT ME -->
<h1 align="center">
<img src="./assets/terminal-5.gif" alt="Terminal" />
</h1>

<br/><br/><br/>


<!-- TECHNOLOGIES LOGOS -->
<!-- https://github.com/tandpfun/skill-icons -->

<h2 align="center">üíª Languages / Frameworks / Tools ‚öíÔ∏è</h2>
<div align="center">
    <img src="https://skillicons.dev/icons?i=javascript,typescript,angular,react,html,css,scss,bootstrap,cs,java,spring" />
    <img src="https://skillicons.dev/icons?i=flutter,firebase,supabase,mysql,git,github,gitlab,vscode,idea,maven,figma" />
</div>

<br/><br/><br/>


<!-- CONTRIBUTIONS SNAKE GAME -->
<!-- https://github.com/Platane/snk -->

<div align="center">
  <h2> My Contributionssssüêç </h2>
  <br>
  <img alt="contributions-eating Snake" src="https://raw.githubusercontent.com/mao1910/mao1910/output/github-contribution-grid-snake.svg" />

  <!-- Four lines below suggested by Planate for Dark mode-->
  <picture>
  <source media="(prefers-color-scheme: dark)" srcset="github-snake-dark.svg" />
  <source media="(prefers-color-scheme: light)" srcset="github-snake.svg" />
  </picture>
  
  <br/><br/><br/>
</div>


<!-- GITHUB STATS -->
<!-- https://github.com/DenverCoder1/github-readme-streak-stats -->
<!-- https://github.com/anuraghazra/github-readme-stats -->
<!-- https://github-readme-stats-mao1910.vercel.app/ My own Vercel deployment-->

<h2 align="center"> Statsüìù </h2>
  <br>
<div align=center>
  <img width=429 src="https://github-readme-stats-mao1910.vercel.app/api?username=mao1910&count_private=true&show_icons=true&theme=dracula&rank_icon=github&hide=contribs&border_radius=10&border_color=79DAF9" alt="github stats"/>
  <img width=396 src="https://streak-stats.demolab.com/?user=mao1910&count_private=true&theme=dracula&currStreakNum=79DAF9&currStreakLabel=FE6E96&border_radius=10&border=79DAF9" alt="streak stats"/>
  <br/>
  <img src="https://github-readme-stats-mao1910.vercel.app/api/top-langs/?username=mao1910&layout=compact&theme=dracula&border_radius=10&size_weight=0.5&count_weight=0.5&border_color=79DAF9" alt="languages stats" />
</div>

<br/><br/><br/>


<!-- FOOTER -->
<!-- https://github.com/DenverCoder1/readme-typing-svg -->
<!-- https://readme-typing-svg.demolab.com/demo/ -->

<a href="https://git.io/typing-svg"><img src="https://readme-typing-svg.demolab.com?font=Poppins&pause=1000&color=FE6E96&width=535&lines=Thanks+for+dropping+by!;Feel+free+to+check+any+of+the+Socials+below+%F0%9F%91%87;Or+the+Joke+Of+The+Day+if+you're+down+for+a+giggle+%F0%9F%98%9D;Hope+to+see+you+again+%F0%9F%91%8A;Uh%3F+You're+still+here%3F;Well...+I'm+running+out+of+things+to+say...;Tell+you+what%2C+due+to+your+effort+and+perseverance%2C;I+shall+present+you+with+a+short+poem%3A;%22To+code%2C+or+not+to+code%2C+that+is+the+question%3A;Whether+'tis+nobler+in+the+IDE+to+debug;The+errors+and+issues+of+outrageous+software%2C;Or+to+take+up+the+keyboard+against+a+sea+of+bugs;And+by+coding%2C+end+them.%22;by+William+Shakespeare%2C+probably.+;Pretty+sure+that's+Hamlet's.;Alrighty%2C+this+has+been+fun.;But+I'll+restart+the+loop+now...+see+ya+soon!" alt="Typing SVG" /></a>


<!--  SOCIAL NETWORKS -->
<!-- https://github.com/alexandresanlim/Badges4-README.md-Profile -->

  <div> 
    <a href="https://www.deviantart.com/madeinkobaia/art/my-profile-is-under-construction-265626465" target="_blank"><img src="https://img.shields.io/badge/-LinkedIn-%230077B5?style=for-the-badge&logo=linkedin&logoColor=white" target="_blank"></a> <!-- ADD LINKEDIN PROFILE -->
    <a href = "https://www.nicepng.com/ourpic/u2q8o0t4t4r5o0r5_website-under-construction-png-graphic-transparent-website-under/"><img src="https://img.shields.io/badge/Portfolio-4285F4?style=for-the-badge&logo=Google-chrome&logoColor=white" target="_blank"></a> <!-- ADD PORTFOLIO WEBSITE -->
    <a href="https://discord.gg" target="_blank"><img src="https://img.shields.io/badge/Discord-7289DA?style=for-the-badge&logo=discord&logoColor=white" target="_blank"></a> <!-- ADD DISCORD -->
    <a href = "mailto:mao1910dev@gmail.com"><img src="https://img.shields.io/badge/Gmail-D14836?style=for-the-badge&logo=gmail&logoColor=white" target="_blank"></a>
  </div>


<!-- SPOTIFY PLAYING-->
<!-- https://github.com/novatorem/novatorem -->
<!-- https://spotify-now-playing-novatorem-git-main-mao1910.vercel.app/ My own Vercel deployment-->

[<img width=438px src="https://spotify-now-playing-git-main-mao1910.vercel.app//api/spotify/?border_color=FE6E96" alt="Mao Spotify Now Playing" />](https://open.spotify.com/user/31542et242zglhf42ydrtqgvuvde)


<!-- JOKE OF THE DAY -->
<!-- https://github.com/ABSphreak/readme-jokes -->
<!-- https://readme-jokes-git-master-mao1910.vercel.app/ My own Vercel deployment-->

<details>
<summary>I've got a Joke for you. Wanna hear it? üôà</summary>

<br/>

 <tr>
 <td style="padding-top:4px"><img src = "https://readme-jokes-git-master-mao1910.vercel.app/api?&theme=dracula"></td>
 </tr>

</details>


<!-- RSS FEED -->
<!-- https://github.com/gautamkrishnar/blog-post-workflow -->

<details>
<summary>üìï &nbsp;RSS feed</summary>

<br/>

<!-- BLOG-POST-LIST:START -->
 #### - [Book Club: Grokking Algorithms. 6: Dynamic programming and k-nearest neighbours](https://dev.to/ruthmoog/book-club-grokking-algorithms-6-dynamic-programming-and-k-nearest-neighbours-81f) 
 <details><summary>Article</summary> <h4>
  
  
  <strong>Grokking Algorithms</strong> An <em>illustrated</em> guide for programmers and other curious people, by Aditya Y. Bhargava
</h4>




<h2>
  
  
  Chapter 9: Dynamic Programming
</h2>

<h2>
  
  
  Chapter 10: K-nearest Neighbours
</h2>

<p>If you read any of these chapters, please go ahead and discuss what you thought in the comments! </p>

<p>üìù you can read my notes below.</p>

<p>üìÜ The next post will be on the final chapter, chapter 11. I'll aim for end of September 2023.<br>
If you're on <a href="https://app.thestorygraph.com/profile/ruthmoog">Storygraph</a> and want to join me, say hi and I'll start a Buddy Read.</p>




<h2>
  
  
  Dynamic Programming
</h2>

<p>Key topics covered <code>prioritisation</code>, <code>Levenshtein distance</code> ...</p>

<p><em>Solve sub-problems to solve bigger problems</em> with <em>dynamic programming</em> (not to be confused with dynamic programming language). Start by using a grid of sub-problems x scenarios. Always start with a grid, and the cells are usually filled with what you're trying to optimise. Each cell will be a sub-problem.</p>

<p>The order of the rows doesn't matter, but the column vs row axes <em>can matter</em>. Adding another item to your grid might mean you have to recalculate at a finer granularity e.g. size in .5lb increments.</p>

<p>There is no solution in dynamic programming for splitting the existing items - you would use a greedy algorithm for that.<br>
<em>Dynamic programming</em> only works when each sub-problem is discrete (doesn't depend on other problems), but it's possible for sub-problems to have <em>their own</em> sub-problems.</p>




<h2>
  
  
  K-nearest Neighbors
</h2>

<p>Key topics covered <code>feature extraction</code>, <code>regression</code>, <code>prediction</code>, <code>use cases</code>, <code>limitations</code>, <code>classification</code>, <code>normalization / normalisation</code>, <code>weighting</code>, <code>machine learning</code>, <code>pythagorean formula</code>, <code>OCR</code>, <code>optical character recognition</code>, <code>Naive Bayes classifyer</code> ...</p>

<p>The K-nearest neighbor (KNN) algorithm is simple and the first choice if you want to classify something. It depends on <em>feature extraction</em>; you have to think about many different considerations to pick the right features. You should choose,</p>

<ul>
<li>features that correlate to what you're trying to classify or regress</li>
<li>features that don't have a bias (e.g if you ask a group how much they like cats, you won't know how much they like dogs</li>
</ul>

<p>Use the chosen features to plot items on a graph, so you can find the distance between then using the Pythagorean formula <code>a2 + b2 = c2</code>, or for an x-y graph, <em>distance</em> = ‚àö(x1-x2)<sup>2</sup> + (y1-y2)<sup>2</sup>.<br>
The same formula can be used to calculate the distance in <em>several</em> dimensions.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--lUhzM6Kn--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://github.com/egonSchiele/grokking_algorithms/blob/master/images/10_k_nearest_neighbors/102_building_a_recommendations_system/justin_likes_a_movie.png%3Fraw%3Dtrue" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--lUhzM6Kn--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://github.com/egonSchiele/grokking_algorithms/blob/master/images/10_k_nearest_neighbors/102_building_a_recommendations_system/justin_likes_a_movie.png%3Fraw%3Dtrue" alt="Justin likes a movie" width="800" height="231"></a></p>
<sup>copyright Manning Publications, drawn by adit.io</sup>



<ul>
<li><p><strong>Normalisation</strong> allows you to compare ratings at the same scale, by adjusting the overall average ratings to be comparable.</p></li>
<li><p><strong>Weighting</strong> lets you prioritise particular given points as more influential in your calculation. It's like giving special points an extra vote.</p></li>
<li><p><strong>Regression</strong> is when you use the k-nearest neighbours to forecast or predict an outcome, by taking the average of the k-nearest neighbours.</p></li>
<li><p><strong>Naive Bayes classifier</strong> spam filters use this algorithm which is similar to KNN; you train your classifier on some data (e.g. "legit email subject" = not spam / "you won $ sign up now!!1" = spam). Naive Bayes figures out the probability that each word would show up in a spam email. This wouldn't work well for something like predicting the stock market, because there are no good features to use for regression.</p></li>
<li><p><strong>OCR (Optical Character Recognition)</strong> Is when you take a photo of text and the computer can automatically read or digitise the text for you - 1. Learn on a bunch of images the features of a text character (this is called training), then 2. when you have a new image, extract the features and see what it's nearest neighbours are. Generally, OCR algorithms measure lines, points and curves. The same ideas are used for speech or face recognition.</p></li>
</ul>




<h3>
  
  
  ¬†Key Takeaways
</h3>

<ol>
<li>
<em>Dynamic programming</em> is useful when you want to optimise given a constraint (e.g. the max value of goods you can fit in a bag). Use it when,</li>
</ol>

<ul>
<li>the problem can be broken into smaller problems</li>
<li>the smaller problems don't depend on each other</li>
</ul>

<ol>
<li><p>The values in the cells are (usually) what you want to optimise</p></li>
<li><p>Theres no single formula for calculating a <em>dynamic programming solution</em></p></li>
<li><p>KNN is used for classification (categorising things into groups) and regression (predicting a response).</p></li>
<li><p>Feature extraction means converting an item into a comparable like a number.</p></li>
<li><p>Picking good features is important for KNN to be successful.</p></li>
</ol>




<h2>
  
  
  Discussion
</h2>

<ol>
<li>Can you think of any other real-world examples that might use dynamic programming to find a longest common sub-string? The examples in the chapter were <a href="https://bio.libretexts.org/Bookshelves/Computational_Biology/Book%3A_Computational_Biology_-_Genomes_Networks_and_Evolution_(Kellis_et_al.)/02%3A_Sequence_Alignment_and_Dynamic_Programming/2.02%3A_Aligning_Sequences">DNA sequence alignment</a>, <a href="https://en.wikipedia.org/wiki/Line_wrap_and_word_wrap">word wrap</a> in word processing, <a href="https://www.atlassian.com/git/tutorials/saving-changes/git-diff"><code>git diff</code></a>, <a href="https://en.wikipedia.org/wiki/Spell_checker">spell check</a>, and <a href="https://en.wikipedia.org/wiki/Content_similarity_detection">plagiarism detection</a>
</li>
<li>Have you written a program using a dynamic programming formula - what did you learn when applying the formula in code? Did you use a grid?</li>
<li>Have you worked on feature extraction? How were the features chosen? Were they the right features?</li>
</ol>

 </details> 
 <hr /> 

 #### - [üí• Building a Next.js 13 Todo app with Prisma and passkey authentication by Hanko ü§Ø](https://dev.to/hanko/building-a-nextjs-13-todo-app-with-prisma-and-passkey-authentication-by-hanko-4o8a) 
 <details><summary>Article</summary> <p>In this tutorial, you‚Äôll learn how to build a Todo app with the Next.js 13 popular ‚ÄúApp Router‚Äù structure and understand some of the most important changes that come with it. </p>

<p>We will build a fully functional Todo app:</p>

<ul>
<li>Create todo</li>
<li>Check and delete a single item</li>
<li>Delete all todos</li>
</ul>

<p>We will use Hanko for:</p>

<ul>
<li>Login and registration</li>
<li>User management</li>
<li>Logout</li>
</ul>

<p>Prisma will handle the storage.</p>




<h2>
  
  
  Where should we start? üë∑üèª‚Äç‚ôÇÔ∏è
</h2>

<p>Dealing with complicated frameworks can steal the joy from the beautiful process of creating something from scratch, that‚Äôs why finding the right stack for our project is a big step. In this guide, I‚Äôve decided to bring Next.js as the main character of this project because of the amazing opportunity to test the crazy twist they brought with all these ‚Äúuse server‚Äù vs ‚Äúuse client‚Äù implementations. Also when you are creating the new app, Next.js makes it very simple by giving you the option to integrate everything you‚Äôll probably need like Typescript, ESLint and Tailwind CSS, and yes, we‚Äôll use them all!</p>

<h3>
  
  
  Tailwind CSS
</h3>

<p>For most of the project, I will use Tailwind CSS to style, because I just find it super easy to implement and to bring life into the app, when it comes to code maintenance it‚Äôs easy to read and immediately know what is going on in the exact element and Tailwind just makes working with CSS enjoyable. </p>

<h3>
  
  
  Prisma
</h3>

<p>In this app, we don‚Äôt need a lot when it comes to where we will store the data, and Prisma is just perfect for what we need for the ‚Äútodos‚Äù to be properly created, updated, and/or deleted.</p>

<h3>
  
  
  Hanko
</h3>

<p>When it comes to securing an app the first thing that comes into play is the combination of building, configuring and styling the login and sign-up on the frontend, and then the complexity of the backend with the functionality, authentication, handling errors, and all the details needed to have a successful and secure ‚Äúuser session‚Äù. Here is where Hanko enters the game, taking care of the login, registration, user management and logout, giving us the freedom to be able to spend more time and focus on the other parts of the project. </p>

<blockquote>
<p><em>‚ÄúBuild the best login you have ever seen‚Äù</em> </p>
</blockquote>

<p>Hanko is an open-source authentication solution focused on taking the development experience to a new level. You can decide what type of information your app will require for the login like email &amp; password, passkeys, email passcodes, and 3rd-party identity providers. Then you can be as creative as you like by styling Hanko's Web Components.</p>




<h2>
  
  
  We are ready to set it üÜô
</h2>

<p>Here I'll walk you through creating the project setup for the application. Make sure to have the latest version of Node.js installed.</p>

<h3>
  
  
  Create a new Next.js app
</h3>

<p>To create a new Next.js app, we can use the <code>create-next-app</code> or <code>create-next-app@latest</code> command-line tool followed by the name of your choice for the app. Open your terminal in Visual Studio Code and run the following command:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code> npx  create-next-app@latest todo-nextjs-hanko 
</code></pre>

</div>



<p>This will start the process of creating the project, you will then be asked some prompts on what you will use for the app. The project configuration options should look something like:</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--Ab3QCzLQ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/8djxl7jl42xl90wpps1b.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--Ab3QCzLQ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/8djxl7jl42xl90wpps1b.png" alt="Pre-config Next.js prompts" width="800" height="208"></a></p>

<p>The above choices will create a new Next.js app with the chosen name, all the required dependencies for this project will also be installed.</p>

<h4>
  
  
  Understanding the project structure
</h4>

<p>When using version 13 of Next.js, we have the option to work with the App Router directory instead of the Pages Router, for a quick summary we could say that:</p>

<ul>
<li>The new directory named ‚Äúapp‚Äù is replacing ‚Äúpages‚Äù</li>
<li>‚Äúpage.tsx|page.jsx‚Äù is the new ‚Äúindex.tsx|index.jsx‚Äù </li>
<li>‚Äúlayout.tsx‚Äù is the new ‚Äú_app.tsx‚Äù</li>
<li>Everything is a Server Component unless you make it a Client Component using the ‚Äúuse client‚Äù directive at the top of the file.</li>
<li>API Routes are now Server Components or Route Handlers</li>
</ul>

<p>Remove unnecessary files, such as logos, icons, etc. If you are going to use Tailwind CSS make sure to bring your desired configuration to the <code>tailwind.config.ts</code> file, defining your color palette, fonts, breakpoints, etc.</p>

<p>‚ÑπÔ∏è For more information about the App Router of Next.js click <a href="https://nextjs.org/docs">here</a>.</p>

<h3>
  
  
  Get Prisma started
</h3>

<p>Install the Prisma CLI as a development dependency in the project:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code> npm install prisma --save-dev
</code></pre>

</div>



<p>Set up Prisma with the init command of the Prisma CLI:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code> npx prisma init --datasource-provider sqlite

</code></pre>

</div>



<p>This creates a new <code>prisma</code> directory with your Prisma schema file and configures SQLite as your database. Once we also create the "Todo" model, the Prisma schema file should look like this:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Todo {

 id String @id @default(uuid())
  title String
  complete Boolean
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}
</code></pre>

</div>



<p>At this point, you have a Prisma schema but no database yet. Run the following command in your terminal to create the SQLite database and the Todo table:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code> $ npx prisma migrate dev --name init
</code></pre>

</div>



<p>This command did two things:</p>

<ol>
<li><p>It creates a new SQL migration file for this migration in the <code>prisma/migrations</code> directory.</p></li>
<li><p>It runs the SQL migration file against the database.</p></li>
</ol>

<p>Because the SQLite database file didn't exist before, the command also created it inside the <code>prisma</code> directory with the name <code>dev.db</code> as defined via the environment variable in the <code>.env</code> file.</p>

<p>To prevent problems when instantiating PrismaClient, on the Prisma Docs there‚Äôs a <a href="https://www.prisma.io/docs/guides/other/troubleshooting-orm/help-articles/nextjs-prisma-client-dev-practices">section</a> dedicated to the best practice to do it. Let‚Äôs try it by creating a <code>db.ts</code> file in the root of the app and add the following code inside:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">PrismaClient</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@prisma/client</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">globalForPrisma</span> <span class="o">=</span> <span class="nx">globalThis</span> <span class="k">as</span> <span class="nx">unknown</span> <span class="k">as</span> <span class="p">{</span>
  <span class="na">prisma</span><span class="p">:</span> <span class="nx">PrismaClient</span> <span class="o">|</span> <span class="kc">undefined</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">prisma</span> <span class="o">=</span> <span class="nx">globalForPrisma</span><span class="p">.</span><span class="nx">prisma</span> <span class="o">??</span> <span class="k">new</span> <span class="nx">PrismaClient</span><span class="p">();</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">NODE_ENV</span> <span class="o">!==</span> <span class="dl">"</span><span class="s2">production</span><span class="dl">"</span><span class="p">)</span> <span class="nx">globalForPrisma</span><span class="p">.</span><span class="nx">prisma</span> <span class="o">=</span> <span class="nx">prisma</span><span class="p">;</span>

</code></pre>

</div>



<p>‚ÑπÔ∏è For more information about Prisma integration click <a href="https://www.prisma.io/docs/getting-started">here</a>.</p>




<h2>
  
  
  Building the user interface üõ†Ô∏è
</h2>

<p>Keeping in mind that we want to build a simple "todo app" with a nice login to protect the todos, we will only need two pages:</p>

<ul>
<li>The login page where the Hanko-auth component will play its part in handling authentication.</li>
<li>The todo page where all the todos will be displayed. </li>
</ul>

<h3>
  
  
  App structure
</h3>

<p>In the App Router directory, the <code>page.tsx</code> is like the new <code>index.tsx</code>, which means that this name will play an important role when creating a new route. You can define a page by exporting a component from a <code>page.tsx</code> file.</p>

<p>Now you can update the <code>page.tsx</code> file to display "Hello World" as done below.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code> <span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">Home</span><span class="p">()</span> <span class="p">{</span>
<span class="k">return</span> <span class="p">(</span>
<span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span> 
   <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Hello</span> <span class="nx">World</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>

</div>



<p>We will get back to it later to add a nice login with Hanko.</p>

<h3>
  
  
  The Todo page
</h3>

<p>We will style this page using Tailwind CSS classes to simply create a centered container to display the todos. We need a form with an input to create the new todos, and every todo element will have a checkbox and a delete button. Inside the <code>app</code> directory, create a new <code>todo</code> folder with a <code>page.tsx</code> file inside of it. Use  the code below as the <code>todo/page.tsx</code> contents:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">Todo</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">main</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2"> flex min-h-screen justify-center items-center bg-slate-50 </span><span class="dl">"</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">bg-slate-300 rounded-3xl py-6  h-[400px] w-[450px] flex flex-col text-slate-800</span><span class="dl">"</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">h1</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">text-3xl text-center</span><span class="dl">"</span><span class="o">&gt;</span><span class="nx">My</span> <span class="nx">to</span> <span class="nx">dos</span><span class="o">&lt;</span><span class="sr">/h1</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">mx-8 mt-4 mb-6</span><span class="dl">"</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">form</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">flex gap-3 items-center</span><span class="dl">"</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">input</span>
              <span class="nx">type</span><span class="o">=</span><span class="dl">"</span><span class="s2">text</span><span class="dl">"</span>
              <span class="nx">name</span><span class="o">=</span><span class="dl">"</span><span class="s2">title</span><span class="dl">"</span>
              <span class="nx">placeholder</span><span class="o">=</span><span class="dl">"</span><span class="s2">New todo</span><span class="dl">"</span>
              <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2"> border border-slate-400 rounded-full flex-1  py-1 px-2 outline-none focus-within:border-slate-100 bg-slate-50 focus-within:bg-slate-100 placeholder:text-slate-300</span><span class="dl">"</span>
              <span class="nx">required</span>
            <span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">  bg-slate-50 rounded-full p-1 border border-slate-400 text-slate-400 hover:text-slate-500 text-base hover:ring-0 hover:ring-slate-100 hover:border-slate-500</span><span class="dl">"</span><span class="o">&gt;</span>
              <span class="o">&lt;</span><span class="nx">p</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2"> text-center</span><span class="dl">"</span><span class="o">&gt;</span>
             <span class="o">+</span>
              <span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>          <span class="o">&lt;</span><span class="sr">/form</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">ul</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">px-6</span><span class="dl">"</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">li</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">flex px-4</span><span class="dl">"</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">span</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">flex gap-2 flex-1</span><span class="dl">"</span><span class="o">&gt;</span>
              <span class="o">&lt;</span><span class="nx">input</span>
                <span class="nx">type</span><span class="o">=</span><span class="dl">"</span><span class="s2">checkbox</span><span class="dl">"</span>
                <span class="nx">name</span><span class="o">=</span><span class="dl">"</span><span class="s2">check</span><span class="dl">"</span>
                <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">peer cursor-pointer accent-slate-300 </span><span class="dl">"</span>
              <span class="o">/&gt;</span>
              <span class="o">&lt;</span><span class="nx">label</span>
                <span class="nx">htmlFor</span><span class="o">=</span><span class="dl">""</span>
                <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">peer-checked:line-through peer-checked:text-slate-500 cursor-pointer</span><span class="dl">"</span>
              <span class="o">&gt;</span>
                <span class="nx">Todo</span> <span class="mi">1</span>
              <span class="o">&lt;</span><span class="sr">/label</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">text-slate-500  hover:text-slate-800 mr-3</span><span class="dl">"</span><span class="o">&gt;</span>
              <span class="nx">X</span>
            <span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>          <span class="o">&lt;</span><span class="sr">/li</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/ul</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/main</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>

</code></pre>

</div>



<p>üö® For a better UI use SVGs or icons inside the buttons.</p>

<p>‚ÑπÔ∏è For a better understanding of the Tailwind CSS classes click <a href="https://tailwindcomponents.com/cheatsheet/">here</a>.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--vLwMyo4d--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ii3eqzip8vz09j4h3wg3.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--vLwMyo4d--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ii3eqzip8vz09j4h3wg3.png" alt="Image description" width="494" height="677"></a></p>




<h2>
  
  
  Todos in the making üöß
</h2>

<p>To make our app functional, we need to be able to create a new todo, then check the todo once it‚Äôs completed and finally be able to remove a single todo from the list. </p>

<h3>
  
  
  API Routes in Next.js 13
</h3>

<p>When using the App Router of Next.js 13, the API Routes are replaced by Route Handlers and they are defined in a <code>route.ts|js</code> file inside the <code>app</code> directory. There  cannot be a <code>route</code> file at the same route segment level as a <code>page.tsx</code>. Read more about the Route Handlers in the <a href="https://nextjs.org/docs/app/building-your-application/routing/route-handlers">Next.js Docs</a>.</p>

<p>Inside the <code>app</code> directory create an <code>api</code> folder. We will group our Route Handlers as follows: one directory <code>todo</code> with a <code>route.ts</code> which will contain the <code>POST</code> HTTP method handler for creating a new todo, and in that same directory we will use a dynamic route to <code>GET</code> and <code>DELETE</code> todos. Should look like the following example:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>api
‚îî‚îÄ‚îÄ todo
    ‚îú‚îÄ‚îÄ [id]
    ‚îÇ   ‚îî‚îÄ‚îÄ route.ts
    ‚îî‚îÄ‚îÄ route.ts
</code></pre>

</div>



<h3>
  
  
  New Todo
</h3>

<p>Let‚Äôs start by creating a todo. This is a good moment to start breaking it down into components, let‚Äôs first create a <code>components</code> folder at the root directory, then create a <code>components/todos/NewTodo.tsx</code> file and use the following as its contents:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="dl">"</span><span class="s2">use client</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">useState</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">useRouter</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">next/navigation</span><span class="dl">"</span><span class="p">;</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">NewTodo</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">newItem</span><span class="p">,</span> <span class="nx">setNewItem</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="dl">""</span><span class="p">);</span>

  <span class="kd">const</span> <span class="nx">router</span> <span class="o">=</span> <span class="nx">useRouter</span><span class="p">();</span>
  <span class="kd">const</span> <span class="nx">create</span> <span class="o">=</span> <span class="k">async</span> <span class="p">(</span><span class="na">e</span><span class="p">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">SyntheticEvent</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
    <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="s2">`/api/todo`</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">credentials</span><span class="p">:</span> <span class="dl">"</span><span class="s2">include</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
      <span class="p">},</span>
      <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
        <span class="na">title</span><span class="p">:</span> <span class="nx">newItem</span><span class="p">,</span>
      <span class="p">}),</span>
    <span class="p">});</span>

    <span class="nx">router</span><span class="p">.</span><span class="nx">refresh</span><span class="p">();</span>
    <span class="nx">setNewItem</span><span class="p">(</span><span class="dl">""</span><span class="p">);</span>
  <span class="p">};</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">mx-8 mt-4 mb-6</span><span class="dl">"</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">form</span> <span class="nx">onSubmit</span><span class="o">=</span><span class="p">{</span><span class="nx">create</span><span class="p">}</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">flex gap-3 items-center</span><span class="dl">"</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">input</span>
          <span class="nx">type</span><span class="o">=</span><span class="dl">"</span><span class="s2">text</span><span class="dl">"</span>
          <span class="nx">name</span><span class="o">=</span><span class="dl">"</span><span class="s2">title</span><span class="dl">"</span>
          <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">newItem</span><span class="p">}</span>
          <span class="nx">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">setNewItem</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">)}</span>
          <span class="nx">placeholder</span><span class="o">=</span><span class="dl">"</span><span class="s2">New todo</span><span class="dl">"</span>
          <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2"> border border-slate-400 rounded-full flex-1  py-1 px-2 outline-none focus-within:border-slate-100 bg-slate-50 focus-within:bg-slate-100 placeholder:text-slate-300</span><span class="dl">"</span>
          <span class="nx">required</span>
        <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="nx">button</span>
          <span class="nx">type</span><span class="o">=</span><span class="dl">"</span><span class="s2">submit</span><span class="dl">"</span>
          <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">  bg-slate-50 rounded-full p-1 border border-slate-400 text-slate-400 hover:text-slate-500 text-base hover:ring-0 hover:ring-slate-100 hover:border-slate-500</span><span class="dl">"</span>
        <span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">p</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2"> text-center</span><span class="dl">"</span><span class="o">&gt;+&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="sr">/form</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>

</code></pre>

</div>



<p>This is a good example of where to bring the "use client" directive to the game, since we are using <code>useState()</code> and subscribing to interactive events. </p>

<p>This is how we call Prisma to create the todo inside the <code>api/todo/route.ts</code> Route Handler:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">NextResponse</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">next/server</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">prisma</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@/db</span><span class="dl">"</span><span class="p">;</span>

<span class="k">export</span> <span class="k">async</span> <span class="kd">function</span> <span class="nx">POST</span><span class="p">(</span><span class="nx">req</span><span class="p">:</span> <span class="nx">Request</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">{</span> <span class="nx">title</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">req</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>

  <span class="k">await</span> <span class="nx">prisma</span><span class="p">.</span><span class="nx">todo</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
    <span class="na">data</span><span class="p">:</span> <span class="p">{</span> <span class="nx">title</span><span class="p">,</span> <span class="na">complete</span><span class="p">:</span> <span class="kc">false</span> <span class="p">},</span>
  <span class="p">});</span>

  <span class="k">return</span> <span class="nx">NextResponse</span><span class="p">.</span><span class="nx">json</span><span class="p">({</span> <span class="na">message</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Created Todo</span><span class="dl">"</span> <span class="p">},</span> <span class="p">{</span> <span class="na">status</span><span class="p">:</span> <span class="mi">200</span> <span class="p">});</span>
<span class="p">}</span>
</code></pre>

</div>



<p>You can decide how to check for the right values to be passed and how to handle the errors in the Route Handlers. </p>

<p>Let‚Äôs test the "all server components" until we say the opposite from Next.js 13 by calling Prisma from the <code>todo/page.tsx</code> file to get all our todos, then we pass them to our <code>components/todos/TodoItem.tsx</code> file to be displayed. This is how the <code>todo/page.tsx</code> should look after our changes:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">NewTodo</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@/components/todos/NewTodo</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">TodoItem</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@/components/todos/TodoItem</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">prisma</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@/db</span><span class="dl">"</span><span class="p">;</span>

<span class="k">export</span> <span class="k">default</span> <span class="k">async</span> <span class="kd">function</span> <span class="nx">Todo</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">todos</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">prisma</span><span class="p">.</span><span class="nx">todo</span><span class="p">.</span><span class="nx">findMany</span><span class="p">();</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">main</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2"> flex min-h-screen justify-center items-center bg-slate-50 </span><span class="dl">"</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">bg-slate-300 rounded-3xl py-6  h-[400px] w-[450px] flex flex-col text-slate-800</span><span class="dl">"</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">h1</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">text-3xl text-center</span><span class="dl">"</span><span class="o">&gt;</span><span class="nx">My</span> <span class="nx">to</span> <span class="nx">dos</span><span class="o">&lt;</span><span class="sr">/h1</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">NewTodo</span> <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="nx">ul</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">px-6</span><span class="dl">"</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">TodoItem</span>  <span class="nx">todos</span><span class="o">=</span><span class="p">{</span><span class="nx">todos</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/ul</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/main</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>
</code></pre>

</div>



<p>üö® Client Components themselves cannot be async functions (<a href="https://nextjs.org/docs/messages/no-async-client-component">official FAQ</a>). And Prisma will break the app if you try to call it inside a Client Component.</p>

<h3>
  
  
  Update and Delete todo by ID ‚úÖ
</h3>

<p>Now we already have a way to create a new todo and to display the list of all the todos, in the next step we need a way to handle marking a todo as completed and to handle the deletion of a todo. Accordingly, we create <code>update</code> and <code>delete</code> functions that fetch our dynamic route. This would be the <code>components/todos/TodoItem.tsx</code> file:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="dl">"</span><span class="s2">use client</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">useRouter</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">next/navigation</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Todo</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@prisma/client</span><span class="dl">"</span><span class="p">;</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">TodoItem</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">todos</span> <span class="p">}:</span> <span class="p">{</span> <span class="nl">todos</span><span class="p">:</span> <span class="nx">Todo</span><span class="p">[]</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">router</span> <span class="o">=</span> <span class="nx">useRouter</span><span class="p">();</span>
  <span class="kd">const</span> <span class="nx">update</span> <span class="o">=</span> <span class="k">async</span> <span class="p">(</span><span class="na">todo</span><span class="p">:</span> <span class="nx">Todo</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="s2">`/api/todo/</span><span class="p">${</span><span class="nx">todo</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">PATCH</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
      <span class="p">},</span>
      <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
        <span class="na">completed</span><span class="p">:</span> <span class="o">!</span><span class="nx">todo</span><span class="p">.</span><span class="nx">complete</span><span class="p">,</span>
      <span class="p">}),</span>
    <span class="p">});</span>
    <span class="nx">router</span><span class="p">.</span><span class="nx">refresh</span><span class="p">();</span>
  <span class="p">};</span>

  <span class="kd">const</span> <span class="nx">deleteTodo</span> <span class="o">=</span> <span class="k">async</span> <span class="p">(</span><span class="na">todo</span><span class="p">:</span> <span class="nx">Todo</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="s2">`/api/todo/</span><span class="p">${</span><span class="nx">todo</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">DELETE</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
      <span class="p">},</span>
      <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
        <span class="na">id</span><span class="p">:</span> <span class="nx">todo</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span>
      <span class="p">}),</span>
    <span class="p">});</span>

    <span class="nx">router</span><span class="p">.</span><span class="nx">refresh</span><span class="p">();</span>
  <span class="p">};</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;&gt;</span>
      <span class="p">{</span><span class="nx">todos</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">todo</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">return</span> <span class="p">(</span>
          <span class="o">&lt;</span><span class="nx">li</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">todo</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">flex px-4</span><span class="dl">"</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">span</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">flex gap-2 flex-1</span><span class="dl">"</span><span class="o">&gt;</span>
              <span class="o">&lt;</span><span class="nx">input</span>
                <span class="nx">type</span><span class="o">=</span><span class="dl">"</span><span class="s2">checkbox</span><span class="dl">"</span>
                <span class="nx">name</span><span class="o">=</span><span class="dl">"</span><span class="s2">check</span><span class="dl">"</span>
                <span class="nx">checked</span><span class="o">=</span><span class="p">{</span><span class="nx">todo</span><span class="p">.</span><span class="nx">complete</span><span class="p">}</span>
                <span class="nx">onChange</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="nx">update</span><span class="p">(</span><span class="nx">todo</span><span class="p">)}</span>
                <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">peer cursor-pointer accent-slate-300 </span><span class="dl">"</span>
              <span class="o">/&gt;</span>
              <span class="o">&lt;</span><span class="nx">label</span>
                <span class="nx">htmlFor</span><span class="o">=</span><span class="p">{</span><span class="nx">todo</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span>
                <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">peer-checked:line-through peer-checked:text-slate-500 cursor-pointer</span><span class="dl">"</span>
              <span class="o">&gt;</span>
                <span class="p">{</span><span class="nx">todo</span><span class="p">.</span><span class="nx">title</span><span class="p">}</span>
              <span class="o">&lt;</span><span class="sr">/label</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="nx">button</span>
              <span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="nx">deleteTodo</span><span class="p">(</span><span class="nx">todo</span><span class="p">)}</span>
              <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">text-slate-500  hover:text-slate-800 mr-3</span><span class="dl">"</span>
            <span class="o">&gt;</span>
              <span class="nx">X</span>
            <span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>          <span class="o">&lt;</span><span class="sr">/li</span><span class="err">&gt;
</span>        <span class="p">);</span>
      <span class="p">})}</span>
    <span class="o">&lt;</span><span class="sr">/</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">};</span>
</code></pre>

</div>



<p>Add the following code inside the <code>api/todo/[id]/route.ts</code> Route Handler:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">NextResponse</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">next/server</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">prisma</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@/db</span><span class="dl">"</span><span class="p">;</span>

<span class="k">export</span> <span class="k">async</span> <span class="kd">function</span> <span class="nx">PATCH</span><span class="p">(</span>
  <span class="nx">req</span><span class="p">:</span> <span class="nx">Request</span><span class="p">,</span>
  <span class="p">{</span> <span class="na">params</span><span class="p">:</span> <span class="p">{</span> <span class="nx">id</span> <span class="p">}</span> <span class="p">}:</span> <span class="p">{</span> <span class="nl">params</span><span class="p">:</span> <span class="p">{</span> <span class="na">id</span><span class="p">:</span> <span class="nx">string</span> <span class="p">}</span> <span class="p">}</span>
<span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">{</span> <span class="nx">completed</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">req</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>

  <span class="k">await</span> <span class="nx">prisma</span><span class="p">.</span><span class="nx">todo</span><span class="p">.</span><span class="nx">update</span><span class="p">({</span>
    <span class="na">where</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">id</span><span class="p">:</span> <span class="nx">id</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="na">data</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">complete</span><span class="p">:</span> <span class="nx">completed</span><span class="p">,</span>
    <span class="p">},</span>
  <span class="p">});</span>
  <span class="k">return</span> <span class="nx">NextResponse</span><span class="p">.</span><span class="nx">json</span><span class="p">({</span> <span class="na">message</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Updated</span><span class="dl">"</span> <span class="p">},</span> <span class="p">{</span> <span class="na">status</span><span class="p">:</span> <span class="mi">200</span> <span class="p">});</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">async</span> <span class="kd">function</span> <span class="nx">DELETE</span><span class="p">(</span><span class="nx">req</span><span class="p">:</span> <span class="nx">Request</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">{</span> <span class="nx">id</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">req</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>

  <span class="k">await</span> <span class="nx">prisma</span><span class="p">.</span><span class="nx">todo</span><span class="p">.</span><span class="k">delete</span><span class="p">({</span>
    <span class="na">where</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">id</span><span class="p">:</span> <span class="nx">id</span><span class="p">,</span>
    <span class="p">},</span>
  <span class="p">});</span>
  <span class="k">return</span> <span class="nx">NextResponse</span><span class="p">.</span><span class="nx">json</span><span class="p">({</span> <span class="na">message</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Deleted Item</span><span class="dl">"</span> <span class="p">},</span> <span class="p">{</span> <span class="na">status</span><span class="p">:</span> <span class="mi">200</span> <span class="p">});</span>
<span class="p">}</span>
</code></pre>

</div>



<p>‚ÑπÔ∏è For more information on the Prisma Client Api click <a href="https://www.prisma.io/docs/reference/api-reference/prisma-client-reference">here</a>.</p>




<h2>
  
  
  Authentication by Hanko
</h2>

<p>By now you should have a fully functional todo app running. We should start working on the security.</p>

<p>If you‚Äôre familiar with Hanko you can skip the next step, otherwise keep on reading to get started with Hanko Cloud to get your Hanko API running. </p>

<h3>
  
  
  Hanko Cloud setup ‚òÅÔ∏è
</h3>

<p>Visit <a href="https://cloud.hanko.io/login">Hanko Cloud</a> and create an account. Then create an organization for your Hanko project. </p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--RRi9BWGg--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/x8vho8qsrbkkthn6602t.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--RRi9BWGg--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/x8vho8qsrbkkthn6602t.png" alt="Create a Hanko Organization" width="800" height="491"></a></p>

<p>Then create a new project and set the App URL to your development URL (example: <a href="http://localhost:3000):">http://localhost:3000):</a></p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--0eEhvWOz--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/hgfioy9p3wet6t5fe7sn.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--0eEhvWOz--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/hgfioy9p3wet6t5fe7sn.png" alt="Hanko Cloud Project" width="800" height="713"></a></p>

<p>And that‚Äôs all! Now you can always return to your Hanko Cloud dashboard to see your API URL and other insights about your project, you can also change the app URL in the settings, so that once you want to move from "development" to "production", you can change it to a proper domain/URL. Take the time to discover all the features.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--VMlaAqCl--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/jvan097duorvng3c1my0.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--VMlaAqCl--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/jvan097duorvng3c1my0.png" alt="Hanko Cloud dashboard" width="800" height="450"></a></p>

<h3>
  
  
  Adding Hanko to the Next.js app
</h3>

<p>Hanko is a lightweight and easy to implement user authentication solution that makes the transition to passkeys a lot simpler. Let‚Äôs bring Hanko to the game by installing the package running the code below:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>npm install @teamhanko/hanko-elements
</code></pre>

</div>



<p>First, let‚Äôs update our "Home" page and rename the function to "Login". Import the register function from <code>@teamhanko/hanko-elements</code>, and call the function with the Hanko API URL as an argument to register the <code>&lt;hanko-auth&gt;</code>. Now include it in your JSX:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="dl">"</span><span class="s2">use client</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">useEffect</span><span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">register</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@teamhanko/hanko-elements</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">hankoApi</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">YOUR_HANKO_API_URL</span><span class="dl">"</span><span class="p">;</span>
<span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">Login</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">//</span>
    <span class="nx">register</span><span class="p">(</span><span class="nx">hankoApi</span> <span class="o">??</span> <span class="dl">""</span><span class="p">).</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">},</span> <span class="p">[]);</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">flex min-h-screen justify-center items-center </span><span class="dl">"</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">hanko</span><span class="o">-</span><span class="nx">auth</span> <span class="o">/&gt;</span>
    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>
</code></pre>

</div>



<p>The code snippet above should display the Hanko authentication component:</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--ofpKfC0H--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ma10mk3z4sk7h925v03t.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--ofpKfC0H--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ma10mk3z4sk7h925v03t.png" alt="Hanko Authentication component" width="468" height="269"></a></p>

<p>The <code>&lt;hanko-profile&gt;</code> component offers a page for managing email addresses and passkeys, and we want to get access to it. Let's create a profile button component by creating a file <code>components/Profile.tsx</code> and use the following code as its content:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="dl">"</span><span class="s2">use client</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">useEffect</span><span class="p">,</span> <span class="nx">useState</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">register</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@teamhanko/hanko-elements</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">hankoApi</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">YOUR_HANKO_API_URL</span><span class="dl">"</span><span class="p">;</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">Profile</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">openState</span><span class="p">,</span> <span class="nx">setOpenState</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>

  <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">register</span><span class="p">(</span><span class="nx">hankoApi</span> <span class="o">??</span> <span class="dl">""</span><span class="p">).</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">},</span> <span class="p">[]);</span>

  <span class="kd">const</span> <span class="nx">openProfile</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">setOpenState</span><span class="p">(</span><span class="o">!</span><span class="nx">openState</span><span class="p">);</span>
  <span class="p">};</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;&gt;</span>
      <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">type</span><span class="o">=</span><span class="dl">"</span><span class="s2">button</span><span class="dl">"</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">openProfile</span><span class="p">}</span><span class="o">&gt;</span>
        <span class="nx">Profile</span>
      <span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>      <span class="p">{</span><span class="nx">openState</span> <span class="o">&amp;&amp;</span> <span class="p">(</span>
        <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2"> absolute top-14 </span><span class="dl">"</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">section</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2"> w-[450px] h-auto rounded-2xl bg-white p-5</span><span class="dl">"</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">hanko</span><span class="o">-</span><span class="nx">profile</span> <span class="o">/&gt;</span>
          <span class="o">&lt;</span><span class="sr">/section</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>      <span class="p">)}</span>
    <span class="o">&lt;</span><span class="sr">/</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">};</span>
</code></pre>

</div>



<p>It should look like this:</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--c6V2FuSL--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/rmp0lj2lfwdg5kdzlp5c.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--c6V2FuSL--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/rmp0lj2lfwdg5kdzlp5c.png" alt="Hanko Profile Component" width="546" height="348"></a></p>

<p>Now let‚Äôs use <code>@teamhanko/hanko-elements</code> to manage user logouts by creating a logout button component. Create a file <code>components/Logout.tsx</code> and use the following as its content:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="dl">"</span><span class="s2">use client</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">useState</span><span class="p">,</span> <span class="nx">useEffect</span><span class="p">,</span> <span class="nx">useCallback</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">useRouter</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">next/navigation</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Hanko</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@teamhanko/hanko-elements</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">hankoApi</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">YOUR_HANKO_API_URL</span><span class="dl">"</span><span class="p">;</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">Logout</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">router</span> <span class="o">=</span> <span class="nx">useRouter</span><span class="p">();</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">hanko</span><span class="p">,</span> <span class="nx">setHanko</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="o">&lt;</span><span class="nx">Hanko</span><span class="o">&gt;</span><span class="p">();</span>

  <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">import</span><span class="p">(</span><span class="dl">"</span><span class="s2">@teamhanko/hanko-elements</span><span class="dl">"</span><span class="p">).</span><span class="nx">then</span><span class="p">(({</span> <span class="nx">Hanko</span> <span class="p">})</span> <span class="o">=&gt;</span>
      <span class="nx">setHanko</span><span class="p">(</span><span class="k">new</span> <span class="nx">Hanko</span><span class="p">(</span><span class="nx">hankoApi</span> <span class="o">??</span> <span class="dl">""</span><span class="p">))</span>
    <span class="p">);</span>
  <span class="p">},</span> <span class="p">[]);</span>

  <span class="kd">const</span> <span class="nx">logout</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">hanko</span><span class="p">?.</span><span class="nx">user</span>
      <span class="p">.</span><span class="nx">logout</span><span class="p">()</span>
      <span class="p">.</span><span class="nx">then</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">router</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="dl">"</span><span class="s2">/</span><span class="dl">"</span><span class="p">);</span>
        <span class="nx">router</span><span class="p">.</span><span class="nx">refresh</span><span class="p">();</span>
        <span class="k">return</span><span class="p">;</span>
      <span class="p">})</span>
      <span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
      <span class="p">});</span>
  <span class="p">};</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;&gt;</span>
      <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">type</span><span class="o">=</span><span class="dl">"</span><span class="s2">button</span><span class="dl">"</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">logout</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">Logout</span><span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">};</span>
</code></pre>

</div>



<p>When a user logs out, a specific event is triggered that you can subscribe to, like redirecting to an specific page after logout:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code>  <span class="kd">const</span> <span class="nx">renewSession</span> <span class="o">=</span> <span class="nx">useCallback</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">router</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="dl">"</span><span class="s2">/</span><span class="dl">"</span><span class="p">);</span>
  <span class="p">},</span> <span class="p">[</span><span class="nx">router</span><span class="p">]);</span>

  <span class="nx">useEffect</span><span class="p">(</span>
    <span class="p">()</span> <span class="o">=&gt;</span>
      <span class="nx">hanko</span><span class="p">?.</span><span class="nx">onSessionExpired</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">renewSession</span><span class="p">();</span>
      <span class="p">}),</span>

    <span class="p">[</span><span class="nx">hanko</span><span class="p">,</span> <span class="nx">renewSession</span><span class="p">]</span>
  <span class="p">);</span>
</code></pre>

</div>



<p>We will use both buttons at the top left of our <code>Todo</code> page.</p>

<p>‚ÑπÔ∏èFor more information about all the events that you can "listen" from the Hanko client click <a href="https://github.com/teamhanko/hanko/blob/main/frontend/elements/README.md#events">here</a>.</p>

<h3>
  
  
  Customizing Hanko Components
</h3>

<p>Hanko components are very easy to customize! To change the <code>&lt;hanko-auth &gt;</code> component, inside our <code>globals.css</code> file  we can change the default values of the preconfigured CSS variables listed <a href="https://github.com/teamhanko/hanko/blob/main/frontend/elements/README.md#css-variables">here</a> to change the default color for the primary button and the border-radius for example:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="p">:</span><span class="nx">root</span> <span class="p">{</span>
  <span class="o">--</span><span class="nx">border</span><span class="o">-</span><span class="nx">radius</span><span class="p">:</span> <span class="mi">20</span><span class="nx">px</span><span class="p">;</span>
  <span class="o">--</span><span class="nx">brand</span><span class="o">-</span><span class="nx">color</span><span class="p">:</span> <span class="err">#</span><span class="nx">ff2e4c</span><span class="p">;</span>
  <span class="o">--</span><span class="nx">brand</span><span class="o">-</span><span class="nx">color</span><span class="o">-</span><span class="nx">shade</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span> <span class="err">#</span><span class="nx">d52845</span><span class="p">;</span>
  <span class="o">--</span><span class="nx">brand</span><span class="o">-</span><span class="nx">color</span><span class="o">-</span><span class="nx">shade</span><span class="o">-</span><span class="mi">2</span><span class="p">:</span> <span class="err">#</span><span class="nx">d62a4c</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>

</div>



<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--22xaZc6V--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/294pv92652mcsrnnl9hd.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--22xaZc6V--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/294pv92652mcsrnnl9hd.png" alt="Hanko Login Red" width="509" height="272"></a></p>

<p>‚ÑπÔ∏è For more information on how to customize Hanko Components click <a href="https://github.com/teamhanko/hanko/blob/main/frontend/elements/README.md#ui-customization">here</a>.</p>




<h2>
  
  
  Verifying JWT with jose library
</h2>

<p>The JWT is signed by Hanko and to secure our app we still need to verify the JWT. </p>

<blockquote>
<p><strong>What are JWTs?</strong><br>
<em>A JSON Web Token (JWT) is a compact and self-contained way for transmitting information between parties as a JSON object in a secure way. The purpose of a JWT is to ensure the authenticity of the data.</em></p>
</blockquote>

<p>Hanko handles the authentication and signing of the JWT. On successful authentication with Hanko a cookie, which contains said JWT as its value, is set. We don‚Äôt really need to know a lot about them but it‚Äôs worth getting familiar with the parts of a JWT (header, payload and signature), and what a <a href="https://www.hanko.io/blog/understanding-jwks">JWKS</a> is. For more information you can also visit <a href="https://jwt.io/">JWT.io</a>.</p>

<p>To verify the JWT we need to install the <code>jose-jwt</code> package:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>npm i jose
</code></pre>

</div>



<p>Jose is a JavaScript module that supports JWT and provides functionality for signing and verifying tokens. </p>

<p>‚ÑπÔ∏è For more information about Jose click <a href="https://www.npmjs.com/package/jose">here</a>. </p>

<h3>
  
  
  Middleware
</h3>

<p>Create a new file <code>middleware.tsx</code> in the root of your project and use the following code:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">jose</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">jose</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">NextRequest</span><span class="p">,</span> <span class="nx">NextResponse</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">next/server</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">hankoApi</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">YOUR_HANKO_API_URL</span><span class="dl">"</span><span class="p">;</span>

<span class="k">export</span> <span class="k">default</span> <span class="k">async</span> <span class="kd">function</span> <span class="nx">middleware</span><span class="p">(</span><span class="nx">req</span><span class="p">:</span> <span class="nx">NextRequest</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">req</span><span class="p">.</span><span class="nx">cookies</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">"</span><span class="s2">hanko</span><span class="dl">"</span><span class="p">)?.</span><span class="nx">value</span><span class="p">;</span>

  <span class="kd">const</span> <span class="nx">JWKS</span> <span class="o">=</span> <span class="nx">jose</span><span class="p">.</span><span class="nx">createRemoteJWKSet</span><span class="p">(</span>
    <span class="k">new</span> <span class="nx">URL</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">hankoApi</span><span class="p">}</span><span class="s2">/.well-known/jwks.json`</span><span class="p">)</span>
  <span class="p">);</span>

  <span class="k">try</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">verifiedJWT</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">jose</span><span class="p">.</span><span class="nx">jwtVerify</span><span class="p">(</span><span class="nx">token</span><span class="p">,</span> <span class="nx">JWKS</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">verifiedJWT</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">catch</span> <span class="p">{</span>
<span class="k">return</span> <span class="nx">NextResponse</span><span class="p">.</span><span class="nx">redirect</span><span class="p">(</span><span class="k">new</span> <span class="nx">URL</span><span class="p">(</span><span class="dl">"</span><span class="s2">/</span><span class="dl">"</span><span class="p">,</span> <span class="nx">req</span><span class="p">.</span><span class="nx">url</span><span class="p">));</span>
<span class="p">}</span>
<span class="p">}</span>
</code></pre>

</div>



<p>To verify the JWT we need the token and the JWKS. We get the token from the "hanko" cookie, and then we obtain the JSON Web Key Set (JWKS) by calling the <code>createRemoteJWKSet</code> function from jose. Then we call <code>await jose.jwtVerify(token, JWKS)</code>. If the token can be verified, then the promise returned from the function resolves to a decoded token. If it cannot be verified, then the promise rejects and we can catch the error and handle it appropriately, e.g. by redirecting the user to the login/home page. If you console.log the const <code>verifiedJWT</code> you should see the decoded token showing the payload, the protectedHeader and the key. Inside the key, you should be able to see a "true" if it‚Äôs verified.</p>

<p>‚ÑπÔ∏è For more information about Next.js Middleware click <a href="https://nextjs.org/docs/app/building-your-application/routing/middleware">here</a>.</p>

<h3>
  
  
  Securing the application and redirecting üîê
</h3>

<p>We want to prevent unauthorized users from getting access to private user data. A simple way to do this is by adding the paths to be protected in the Middleware configuration. Copy the following code at the bottom of your <code>middleware.tsx</code> file:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="k">export</span> <span class="kd">const</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">matcher</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">/todo</span><span class="dl">"</span><span class="p">],</span>
<span class="p">};</span>
</code></pre>

</div>



<p>Update the <code>Login</code> page to subscribe to the events of the Hanko client and redirect to the <code>Todo</code> page after a successful login:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="dl">"</span><span class="s2">use client</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">useEffect</span><span class="p">,</span> <span class="nx">useState</span><span class="p">,</span> <span class="nx">useCallback</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">useRouter</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">next/navigation</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">register</span><span class="p">,</span> <span class="nx">Hanko</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@teamhanko/hanko-elements</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">hankoApi</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">YOUR_HANKO_API_URL</span><span class="dl">"</span><span class="p">;</span>
<span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">Login</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">router</span> <span class="o">=</span> <span class="nx">useRouter</span><span class="p">();</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">hanko</span><span class="p">,</span> <span class="nx">setHanko</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="o">&lt;</span><span class="nx">Hanko</span><span class="o">&gt;</span><span class="p">();</span>

  <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">import</span><span class="p">(</span><span class="dl">"</span><span class="s2">@teamhanko/hanko-elements</span><span class="dl">"</span><span class="p">).</span><span class="nx">then</span><span class="p">(({</span> <span class="nx">Hanko</span> <span class="p">})</span> <span class="o">=&gt;</span>
      <span class="nx">setHanko</span><span class="p">(</span><span class="k">new</span> <span class="nx">Hanko</span><span class="p">(</span><span class="nx">hankoApi</span> <span class="o">??</span> <span class="dl">""</span><span class="p">))</span>
    <span class="p">);</span>
  <span class="p">},</span> <span class="p">[]);</span>

  <span class="kd">const</span> <span class="nx">redirectAfterLogin</span> <span class="o">=</span> <span class="nx">useCallback</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">router</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="dl">"</span><span class="s2">/todo</span><span class="dl">"</span><span class="p">);</span>
  <span class="p">},</span> <span class="p">[</span><span class="nx">router</span><span class="p">]);</span>

  <span class="nx">useEffect</span><span class="p">(</span>
    <span class="p">()</span> <span class="o">=&gt;</span>
      <span class="nx">hanko</span><span class="p">?.</span><span class="nx">onAuthFlowCompleted</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">redirectAfterLogin</span><span class="p">();</span>
      <span class="p">}),</span>
    <span class="p">[</span><span class="nx">hanko</span><span class="p">,</span> <span class="nx">redirectAfterLogin</span><span class="p">]</span>
  <span class="p">);</span>

  <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">//</span>
    <span class="nx">register</span><span class="p">(</span><span class="nx">hankoApi</span> <span class="o">??</span> <span class="dl">""</span><span class="p">).</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">},</span> <span class="p">[]);</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">flex min-h-screen justify-center items-center bg-slate-50</span><span class="dl">"</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">bg-white p-5 rounded-2xl shadow-md</span><span class="dl">"</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">hanko</span><span class="o">-</span><span class="nx">auth</span> <span class="o">/&gt;</span>
      <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>

</code></pre>

</div>






<h2>
  
  
  Time to display the right Todos ü™Ñ‚ú®
</h2>

<p>Lastly, we should only display the todos for the user that is logged in. To do so, we need to link the todos to the correct "user ID". The first step is to update the Todo model in the <code>prisma schema</code>:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="nx">model</span> <span class="nx">Todo</span> <span class="p">{</span>
  <span class="nx">userId</span> <span class="nb">String</span>
  <span class="nx">id</span> <span class="nb">String</span> <span class="p">@</span><span class="nd">id</span> <span class="p">@</span><span class="nd">default</span><span class="p">(</span><span class="nx">uuid</span><span class="p">())</span>
  <span class="nx">title</span> <span class="nb">String</span>
  <span class="nx">complete</span> <span class="nb">Boolean</span>
  <span class="nx">createdAt</span> <span class="nx">DateTime</span> <span class="p">@</span><span class="nd">default</span><span class="p">(</span><span class="nx">now</span><span class="p">())</span>
  <span class="nx">updatedAt</span> <span class="nx">DateTime</span> <span class="p">@</span><span class="nd">updatedAt</span>
<span class="p">}</span>
</code></pre>

</div>



<p>Then run the following command to create a migration:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>npx prisma migrate
</code></pre>

</div>



<p>Or the following to push the schema changes directly to the database:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>npx prisma db push
</code></pre>

</div>



<p>Next step is to update the <code>api/todo/route.ts</code> file to get the user ID from the token, then create a new todo if there is a user ID:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">NextResponse</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">next/server</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">cookies</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">next/headers</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">jose</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">jose</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">prisma</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@/db</span><span class="dl">"</span><span class="p">;</span>

<span class="k">export</span> <span class="k">async</span> <span class="kd">function</span> <span class="nx">userId</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">cookies</span><span class="p">().</span><span class="kd">get</span><span class="p">(</span><span class="dl">"</span><span class="s2">hanko</span><span class="dl">"</span><span class="p">)?.</span><span class="nx">value</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">payload</span> <span class="o">=</span> <span class="nx">jose</span><span class="p">.</span><span class="nx">decodeJwt</span><span class="p">(</span><span class="nx">token</span> <span class="o">??</span> <span class="dl">""</span><span class="p">);</span>

  <span class="k">return</span> <span class="nx">payload</span><span class="p">.</span><span class="nx">sub</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">async</span> <span class="kd">function</span> <span class="nx">POST</span><span class="p">(</span><span class="nx">req</span><span class="p">:</span> <span class="nx">Request</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">userID</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">userId</span><span class="p">();</span>
  <span class="kd">const</span> <span class="p">{</span> <span class="nx">title</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">req</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">userID</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">title</span> <span class="o">!==</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span> <span class="o">||</span> <span class="nx">title</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="dl">"</span><span class="s2">That can't be a title</span><span class="dl">"</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">await</span> <span class="nx">prisma</span><span class="p">.</span><span class="nx">todo</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
      <span class="na">data</span><span class="p">:</span> <span class="p">{</span> <span class="nx">title</span><span class="p">,</span> <span class="na">complete</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span> <span class="na">userId</span><span class="p">:</span> <span class="nx">userID</span> <span class="o">??</span> <span class="dl">""</span> <span class="p">},</span>
    <span class="p">});</span>

    <span class="k">return</span> <span class="nx">NextResponse</span><span class="p">.</span><span class="nx">json</span><span class="p">({</span> <span class="na">message</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Created Todo</span><span class="dl">"</span> <span class="p">},</span> <span class="p">{</span> <span class="na">status</span><span class="p">:</span> <span class="mi">200</span> <span class="p">});</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">NextResponse</span><span class="p">.</span><span class="nx">json</span><span class="p">({</span> <span class="na">error</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Not Found</span><span class="dl">"</span> <span class="p">},</span> <span class="p">{</span> <span class="na">status</span><span class="p">:</span> <span class="mi">404</span> <span class="p">});</span>
  <span class="p">}</span>
<span class="p">}</span>

</code></pre>

</div>



<p>The final step is to update the Prisma call to fetch all the todos from the <code>todo/page.tsx</code>:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Logout</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@/components/Logout</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Profile</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@/components/Profile</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">NewTodo</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@/components/todos/NewTodo</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">TodoItem</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@/components/todos/TodoItem</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">prisma</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@/db</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">userId</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">../api/todo/route</span><span class="dl">"</span><span class="p">;</span>

<span class="k">export</span> <span class="k">default</span> <span class="k">async</span> <span class="kd">function</span> <span class="nx">Todo</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">userID</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">userId</span><span class="p">();</span>

  <span class="kd">const</span> <span class="nx">todos</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">prisma</span><span class="p">.</span><span class="nx">todo</span><span class="p">.</span><span class="nx">findMany</span><span class="p">({</span>
    <span class="na">where</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">userId</span><span class="p">:</span> <span class="p">{</span> <span class="na">equals</span><span class="p">:</span> <span class="nx">userID</span> <span class="p">},</span>
    <span class="p">},</span>
  <span class="p">});</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">main</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2"> flex flex-col min-h-screen justify-center items-center bg-slate-50 relative </span><span class="dl">"</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">absolute top-4 left-16</span><span class="dl">"</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2"> relative py-4 space-x-6</span><span class="dl">"</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">Profile</span> <span class="o">/&gt;</span>
          <span class="o">&lt;</span><span class="nx">Logout</span> <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">bg-slate-300 rounded-3xl py-6  h-[400px] w-[450px] flex flex-col text-slate-800</span><span class="dl">"</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">h1</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">text-3xl text-center</span><span class="dl">"</span><span class="o">&gt;</span><span class="nx">My</span> <span class="nx">to</span> <span class="nx">dos</span><span class="o">&lt;</span><span class="sr">/h1</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">NewTodo</span> <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="nx">ul</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">px-6</span><span class="dl">"</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">TodoItem</span> <span class="nx">todos</span><span class="o">=</span><span class="p">{</span><span class="nx">todos</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/ul</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/main</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>

</code></pre>

</div>






<h3>
  
  
  ü§© App demonstration
</h3>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--lxAmB5U5--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/jxdzm5zmkrfaf536y9rc.gif" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--lxAmB5U5--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/jxdzm5zmkrfaf536y9rc.gif" alt="Todo example" width="600" height="452"></a></p>




<h2>
  
  
  You made it! üéâ
</h2>

<p>Congratulations, You now have a fully functional "Todo App"!</p>

<p>Thanks for staying all the way to the end, today you‚Äôve learnt how to implement some of the Next.js new features, how to authenticate users with Hanko, and a little bit about databases with Prisma. </p>

<p><a href="https://nextjs.org/docs">Next.js</a> App Router has surely been a challenge for me, the transition to learn when and how to use some of the new features can take time but from my perspective it‚Äôs totally worth the try. </p>

<p>In times of constant changes, being able to count on authentication easy to integrate is almost a dream come true, <a href="https://www.hanko.io/">Hanko</a> aims to change the way developers and users experience both sides of the login.</p>

<p>Thank you for reading, auf wiedersehen! üëã</p>




<p><a href="https://github.com/teamhanko/hanko"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--VjkaKPe_--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ri6ktsibmrw790q17c70.png" alt="Give us a star!" width="800" height="533"></a></p>

 </details> 
 <hr /> 

 #### - [Why we launched earlier than what felt comfortable](https://dev.to/rigdev/why-we-launched-earlier-than-what-felt-comfortable-5bhm) 
 <details><summary>Article</summary> <p>It‚Äôs been 10 days since we launched Rig.dev - our open-source application platform for Kubernetes, and in all honesty, we had our worries about making our repository public for everyone. Suddenly it was about to get very real.</p>

<p>Why the worry? We still had a lot of features and developer workflows we wanted to improve but had limited knowledge on what to prioritize and what to push back.</p>

<p>The benefits of launching early and building in public, therefore quickly became very clear to us; show the world what we are building and get ongoing feedback from the community on <strong>if</strong> we actually address one of their problems, and if our solution is the right one.</p>

<p>In this post, we have gathered some reflections and our initial learnings from launching early and building in public.</p>

<h2>
  
  
  Required reflection
</h2>

<p>First thing‚Äôs first. We had to be no less than excellent at explaining our solution. What was our vision? What key problems were we trying to solve for our users?</p>

<p>By taking a step back and diving into these questions as a team we got a great boost in alignment on what path to take so we could build a platform that truly solved the needs of our users.</p>

<h2>
  
  
  Shortened feedback-cycle
</h2>

<p>One of the most important factors in our early launch was the community. Getting early (and sometimes ruthless) feedback on everything from our problem statement and wording on our website to features and documentation were absolutely essential for us in terms of refining our solution.</p>

<p>And oh boy did we get feedback! Thanks to our community we now have a lot of insights into how our platform and solution is perceived, helping us improve communication over the next couple of weeks.</p>

<h2>
  
  
  Internal motivation
</h2>

<p>After releasing, it suddenly was clear to us that there in fact was a high level of interest in what we were working on, and that motivated us to keep pushing forward to deliver the best possible solution for our users and ourselves.</p>

<p>So even though building in public can be frightening - and sometimes even demotivating due to the overwhelming amount of honest feedback - we stayed relentlessly motivated.</p>

<h2>
  
  
  Public Accountability
</h2>

<p>We also discovered, that the public accountability that comes along with building in public can be a strong force. We now have a community of developers waiting for new updates and releases, as well as companies waiting for us to come back with an updated version based on their feedback.</p>

<p>This motivates us to continuously improve our platform and keep moving, while constantly driving ourselves to be agile in our development process.</p>

<h2>
  
  
  Wrap up
</h2>

<p>Overall, we hope that this has given insight into our reasoning for launching early and building in public. Until now it has been a powerful approach for us, and we're excited to see where it takes us next as we continue to grow.</p>

<p>Building in public requires a well-balanced mix of engaging with the community as well as making sure we stay on course. But as our community continues to grow, we will always prioritize engaging and making sure community members feel part of the development.</p>

<p>We are excited and grateful by the support we have received so far. While we're still in the building phase, we would love it, if you'd consider starring us on GitHub üåü: <a href="http://go.rig.dev/devto/why-we-launched-earlier/github">https://github.com/rigdev/rig</a></p>

<p>Also, we're actively seeking feedback, bug reports, and feature requests in our <a href="http://go.rig.dev/devto/why-we-launched-earlier/discord">Rig.dev Community Discord</a> ‚Äì so please join us here!</p>

 </details> 
 <hr /> 

 #### - [Job Schedulers for Node: Bull or Agenda?](https://dev.to/appsignal/job-schedulers-for-node-bull-or-agenda-39n3) 
 <details><summary>Article</summary> <p>Whether you're familiar with job schedulers or new to the concept, two popular libraries in the Node.js ecosystem stand out: Bull and Agenda.</p>

<p>These libraries provide unique features and advantages when it comes to efficient job scheduling. Let's explore the ins and outs of Bull and Agenda! üöÄ</p>

<h2>
  
  
  Scheduling Jobs in Node.js: Conducting An Orchestra
</h2>

<p>A job scheduler can be likened to <strong>an orchestra conductor</strong> in a Node.js application. Just as a conductor leads and coordinates musicians to produce a harmonious symphony, a job scheduler orchestrates the execution of tasks in your application.</p>

<p>Imagine your application as a grand orchestra, with each task representing a skilled musician. Without a conductor, each musician might play their part at their own pace, resulting in a disjointed and chaotic performance. Similarly, without a job scheduler, tasks in your application may run independently, leading to resource conflicts, delays, and suboptimal performance.</p>

<p>Just as a conductor adapts to unforeseen circumstances during a live performance, a job scheduler handles exceptions and failures in your application. It gracefully manages errors, reschedules failed tasks, and ensures that the show goes on smoothly, maintaining the reliability and resilience of your application.</p>

<p>Now that we've summarised the role of a job scheduler, let's turn our attention to what Bull can do.</p>

<h2>
  
  
  Bull for Node.js
</h2>

<p>Bull claims to be the fastest, most reliable Redis-based queue for Node.js. It is known for its high performance, scalability, and robustness. With Bull, you can create queues to manage and process jobs asynchronously, making it ideal for handling time-consuming or resource-intensive tasks.</p>

<h3>
  
  
  Benefits of Bull as a Job Scheduler
</h3>

<p>Using Bull as a job scheduler brings several benefits to your Node.js application:</p>

<ul>
<li>
<strong>High performance and scalability:</strong> Bull leverages efficient algorithms and data structures to process jobs quickly. It is designed to handle high workloads and scales horizontally.</li>
<li>
<strong>Reliable job processing and job queues:</strong> Bull ensures reliable job processing by providing features such as job persistence, automatic retries, error handling, and priority queues.</li>
<li>
<strong>Advanced job scheduling options:</strong> You can schedule jobs to run at specific times, set recurring jobs using cron-like expressions, or define intervals between job executions.</li>
<li>
<strong>Monitoring and insights:</strong> Bull provides a built-in monitoring dashboard to track job progress, view statistics, and monitor performance metrics. This feature allows you to gain insights into the job processing pipeline, identify bottlenecks, and optimize your application's performance.</li>
<li>
<strong>Integration and compatibility:</strong> Bull integrates well with popular frameworks like Express or Nest.js and can easily integrate with different data stores, message brokers, and external services.</li>
<li>
<strong>Extensive ecosystem and community support:</strong> Bull is actively maintained and regularly updated, ensuring compatibility with the latest versions of Node.js. The community provides helpful resources, documentation, and plugins to extend Bull's functionality and address various use cases.</li>
</ul>

<p>Take note, however, of the following information from the <a href="https://github.com/OptimalBits/bull#-news-and-updates">Bull documentation</a>:</p>

<blockquote>
<p>Bull is currently in maintenance mode, we are only fixing bugs. For new features check <a href="https://github.com/taskforcesh/bullmq">BullMQ</a>, a modern rewritten implementation in Typescript. You are still very welcome to use Bull if it suits your needs, which is a safe, battle-tested library.</p>
</blockquote>

<h3>
  
  
  Real-world Use Cases Where Bull Shines
</h3>

<p>Bull excels in real-world use cases where efficient job scheduling and task management are critical. In <strong>distributed systems or microservice architectures</strong>, Bull particularly shines as a job scheduler for coordinating and synchronizing tasks across multiple services or nodes. Here's a code example:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="c1">// Service A - Producer</span>

<span class="kd">const</span> <span class="nx">Queue</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">bull</span><span class="dl">"</span><span class="p">);</span>

<span class="c1">// Create a Bull queue</span>
<span class="kd">const</span> <span class="nx">queue</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Queue</span><span class="p">(</span><span class="dl">"</span><span class="s2">taskQueue</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">redis</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">host</span><span class="p">:</span> <span class="dl">"</span><span class="s2">localhost</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">port</span><span class="p">:</span> <span class="mi">6379</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">});</span>

<span class="c1">// Producer service adds jobs to the queue</span>
<span class="k">async</span> <span class="kd">function</span> <span class="nx">addToQueue</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">await</span> <span class="nx">queue</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Job added to the queue:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Service B - Consumer</span>

<span class="c1">// Create a Bull queue with the same name as the producer</span>
<span class="kd">const</span> <span class="nx">queue</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Queue</span><span class="p">(</span><span class="dl">"</span><span class="s2">taskQueue</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">redis</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">host</span><span class="p">:</span> <span class="dl">"</span><span class="s2">localhost</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">port</span><span class="p">:</span> <span class="mi">6379</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">});</span>

<span class="c1">// Consumer service processes jobs from the queue</span>
<span class="nx">queue</span><span class="p">.</span><span class="nx">process</span><span class="p">(</span><span class="k">async</span> <span class="p">(</span><span class="nx">job</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Processing job:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">job</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
  <span class="c1">// Perform the necessary actions for the job</span>
  <span class="c1">// ...</span>

  <span class="c1">// Mark the job as completed</span>
  <span class="k">return</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">();</span>
<span class="p">});</span>

<span class="c1">// Start producing jobs</span>
<span class="nx">addToQueue</span><span class="p">({</span> <span class="na">data</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Task 1</span><span class="dl">"</span> <span class="p">});</span>
<span class="nx">addToQueue</span><span class="p">({</span> <span class="na">data</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Task 2</span><span class="dl">"</span> <span class="p">});</span>
<span class="nx">addToQueue</span><span class="p">({</span> <span class="na">data</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Task 3</span><span class="dl">"</span> <span class="p">});</span>
</code></pre>

</div>



<p>In this example, we have two services, Service A (Producer) and Service B (Consumer). They both share a Bull queue named <code>taskQueue</code>. Service A produces jobs by adding data to the queue using the <code>addToQueue</code> function. Service B consumes these jobs and processes them using the <code>queue.process</code> method.</p>

<p>For instance, when <code>addToQueue({ data: 'Task 1' })</code> is called, it adds a job to the Bull queue named <code>taskQueue</code>. The job contains data <code>{ data: 'Task 1' }</code> representing the specific task or job to be processed.</p>

<p>The <code>queue.add(data)</code> method adds the job to the queue, and Bull takes care of persisting the job details in the underlying Redis database. The job is then available for consumption by any connected consumer service processing jobs from the same queue.</p>

<p>When <code>queue.process</code> is called in the consumer service, it sets up a worker that listens to the queue and starts processing jobs as they become available. In this case, the worker will process the job containing <code>{ data: 'Task 1' }</code> once it reaches the front of the queue.</p>

<p>The job processing involves invoking the function provided to <code>queue.process</code>. In the code example, the function logs the job data (<code>console.log('Processing job:', job.data)</code>) and performs any necessary actions specific to the job.</p>

<p>By calling <code>addToQueue</code> with different data for each task, you can add multiple jobs to the queue. The consumer service will process them one by one based on the order in which they were added.</p>

<p>Other use cases where Bull shines include:</p>

<ul>
<li>Background processing and task offloading</li>
<li>Task scheduling and automation</li>
<li>Job queues and workload balancing</li>
<li>Delayed and retry mechanisms</li>
</ul>

<p>But, as the saying goes: "Every rose has its thorn". Bull, while an exciting choice of job scheduler, also has some noteworthy drawbacks.</p>

<h3>
  
  
  Potential Drawbacks of Bull
</h3>

<ul>
<li>
<strong>Dependency on Redis:</strong> Bull relies on Redis as its underlying data store, requiring the setup and maintenance of a Redis server. This can introduce added complexity and infrastructure demands if you're not already using Redis in your application.</li>
<li>
<strong>Steep learning curve:</strong> Bull's wide range of features and advanced options may require developers new to job scheduling and asynchronous task management to invest time in learning and experimenting to utilize its capabilities effectively.</li>
<li>
<strong>Memory consumption:</strong> Bull's memory usage can increase with large job queues, necessitating careful monitoring and optimization to stay within acceptable limits, particularly in memory-constrained or high-throughput environments.</li>
<li>
<strong>Persistence options:</strong> Bull's reliance on Redis for persistence may not align with your preferred data store, potentially necessitating custom solutions or alternative job scheduler libraries to integrate with a different database system.</li>
<li>
<strong>Overkill for simple use cases:</strong> If your application has straightforward scheduling requirements or doesn't require advanced job processing features, integrating Bull may introduce unnecessary complexity. In such cases, a simpler job scheduler or task queue solution might be more suitable.</li>
</ul>

<p>This brings us to Bull‚Äôs alternative ‚Äî Agenda.</p>

<h2>
  
  
  Agenda for Node.js
</h2>

<p>Agenda is a lightweight job scheduling library for Node.js, built on top of MongoDB. It focuses on simplicity and ease of use, making it an excellent choice for applications that require basic job scheduling capabilities without the need for complex features.</p>

<h3>
  
  
  Benefits of Agenda as a Job Scheduler
</h3>

<p>Here are a few notable benefits of using Agenda:</p>

<ul>
<li>
<strong>Simple and lightweight:</strong> Agenda is designed to be lightweight and easy to use, making it a great choice for applications with simpler job scheduling requirements.</li>
<li>
<strong>Persistence options:</strong> Unlike Bull, Agenda supports multiple databases, including MongoDB as the default choice. This gives you the flexibility to use your preferred database system for storing job data.</li>
<li>
<strong>Event-driven architecture:</strong> Agenda's event-driven architecture enables seamless integration and efficient communication between application components through custom event-triggered job execution.</li>
<li>
<strong>Error handling and job recovery:</strong> Agenda includes built-in error handling, job recovery, retries, and concurrency control, ensuring effective management of job execution errors and recovery from failures in your application.</li>
<li>
<strong>Job scheduling flexibility:</strong> Agenda provides comprehensive scheduling capabilities, human-readable syntax, and complex recurring schedules for executing tasks at regular intervals or specific times.</li>
<li>
<strong>Active community and maintenance:</strong> Agenda has an active community and ongoing maintenance, ensuring regular updates, bug fixes, ample resources, documentation, and community support for any issues or assistance you may need.</li>
</ul>

<h3>
  
  
  Examples Where Agenda Is a Good Fit
</h3>

<p>Agenda is well-suited for a range of scenarios, including recurring tasks, cron jobs, event-driven workflows, and lightweight use cases that demand a straightforward API and a minimalistic solution for job scheduling in your application.</p>

<p>The following piece of code uses Agenda to execute tasks based on complex time patterns (using cron syntax):<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="kd">const</span> <span class="nx">Agenda</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">agenda</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">agenda</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Agenda</span><span class="p">();</span>

<span class="c1">// Define a job to be executed based on cron schedule</span>
<span class="nx">agenda</span><span class="p">.</span><span class="nx">define</span><span class="p">(</span><span class="dl">"</span><span class="s2">sendEmail</span><span class="dl">"</span><span class="p">,</span> <span class="k">async</span> <span class="p">(</span><span class="nx">job</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">{</span> <span class="nx">to</span><span class="p">,</span> <span class="nx">subject</span><span class="p">,</span> <span class="nx">body</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">job</span><span class="p">.</span><span class="nx">attrs</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
  <span class="c1">// Send email logic here</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`Sending email to </span><span class="p">${</span><span class="nx">to</span><span class="p">}</span><span class="s2"> with subject: </span><span class="p">${</span><span class="nx">subject</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// Define the cron schedule for the job</span>
<span class="nx">agenda</span><span class="p">.</span><span class="nx">every</span><span class="p">(</span><span class="dl">"</span><span class="s2">0 8 * * *</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">sendEmail</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">to</span><span class="p">:</span> <span class="dl">"</span><span class="s2">example@example.com</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">subject</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Daily Report</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">body</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Hello, this is your daily report.</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>

<span class="c1">// Start the agenda instance and execute jobs</span>
<span class="p">(</span><span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">await</span> <span class="nx">agenda</span><span class="p">.</span><span class="nx">start</span><span class="p">();</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Agenda started</span><span class="dl">"</span><span class="p">);</span>

  <span class="c1">// Optionally, you can define additional jobs and schedules here</span>

  <span class="c1">// Gracefully shut down the agenda instance</span>
  <span class="k">await</span> <span class="nx">agenda</span><span class="p">.</span><span class="nx">stop</span><span class="p">();</span>
<span class="p">})();</span>
</code></pre>

</div>



<p>In this example, we define an Agenda instance and then define a job named <code>sendEmail</code>. We specify the job's logic inside the async function. The <code>every</code> method is used to schedule the job with the cron expression <code>0 8 * * *</code>, which means that the job will run every day at 8:00 AM. The job data includes the email recipient, subject, and body.</p>

<p>When the agenda starts, it will execute the job according to the defined schedule. You can add more jobs and schedules as needed within the async block. Finally, the optional <code>await agenda.stop();</code> is called to gracefully stop the Agenda instance when the application is finished.</p>

<h3>
  
  
  Limitations of Agenda
</h3>

<p>While Agenda offers several advantages, it also comes with some trade-offs to consider:</p>

<ul>
<li>
<strong>Lack of advanced features:</strong> If your application requires complex job orchestration, prioritization, or extensive queue management, you may find Agenda's feature set to be less comprehensive than Bull's.</li>
<li>
<strong>Single process execution:</strong> By default, Agenda operates within a single process, which simplifies deployment and setup but may not scale as effectively as Bull in terms of handling high job concurrency and distributed processing.</li>
<li>
<strong>Less active community:</strong> While Agenda has an active community, it may have a smaller user base compared to other popular alternatives like Bull, potentially resulting in fewer available resources, documentation, and community support.</li>
<li>
<strong>Learning curve for complex scenarios:</strong> Agenda is user-friendly for simpler use cases, but can have a steeper learning curve for complex job scheduling needs. If your application requires intricate workflows, advanced scheduling patterns, or sophisticated error handling, a deeper understanding of Agenda's capabilities may be necessary.</li>
</ul>

<h3>
  
  
  Feature Comparison between Bull and Agenda for Node.js
</h3>

<p>Here's a concise table comparing the features of each library to help you choose the optimal job scheduler for your Node.js projects.</p>

<p>Let's dive into the key similarities and differences between Bull and Agenda to make an informed choice! üöÄ</p>

<div class="table-wrapper-paragraph"><table>
<thead>
<tr>
<th>Feature</th>
<th>üêÇ Bull</th>
<th>üóìÔ∏è Agenda</th>
</tr>
</thead>
<tbody>
<tr>
<td>Job Persistence</td>
<td>Redis</td>
<td>MongoDB (with support for other databases)</td>
</tr>
<tr>
<td>Scalability</td>
<td>Suitable for high job concurrency</td>
<td>Single process, may not scale as effectively</td>
</tr>
<tr>
<td>Learning Curve</td>
<td>Moderate</td>
<td>Relatively easy for simpler use cases</td>
</tr>
<tr>
<td>Advanced Features</td>
<td>Extensive options for job management</td>
<td>Limited compared to more feature-rich schedulers</td>
</tr>
<tr>
<td>Persistence Flexibility</td>
<td>Tightly integrated with Redis</td>
<td>Supports multiple databases, including MongoDB</td>
</tr>
<tr>
<td>Event-Driven Architecture</td>
<td>Not emphasized</td>
<td>Embraces event-driven workflows</td>
</tr>
<tr>
<td>Error Handling</td>
<td>Customizable error-handling mechanisms</td>
<td>Built-in error handling and job recovery options</td>
</tr>
<tr>
<td>Community Support</td>
<td>Widely adopted, active community</td>
<td>Active community but with a smaller user base</td>
</tr>
<tr>
<td>Scheduling Flexibility</td>
<td>Versatile scheduling options</td>
<td>Rich set of scheduling features, including cron</td>
</tr>
<tr>
<td>Resource Consumption</td>
<td>Potentially higher memory consumption</td>
<td>Lightweight and optimized for lower resource usage</td>
</tr>
<tr>
<td>Integration</td>
<td>Works well with existing Redis setups</td>
<td>Flexible integration with various tech stacks</td>
</tr>
<tr>
<td>Use Case Suitability</td>
<td>Complex job orchestration and queueing</td>
<td>Simpler use cases and straightforward scheduling</td>
</tr>
</tbody>
</table></div>

<p>Ultimately, the choice between Bull and Agenda boils down to your project's specific needs and complexity. Whether you prioritize advanced features, scalability, simplicity, or specific integration requirements, use the insights gained from this comparison to make an informed decision that aligns with your development goals.</p>

<p>Remember, your choice of job scheduler plays a vital role in efficient task management. Choose wisely and enjoy seamless job scheduling in your Node.js applications.</p>

<h2>
  
  
  Wrapping Up
</h2>

<p>In this post, we explored Bull and Agenda as job scheduler libraries for Node.js applications.</p>

<p>We learned about the benefits of Bull, such as reliable job persistence and extensive features, and its real-world use cases. Additionally, we discovered Agenda's advantages, including its support for multiple databases, event-driven architecture, and rich scheduling options.</p>

<p>By comparing their features, potential drawbacks, and use case suitability, we can now make informed decisions when choosing between Bull and Agenda for our specific application requirements.</p>

<p>Happy job scheduling!</p>

<p><strong>P.S. If you liked this post, <a href="https://blog.appsignal.com/javascript-sorcery">subscribe to our JavaScript Sorcery list</a> for a monthly deep dive into more magical JavaScript tips and tricks.</strong></p>

<p><strong>P.P.S. If you need an APM for your Node.js app, go and <a href="https://www.appsignal.com/nodejs">check out the AppSignal APM for Node.js</a>.</strong></p>

 </details> 
 <hr /> 

 #### - [Top FAQs of ICO Software Development](https://dev.to/adelelara/top-faqs-of-ico-software-development-3606) 
 <details><summary>Article</summary> <p>In today's fastest evolving digital landscape, staying informed about the latest trends and technologies is Very Essantial. If you're looking to dive into the world of cryptocurrency and blockchain, understanding ICO (Initial Coin Offering) software development is essential.This information hub aims to provide you with comprehensive answers to the top FAQs about ICO software development. </p>

<p>Whether you're a novice or an experienced entrepreneur, this guide will help you grasp the intricacies of launching a successful ICO platform. By the end of thi conten, you'll have a solid understanding of what ICO software development is, how it works, its popularity, the difference between tokens and ICOs, and the steps to launch your own ICO platform.</p>

<h2>
  
  
  What is ICO Software Development?
</h2>

<p><strong><a href="https://www.coinsclone.com/ico-software-development/?utm_source=ICO+soft&amp;utm_medium=dev.&amp;utm_campaign=UP">ICO Software Development</a></strong> refers to the creation of software and technology infrastructure required to launch and manage an Initial Coin Offering (ICO). An ICO is a fundraising method in the world of cryptocurrency, where companies or projects issue tokens to investors in exchange for cryptocurrencies like Bitcoin or Ethereum.</p>

<h2>
  
  
  Is ICO similar to Crowdfunding?
</h2>

<p>While both ICOs and crowdfunding involve raising funds, they have significant differences. Crowdfunding typically involves individuals contributing small amounts of money to support a project or product. In contrast, ICOs offer tokens with the potential for value appreciation, making them an investment opportunity rather than a simple donation.</p>

<h2>
  
  
  Which is the Best ICO Development Company?
</h2>

<p>According to my research, Coinsclone is the best ICO development company because they provide an effective <strong><a href="https://www.coinsclone.com/ico-script/?utm_source=ICO+script&amp;utm_medium=dev.&amp;utm_campaign=UP">ICO script</a></strong> as an instant solution. Coinsclone offers a range of services, including ICO script development, smart contract development, and whitepaper creation, making them a one-stop-shop for all your ICO needs.</p>

<h2>
  
  
  How ICO Software Works?
</h2>

<p>ICO software acts as the backbone of the entire ICO process. It includes various components, such as a user-friendly website, secure wallet integration, smart contract deployment, and token distribution mechanisms. The software ensures the transparency and security of the ICO, making it accessible to a global audience.</p>

<h2>
  
  
  Why is ICO So Popular?
</h2>

<p>ICO gained popularity due to its potential for high returns on investment. It allowed startups and projects to raise funds quickly, often bypassing traditional venture capital routes. Additionally, ICOs offer a decentralized and inclusive fundraising method, democratizing investment opportunities.</p>

<h2>
  
  
  What is ICO in Web3?
</h2>

<p>Web3 refers to the third generation of the internet, characterized by decentralization and blockchain technology. In the context of Web3, ICOs have evolved to become more transparent and community-driven, with a focus on decentralized finance (DeFi) and blockchain-based projects.</p>

<h2>
  
  
  What is the Difference Between Token and ICO?
</h2>

<p>Tokens are digital assets created and distributed during an ICO. They can represent various things, such as ownership in a project, utility within a platform, or even voting rights. ICO, on the other hand, is the process of raising funds by issuing and selling these tokens to investors.</p>

<h2>
  
  
  How Can I Launch an ICO?
</h2>

<p>Connecting with an ICO software development company is the best choice. Companies like Coinsclone offer comprehensive ICO development services, guiding you through the entire process, from concept to execution. Their expertise ensures a successful ICO launch.</p>

<h2>
  
  
  How Expensive is an ICO?
</h2>

<p>The cost of launching an ICO can vary widely depending on several factors. Developing an ICO from scratch can be more expensive due to the extensive development work required. On the other hand, going with an ICO script is a cost-effective choice. The cost of an ICO script typically ranges from $5000 to $7000, making it a budget-friendly option for startups and entrepreneurs.</p>

<h2>
  
  
  Conclusion
</h2>

<p>In the ever-changing landscape of cryptocurrency and blockchain technology, ICOs continue to be a popular fundraising method. Understanding <strong><a href="https://www.coinsclone.com/ico-software-development/?utm_source=ICO+soft&amp;utm_medium=dev.&amp;utm_campaign=UP">ICO Software Development</a></strong> is essential for anyone looking to enter this exciting space. We've answered some of the most pressing FAQs, from the basics of ICOs to the steps involved in launching your own platform. Remember, knowledge is your greatest asset in the world of ICOs, and with the right guidance and expertise, you can successfully navigate this innovative fundraising method. So, whether you're a blockchain enthusiast or an aspiring entrepreneur, seize the opportunity to explore the world of ICOs and harness their potential for growth and innovation.</p>

 </details> 
 <hr /> 
<!-- BLOG-POST-LIST:END -->
</table>
</details>


<!-- TODO
Change the 3stats boxes around, possibly two on top and one on bottom
Fix RSSfeed
Fix Spotify Playlists
Fix Socials [Portfolio, Discord, Linkedin]
In the future, add Public Repositories of Selected Projects
-->
