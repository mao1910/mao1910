<!-- VISITOR BADGE -->
<!-- https://github.com/hehuapei/visitor-badge -->

<img align="right" src="https://visitor-badge.laobi.icu/badge?page_id=mao1910.mao1910&left_color=%2379DAF9&right_color=%23FE6E96" />


<!-- TYPING SVG -->
<!-- https://github.com/DenverCoder1/readme-typing-svg -->

<h1 align="center">
    <img src="https://readme-typing-svg.herokuapp.com/?font=Righteous&size=35&center=true&vCenter=true&width=500&height=70&color=FE6E96&font=poppins&duration=5000&lines=Hi+There!+üëã;+I'm+Mao!;" />
</h1>

<br/>


<!-- ABOUT ME TERMINAL -->
<h1 align="center">
<img src="./assets/terminal-5.gif" alt="Terminal" />
</h1>

<br/><br/><br/>


<!-- TECHNOLOGIES LOGOS -->
<!-- https://github.com/tandpfun/skill-icons -->

<h2 align="center">üíª Languages / Frameworks / Tools ‚öíÔ∏è</h2>
<div align="center">
    <img src="https://skillicons.dev/icons?i=javascript,typescript,angular,react,html,css,scss,bootstrap,cs,java,spring" />
    <img src="https://skillicons.dev/icons?i=flutter,firebase,supabase,mysql,git,github,gitlab,vscode,idea,maven,figma" />
</div>

<br/><br/><br/>


<!-- CONTRIBUTIONS SNAKE GAME -->
<!-- https://github.com/Platane/snk -->

<div align="center">
  <h2> My Contributionssssüêç </h2>
  <br>
  <img alt="contributions-eating Snake" src="https://raw.githubusercontent.com/mao1910/mao1910/output/github-contribution-grid-snake.svg" />

  <!-- Four lines below suggested by Planate for Dark mode-->
  <picture>
  <source media="(prefers-color-scheme: dark)" srcset="github-snake-dark.svg" />
  <source media="(prefers-color-scheme: light)" srcset="github-snake.svg" />
  </picture>
  
  <br/><br/><br/>
</div>


<!-- GITHUB STATS -->
<!-- https://github.com/DenverCoder1/github-readme-streak-stats --> <!--  My Vercel -->
<!-- https://github.com/anuraghazra/github-readme-stats --> <!--  My  Vercel -->

<h2 align="center"> Statsüìù </h2>
  <br>
<div align=center>
  <img width=429 src="https://github-readme-stats-mao1910.vercel.app/api?username=mao1910&count_private=true&show_icons=true&theme=dracula&rank_icon=github&hide=contribs&border_radius=10&border_color=79DAF9" alt="github stats"/>
  <img width=396 src="https://github-readme-streak-stats-2235.vercel.app?user=mao1910&count_private=true&theme=dracula&currStreakNum=79DAF9&currStreakLabel=FE6E96&border_radius=10&border=79DAF9" alt="streak stats"/>
  <br/>
  <img src="https://github-readme-stats-mao1910.vercel.app/api/top-langs/?username=mao1910&layout=compact&theme=dracula&border_radius=10&size_weight=0.5&count_weight=0.5&border_color=79DAF9" alt="languages stats" />
</div>

<br/><br/><br/>


<!-- FOOTER -->
<!-- https://github.com/DenverCoder1/readme-typing-svg -->
<!-- https://readme-typing-svg.demolab.com/demo/ -->

<a href="https://git.io/typing-svg"><img src="https://readme-typing-svg.demolab.com?font=Poppins&pause=1000&color=FE6E96&width=535&lines=Thanks+for+dropping+by!;Feel+free+to+check+any+of+the+Socials+below+%F0%9F%91%87;Or+the+Joke+Of+The+Day+if+you're+down+for+a+giggle+%F0%9F%98%9D;Hope+to+see+you+again+%F0%9F%91%8A;Uh%3F+You're+still+here%3F;Well...+I'm+running+out+of+things+to+say...;Tell+you+what%2C+due+to+your+effort+and+perseverance%2C;I+shall+present+you+with+a+short+poem%3A;%22To+code%2C+or+not+to+code%2C+that+is+the+question%3A;Whether+'tis+nobler+in+the+IDE+to+debug;The+errors+and+issues+of+outrageous+software%2C;Or+to+take+up+the+keyboard+against+a+sea+of+bugs;And+by+coding%2C+end+them.%22;by+William+Shakespeare%2C+probably.+;Pretty+sure+that's+Hamlet's.;Alrighty%2C+this+has+been+fun.;But+I'll+restart+the+loop+now...+see+ya+soon!" alt="Typing SVG" /></a>


<!--  SOCIAL NETWORKS -->
<!-- https://github.com/alexandresanlim/Badges4-README.md-Profile -->

  <div> 
    <a href="https://www.deviantart.com/madeinkobaia/art/my-profile-is-under-construction-265626465" target="_blank"><img src="https://img.shields.io/badge/-LinkedIn-%230077B5?style=for-the-badge&logo=linkedin&logoColor=white" target="_blank"></a> <!-- ADD LINKEDIN PROFILE -->
    <a href = "https://www.nicepng.com/ourpic/u2q8o0t4t4r5o0r5_website-under-construction-png-graphic-transparent-website-under/"><img src="https://img.shields.io/badge/Portfolio-4285F4?style=for-the-badge&logo=Google-chrome&logoColor=white" target="_blank"></a> <!-- ADD PORTFOLIO WEBSITE -->
    <a href="https://discord.gg" target="_blank"><img src="https://img.shields.io/badge/Discord-7289DA?style=for-the-badge&logo=discord&logoColor=white" target="_blank"></a> <!-- ADD DISCORD --> <!-- User or Server? -->
    <a href = "mailto:mao1910dev@gmail.com"><img src="https://img.shields.io/badge/Gmail-D14836?style=for-the-badge&logo=gmail&logoColor=white" target="_blank"></a>
  </div>


<!-- SPOTIFY PLAYING-->
<!-- https://github.com/novatorem/novatorem --> <!-- My own Vercel deployment-->

[<img width=438px src="https://spotify-now-playing-git-main-mao1910.vercel.app//api/spotify/?border_color=FE6E96" alt="Mao Spotify Now Playing" />](https://open.spotify.com/user/31542et242zglhf42ydrtqgvuvde)


<!-- JOKE OF THE DAY -->
<!-- https://github.com/ABSphreak/readme-jokes --> <!-- My own Vercel deployment-->

<details>
<summary>I've got a Joke for you. Wanna hear it? üôà</summary>

<br/>

 <tr>
 <td style="padding-top:4px"><img src = "https://readme-jokes-git-master-mao1910.vercel.app/api?&theme=dracula"></td>
 </tr>

</details>


<!-- RSS FEED -->
<!-- https://github.com/gautamkrishnar/blog-post-workflow -->

<details>
<summary>üìï &nbsp;RSS feed</summary>

<br/>


<!-- BLOG-POST-LIST:START -->
 #### - [Exploratory Data Analysis using Data Visualization Techniques.](https://dev.to/edina/exploratory-data-analysis-using-data-visualization-techniques-3mnn) 
 <details><summary>Article</summary> <p>The better you know your data the better is your analysis. Data needs to be analyzed so as to produce good results. Exploratory data analysis (EDA) is an approach to analyze and summarize data in order to gain insights and identify patterns or trends. It is often the first step in data analysis and is used to understand the structure of the data, detect outliers and anomalies, and inform the selection of appropriate statistical models.</p>

<h2>
  
  
  Objectives of EDA.
</h2>

<ol>
<li>Confirm if the data is making sense in context of the business problem.</li>
<li>It uncovers and resolves data quality issues like missing data, duplicate and incorrect values.</li>
<li>Data scientists can use exploratory analysis to ensure the results they produce are valid and applicable to any desired business outcomes and goals.</li>
<li> EDA helps stakeholders by confirming they are asking the right questions. </li>
<li>EDA can help answer questions about standard deviations, categorical variables, and confidence intervals.</li>
</ol>

<h2>
  
  
  Types of exploratory data analysis.
</h2>

<p>EDA can be classified into two category this is <em>graphical</em> and <em>non-graphical</em> each  having Univariable and multivariable type. <br>
<a href="https://res.cloudinary.com/practicaldev/image/fetch/s--LMKPtGQu--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/gxo0eje6rdqz122xqohd.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--LMKPtGQu--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/gxo0eje6rdqz122xqohd.png" alt="four types of EDA" width="275" height="183"></a><br>
<strong>Univariate non-graphical.</strong><br>
Data being analyzed consists of just one variable and it doesn‚Äôt deal with causes or relationships. The main purpose of univariate analysis is to describe the data and find patterns that exist within it.<br>
<strong>Univariate graphical.</strong><br>
They provide a full picture of the data. Common types of univariate graphics include: Stem-and-leaf plots, Histograms and box plots.<br>
<strong>Multivariate non graphical.</strong><br>
Multivariate data arises from more than one variable. Multivariate non-graphical EDA techniques generally show the relationship between two or more variables of the data through cross-tabulation or statistics<br>
<strong>Multivariate graphical.</strong><br>
Multivariate data uses graphics to display relationships between two or more sets of data.  Example is a grouped bar plot or bar chart.</p>
<h2>
  
  
  Exploratory Data Analysis Tools.
</h2>

<p>In this article I will only focus on <strong>Python</strong>: We used python programming language for exploratory data analysis. Python offers a variety of libraries and  some of them uses great visualization tool. Visualization process can make it easier to  create the clear report.<br>
To use python for EDA here are some of the steps you will use;<br>
<strong>Step 1: Imports and Reading Data.</strong><br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pylab</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="n">sns</span>
<span class="n">plt</span><span class="p">.</span><span class="n">style</span><span class="p">.</span><span class="n">use</span><span class="p">(</span><span class="s">'ggplot'</span><span class="p">)</span>
<span class="n">pd</span><span class="p">.</span><span class="n">set_option</span><span class="p">(</span><span class="s">'max_columns'</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">'filename.data.csv'</span><span class="p">)</span>
</code></pre>

</div>



<p>With these code and libraries imported, you're ready to start working with data and creating visualizations in your Python environment. Make sure you have the necessary data loaded and continue with your data analysis and visualization tasks.<br>
<strong>Step 2: Data Understanding.</strong><br>
This involves getting a grasp of the data you're working with, its characteristics, structure, and content. Here are some of the ways to archive data understanding using python code.</p>

<ul>
<li>Dataframe shape
<code>df.shape</code>
</li>
<li>head and tail
<code>df.head(5)</code> </li>
<li>dtypes
<code>df.dtypes</code>
</li>
<li>describe
<code>df.describe()</code>
</li>
</ul>

<p><strong>Step 3: Data Preparation.</strong><br>
In this step you will be focusing on dropping irrelevant columns and rows, identifying duplicated columns etc. In this phase, you transform and clean the raw data to make it suitable for analysis.</p>

<p><strong>Step 4: Feature Understanding.</strong><br>
This step falls into Univariate analysis which involves creating, selecting, and transforming features (variables or attributes) in your dataset to improve the performance and interpretability of machine learning models or enhance the effectiveness of data analysis. Thus, plotting Feature Distributions, Histograms, KDE and Boxplot.</p>

<p><strong>Step 5: Feature Relationships.</strong><br>
Here, you will be focusing on understanding how different features (variables) in your dataset relate to each other. This step helps you uncover patterns, dependencies, and interactions between features, which can be valuable for model building, feature selection, and gaining insights from your data. In this step you will be able to come up with Scatterplot, Heatmap Correlation, Pair plot and Group by comparisons.</p>

 </details> 
 <hr /> 

 #### - [Deploy a Full Stack Next.js App to a DigitalOcean VPS With Docker!](https://dev.to/andrews1022/deploy-a-full-stack-nextjs-app-to-a-digitalocean-vps-with-docker-5f0m) 
 <details><summary>Article</summary> <h2>
  
  
  Project Info
</h2>

<p>In this tutorial, we will be creating a simple full stack note taking app using:</p>

<ul>
<li>Next.js + Tailwind</li>
<li>Drizzle ORM</li>
<li>PostgreSQL</li>
<li>DBeaver</li>
<li>DigitalOcean</li>
<li>Docker</li>
</ul>

<p>While the app itself is very simple, the main focus here is to learn how to:</p>

<ul>
<li>Setup a PostgreSQL database locally</li>
<li>Deploy the app to a DigitalOcean VPS using Docker containers</li>
</ul>

<p>The functionality of the app is:</p>

<ul>
<li>Have a page to view all notes</li>
<li>On the same page, have form to create a note using server actions</li>
</ul>

<p>So, not full CRUD, and no auth.</p>

<p>It‚Äôs a great pipeline to know how to navigate, but there will be some cost involved. I‚Äôll try to keep costs as low as I can.</p>

<p>Let‚Äôs get started!</p>

<h2>
  
  
  Setting Up PostgreSQL &amp; DBeaver
</h2>

<p>Download page PostgreSQL <a href="https://www.postgresql.org/download/"><strong>here</strong></a></p>

<p>Download page for DBeaver <a href="https://dbeaver.io/download/"><strong>here</strong></a></p>

<p>I am going to provide the steps I took to get PostgreSQL with DBeaver up and running locally, you might need to Google for your specific OS (I am on Ubuntu).</p>

<p>First, we need to install PostgreSQL:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code><span class="nb">sudo </span>apt update
<span class="nb">sudo </span>apt <span class="nb">install </span>postgresql postgresql-contrib
</code></pre>

</div>



<p>You can check the installation was successful by running:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>psql <span class="nt">--version</span>
<span class="c"># psql (PostgreSQL) 16.0 (Ubuntu 16.0-1.pgdg22.04+1)</span>
</code></pre>

</div>



<p>During the installation, PostgreSQL will create a default user called <code>postgres</code>. You can set a password for this user by running this command:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code><span class="nb">sudo</span> <span class="nt">-u</span> postgres psql postgres
</code></pre>

</div>



<p>You‚Äôll enter the postgres console. Once there, enter:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code><span class="se">\p</span>assword postgres
</code></pre>

</div>



<p>Since this is just a local database to play around with, I'm not too concerned about security at this point. So for the local db, the username, password, and database name will all be <code>postgres</code>.</p>

<p>Enter a password, then enter this to quit the psql console:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code><span class="se">\q</span>
<span class="c"># or </span>
<span class="nb">exit</span>
</code></pre>

</div>



<p>I will be using DBeaver as my database admin GUI of choice. It‚Äôs free, and available on all 3 major OS‚Äôs(Windows, Mac, &amp; Linux). If you already have a tool you prefer to use, then of course stick with that.</p>

<p>Open DBeaver, and in the top menu bar, select <strong>Database</strong>, then <strong>New Database Connection</strong></p>

<p>Settings:</p>

<ul>
<li>Connect by <strong>Host</strong>
</li>
<li>URL, Host, and Port can all be left alone</li>
<li>Database, username, and password should all be <strong>postgres</strong>
</li>
</ul>

<p>Click <strong>Test Connection</strong></p>

<p>If you see a response like this:</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--RbaJUpZ9--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/g8zrxl9su0i7afpbp8kx.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--RbaJUpZ9--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/g8zrxl9su0i7afpbp8kx.png" alt="DBeaver Local Postgres Connection Test" width="417" height="285"></a></p>

<p>You‚Äôre good to go!</p>

<p><strong>FYI</strong>: If you did not set a password for the default <code>postgres</code> user, the connection test would always fail.</p>

<p>Click <strong>Ok</strong>, then click <strong>Finish</strong></p>

<h2>
  
  
  Setup Next.js App
</h2>

<p>Then in a folder of your choice, download and setup the latest Next.js TypeScript starter:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>npx create-next-app@latest <span class="nt">--ts</span> <span class="nb">.</span>
</code></pre>

</div>



<p>If you are getting warnings in your CSS file complaining about unknown CSS rules, follow <strong><a href="https://github.com/tailwindlabs/tailwindcss/discussions/5258#discussioncomment-1979394">these steps here</a></strong>.</p>

<p>Still in <code>globals.css</code>, update the code with this reset from <strong><a href="https://www.joshwcomeau.com/css/custom-css-reset/">Josh Comeau</a></strong>.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight css"><code><span class="c">/* src/app/globals.css */</span>

<span class="k">@tailwind</span> <span class="n">base</span><span class="p">;</span>
<span class="k">@tailwind</span> <span class="n">components</span><span class="p">;</span>
<span class="k">@tailwind</span> <span class="n">utilities</span><span class="p">;</span>

<span class="o">*,</span> <span class="o">*</span><span class="nd">::before</span><span class="o">,</span> <span class="o">*</span><span class="nd">::after</span> <span class="p">{</span>
  <span class="nl">box-sizing</span><span class="p">:</span> <span class="n">border-box</span><span class="p">;</span>
<span class="p">}</span>

<span class="o">*</span> <span class="p">{</span>
  <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
    <span class="nl">padding</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">body</span> <span class="p">{</span>
  <span class="nl">line-height</span><span class="p">:</span> <span class="m">1.5</span><span class="p">;</span>
  <span class="nl">-webkit-font-smoothing</span><span class="p">:</span> <span class="n">antialiased</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">img</span><span class="o">,</span> <span class="nt">picture</span><span class="o">,</span> <span class="nt">video</span><span class="o">,</span> <span class="nt">canvas</span><span class="o">,</span> <span class="nt">svg</span> <span class="p">{</span>
  <span class="nl">display</span><span class="p">:</span> <span class="nb">block</span><span class="p">;</span>
  <span class="nl">max-width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">input</span><span class="o">,</span> <span class="nt">button</span><span class="o">,</span> <span class="nt">textarea</span><span class="o">,</span> <span class="nt">select</span> <span class="p">{</span>
  <span class="nl">font</span><span class="p">:</span> <span class="nb">inherit</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">p</span><span class="o">,</span> <span class="nt">h1</span><span class="o">,</span> <span class="nt">h2</span><span class="o">,</span> <span class="nt">h3</span><span class="o">,</span> <span class="nt">h4</span><span class="o">,</span> <span class="nt">h5</span><span class="o">,</span> <span class="nt">h6</span> <span class="p">{</span>
  <span class="nl">overflow-wrap</span><span class="p">:</span> <span class="n">break-word</span><span class="p">;</span>
<span class="p">}</span>

<span class="nf">#root</span><span class="o">,</span> <span class="nf">#__next</span> <span class="p">{</span>
  <span class="py">isolation</span><span class="p">:</span> <span class="n">isolate</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>

</div>



<p>Update <code>tsconfig.json</code> to this:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"compilerOptions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"esnext"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lib"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"dom"</span><span class="p">,</span><span class="w"> </span><span class="s2">"dom.iterable"</span><span class="p">,</span><span class="w"> </span><span class="s2">"esnext"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"allowJs"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"skipLibCheck"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"strict"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"noEmit"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"esModuleInterop"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"module"</span><span class="p">:</span><span class="w"> </span><span class="s2">"esnext"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"moduleResolution"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bundler"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"resolveJsonModule"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"isolatedModules"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"jsx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"preserve"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"incremental"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"plugins"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"next"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"paths"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"@/*"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"./src/*"</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"include"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"next-env.d.ts"</span><span class="p">,</span><span class="w"> </span><span class="s2">"**/*.ts"</span><span class="p">,</span><span class="w"> </span><span class="s2">"**/*.tsx"</span><span class="p">,</span><span class="w"> </span><span class="s2">".next/types/**/*.ts"</span><span class="p">],</span><span class="w">
  </span><span class="nl">"exclude"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"node_modules"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

</div>



<p>Update <code>src/app/page.tsx</code> to this:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="c1">// src/app/page.tsx</span>

<span class="kd">const</span> <span class="nx">HomePage</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>HomePage<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">HomePage</span><span class="p">;</span>
</code></pre>

</div>



<p>Update <code>src/app/layout.tsx</code> to this:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Inter</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">next/font/google</span><span class="dl">"</span><span class="p">;</span>

<span class="k">import</span> <span class="kd">type</span> <span class="p">{</span> <span class="nx">Metadata</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">next</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="kd">type</span> <span class="p">{</span> <span class="nx">ReactNode</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>

<span class="k">import</span> <span class="dl">"</span><span class="s2">./globals.css</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">inter</span> <span class="o">=</span> <span class="nx">Inter</span><span class="p">({</span> <span class="na">subsets</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">latin</span><span class="dl">"</span><span class="p">]</span> <span class="p">});</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">metadata</span><span class="p">:</span> <span class="nx">Metadata</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">description</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Generated by create next app</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">title</span><span class="p">:</span> <span class="dl">"</span><span class="s2">VPS Demo</span><span class="dl">"</span>
<span class="p">};</span>

<span class="kd">type</span> <span class="nx">RootLayoutProps</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">children</span><span class="p">:</span> <span class="nx">ReactNode</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">RootLayout</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">children</span> <span class="p">}:</span> <span class="nx">RootLayoutProps</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="p">=</span><span class="s">"en"</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">body</span> <span class="na">className</span><span class="p">=</span><span class="si">{</span><span class="nx">inter</span><span class="p">.</span><span class="nx">className</span><span class="si">}</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">children</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">RootLayout</span><span class="p">;</span>
</code></pre>

</div>



<h2>
  
  
  Setup GitHub Repo
</h2>

<p>I‚Äôm a fan of setting up a GitHub repo early and committing + pushing often in smaller chunks.</p>

<p>I‚Äôm going to assume that you know how to do that, so please do so before continuing.</p>

<h2>
  
  
  Setup Drizzle
</h2>

<p>Link to Drizzle ORM docs <a href="https://orm.drizzle.team/docs/overview"><strong>here</strong></a></p>

<p>Install the necessary packages:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>npm i drizzle-orm postgres dotenv
npm i <span class="nt">-D</span> drizzle-kit
</code></pre>

</div>



<p>At the root level of the project, create a file called <code>drizzle.config.ts</code></p>

<p>Add this code to it:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="c1">// drizzle.config.ts</span>

<span class="k">import</span> <span class="nx">dotenv</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">dotenv</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="kd">type</span> <span class="p">{</span> <span class="nx">Config</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">drizzle-kit</span><span class="dl">"</span><span class="p">;</span>

<span class="c1">// this is needed for pushing</span>
<span class="nx">dotenv</span><span class="p">.</span><span class="nx">config</span><span class="p">({</span> <span class="na">path</span><span class="p">:</span> <span class="dl">"</span><span class="s2">.env.local</span><span class="dl">"</span> <span class="p">});</span>

<span class="kd">const</span> <span class="nx">config</span><span class="p">:</span> <span class="nx">Config</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">schema</span><span class="p">:</span> <span class="dl">"</span><span class="s2">./src/drizzle/schema.ts</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">out</span><span class="p">:</span> <span class="dl">"</span><span class="s2">./src/drizzle</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">driver</span><span class="p">:</span> <span class="dl">"</span><span class="s2">pg</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">dbCredentials</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">connectionString</span><span class="p">:</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">DATABASE_URL</span><span class="o">!</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">config</span><span class="p">;</span>
</code></pre>

</div>



<p>We don‚Äôt have this <code>drizzle</code> folder and <code>schema.ts</code> yet, so create them at the specified location. </p>

<p>The <code>schema.ts</code> file can be blank for now.</p>

<p>We also don‚Äôt have an environment variable called <code>DATABASE_URL</code> yet either, so also at the root level, create a <code>.env.local</code> file.</p>

<p>Then in this file, add this:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>DATABASE_URL="postgresql://postgres:postgres@localhost:5432/postgres"
</code></pre>

</div>



<p>Next, in the <code>drizzle</code> folder, create a file called <code>config.ts</code></p>

<p>Add this code to it:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="c1">// src/drizzle/config.ts</span>

<span class="k">import</span> <span class="p">{</span> <span class="nx">drizzle</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">drizzle-orm/postgres-js</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">postgres</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">postgres</span><span class="dl">"</span><span class="p">;</span>

<span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">schema</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@/drizzle/schema</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">connectionString</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">DATABASE_URL</span> <span class="o">||</span> <span class="dl">""</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">postgres</span><span class="p">(</span><span class="nx">connectionString</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">db</span> <span class="o">=</span> <span class="nx">drizzle</span><span class="p">(</span><span class="nx">client</span><span class="p">,</span> <span class="p">{</span> <span class="nx">schema</span> <span class="p">});</span>

<span class="k">export</span> <span class="p">{</span> <span class="nx">client</span><span class="p">,</span> <span class="nx">db</span> <span class="p">};</span>
</code></pre>

</div>



<p>At this point, you should get a red underline for <code>import * as schema</code>, which makes sense since the file is currently blank. Let‚Äôs create a <code>note</code> table in the schema.</p>

<p>A <code>note</code> will have:</p>

<ul>
<li>
<code>id</code> (uuid)</li>
<li>
<code>name</code> (text)</li>
<li>
<code>content</code> (text)</li>
<li>
<code>color</code> (text - will select from yellow, green, blue, purple in the ui)</li>
<li>
<code>created_at</code> (timestamp)</li>
</ul>

<p>Back in <code>schema.ts</code>, add the following:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="c1">// src/drizzle/schema.ts</span>

<span class="k">import</span> <span class="p">{</span> <span class="nx">timestamp</span><span class="p">,</span> <span class="nx">pgTable</span><span class="p">,</span> <span class="nx">text</span><span class="p">,</span> <span class="nx">uuid</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">drizzle-orm/pg-core</span><span class="dl">"</span><span class="p">;</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">notes</span> <span class="o">=</span> <span class="nx">pgTable</span><span class="p">(</span><span class="dl">"</span><span class="s2">notes</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">id</span><span class="p">:</span> <span class="nx">uuid</span><span class="p">(</span><span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">).</span><span class="nx">defaultRandom</span><span class="p">().</span><span class="nx">notNull</span><span class="p">().</span><span class="nx">primaryKey</span><span class="p">(),</span>
  <span class="na">name</span><span class="p">:</span> <span class="nx">text</span><span class="p">(</span><span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">).</span><span class="nx">notNull</span><span class="p">(),</span>
  <span class="na">content</span><span class="p">:</span> <span class="nx">text</span><span class="p">(</span><span class="dl">"</span><span class="s2">content</span><span class="dl">"</span><span class="p">).</span><span class="nx">notNull</span><span class="p">(),</span>
  <span class="na">color</span><span class="p">:</span> <span class="nx">text</span><span class="p">(</span><span class="dl">"</span><span class="s2">color</span><span class="dl">"</span><span class="p">).</span><span class="nx">notNull</span><span class="p">(),</span>
  <span class="na">created_at</span><span class="p">:</span> <span class="nx">timestamp</span><span class="p">(</span><span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">).</span><span class="nx">notNull</span><span class="p">().</span><span class="nx">defaultNow</span><span class="p">()</span>
<span class="p">});</span>
</code></pre>

</div>



<h2>
  
  
  Migrate &amp; Push
</h2>

<p>Link to Migrations in the Drizzle docs <a href="https://orm.drizzle.team/docs/migrations"><strong>here</strong></a></p>

<p>Now that we have a model in our schema, we can migrate our database to your schema.</p>

<p>Add a <code>generate</code> script to¬†<code>package.json</code>:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">...</span><span class="w">
  </span><span class="nl">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">//</span><span class="w"> </span><span class="err">...</span><span class="w">
    </span><span class="nl">"generate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"drizzle-kit generate:pg"</span><span class="w">
  </span><span class="p">},</span><span class="w"> 
</span><span class="p">}</span><span class="w">
</span></code></pre>

</div>



<p>Then in the terminal, run:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight json"><code><span class="err">npm</span><span class="w"> </span><span class="err">run</span><span class="w"> </span><span class="err">generate</span><span class="w">
</span></code></pre>

</div>



<p>We can also push our schema changes directly to the database.</p>

<p>Add a <code>push</code> script to¬†<code>package.json</code>:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">...</span><span class="w">
  </span><span class="nl">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">//</span><span class="w"> </span><span class="err">...</span><span class="w">
    </span><span class="nl">"push"</span><span class="p">:</span><span class="w"> </span><span class="s2">"drizzle-kit push:pg"</span><span class="w">
  </span><span class="p">},</span><span class="w"> 
</span><span class="p">}</span><span class="w">
</span></code></pre>

</div>



<p>Then run the command:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>npm run push
</code></pre>

</div>



<p>If the push was successful, you should now see a notes table in DBeaver!</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--aMzPe67z--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/7j614rwo72y6uzkygtlo.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--aMzPe67z--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/7j614rwo72y6uzkygtlo.png" alt="Notes table appearing in local postgres db" width="578" height="400"></a></p>

<p>And if you double click on it, and switch to the Data tab, you can see the table!</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--Cu0vne3S--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ozibcta90ytsg160ts7b.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--Cu0vne3S--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ozibcta90ytsg160ts7b.png" alt="Viewing the notes table in local postgres database" width="800" height="369"></a></p>

<p>It‚Äôs empty for now, but that‚Äôs ok! This is a great start!</p>

<p>Pro-tip: create a single <code>db</code> command to run the <code>generate</code> and <code>push</code> commands one after the other:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="dl">"</span><span class="s2">scripts</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
  <span class="c1">// ...</span>
  <span class="dl">"</span><span class="s2">generate</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">drizzle-kit generate:pg</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">push</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">drizzle-kit push:pg</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">db</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">npm run generate &amp;&amp; npm run push</span><span class="dl">"</span>
<span class="p">},</span>
</code></pre>

</div>



<h2>
  
  
  Setting Up Site Structure
</h2>

<p>For this simple app, we will have the following pages:</p>

<ul>
<li><code>home</code></li>
<li><code>notes</code></li>
</ul>

<p>You can copy and paste these commands to create all the files and folders at once:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code><span class="nb">cd </span>src/app/
<span class="nb">mkdir </span>notes
<span class="nb">cd </span>notes/
<span class="nb">touch </span>page.tsx
<span class="nb">cd</span> ../../../
</code></pre>

</div>



<p>Here‚Äôs the boilerplate code for the <code>page.tsx</code>:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="c1">// src/app/notes/page.tsx</span>

<span class="kd">const</span> <span class="nx">NotesPage</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>NotesPage<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">NotesPage</span><span class="p">;</span>
</code></pre>

</div>



<p>Next, create a folder called <code>components</code> in the <code>src</code> folder.</p>

<p>In the <code>components</code> folder, create a file called <code>navbar.tsx</code> and add the following code to it:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="c1">// src/components/navbar.tsx</span>

<span class="k">import</span> <span class="nx">Link</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">next/link</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">Navbar</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">nav</span> <span class="na">className</span><span class="p">=</span><span class="s">"border-b-black border-b-2 p-2"</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">ul</span> <span class="na">className</span><span class="p">=</span><span class="s">"flex items-center gap-x-4"</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nc">Link</span> <span class="na">className</span><span class="p">=</span><span class="s">"hover:text-sky-500 hover:underline"</span> <span class="na">href</span><span class="p">=</span><span class="s">"/"</span><span class="p">&gt;</span>
            Home
          <span class="p">&lt;/</span><span class="nc">Link</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>

        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nc">Link</span> <span class="na">className</span><span class="p">=</span><span class="s">"hover:text-sky-500 hover:underline"</span> <span class="na">href</span><span class="p">=</span><span class="s">"/notes"</span><span class="p">&gt;</span>
            Notes
          <span class="p">&lt;/</span><span class="nc">Link</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">nav</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span> <span class="p">{</span> <span class="nx">Navbar</span> <span class="p">};</span>
</code></pre>

</div>



<p>Then update the root <code>layout.tsx</code> file to use it (as well as wrap <code>children</code> within the <code>main</code> element and add some <code>padding</code>):<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="c1">// src/app/layout.tsx</span>

<span class="kd">const</span> <span class="nx">RootLayout</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">children</span> <span class="p">}:</span> <span class="nx">RootLayoutProps</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="p">=</span><span class="s">"en"</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">body</span> <span class="na">className</span><span class="p">=</span><span class="si">{</span><span class="nx">inter</span><span class="p">.</span><span class="nx">className</span><span class="si">}</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nc">Navbar</span> <span class="p">/&gt;</span>

        <span class="p">&lt;</span><span class="nt">main</span> <span class="na">className</span><span class="p">=</span><span class="s">"p-2"</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">children</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">};</span>
</code></pre>

</div>



<h2>
  
  
  Create a Form to Create a Note
</h2>

<p>Link to Server Actions in Next.js docs <a href="https://nextjs.org/docs/app/api-reference/functions/server-actions"><strong>here</strong></a></p>

<p>Let‚Äôs add a <code>form</code> to the notes <code>page.tsx</code> that will add a Note into the database:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="c1">// src/app/notes/page.tsx</span>

<span class="kd">const</span> <span class="nx">NotesPage</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>NotesPage<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>

      <span class="p">&lt;</span><span class="nt">form</span>
        <span class="na">className</span><span class="p">=</span><span class="s">"inline-flex items-start flex-col space-y-4 border-solid border-black border-2 p-4 mt-2 w-80"</span>
        <span class="na">action</span><span class="p">=</span><span class="si">{</span><span class="nx">createNote</span><span class="si">}</span>
      <span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"w-full"</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nt">label</span> <span class="na">htmlFor</span><span class="p">=</span><span class="s">"name"</span> <span class="na">className</span><span class="p">=</span><span class="s">"block"</span><span class="p">&gt;</span>
            Name:
          <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>

          <span class="p">&lt;</span><span class="nt">input</span>
            <span class="na">id</span><span class="p">=</span><span class="s">"name"</span>
            <span class="na">name</span><span class="p">=</span><span class="s">"name"</span> <span class="c1">// IMPORTANT: MAKE SURE TO INCLUDE A NAME FOR INPUTS</span>
            <span class="na">type</span><span class="p">=</span><span class="s">"text"</span>
            <span class="na">className</span><span class="p">=</span><span class="s">"border-solid border-black border-2 block w-full"</span>
            <span class="na">required</span>
          <span class="p">/&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"w-full"</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nt">label</span> <span class="na">htmlFor</span><span class="p">=</span><span class="s">"content"</span> <span class="na">className</span><span class="p">=</span><span class="s">"block"</span><span class="p">&gt;</span>
            Content:
          <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>

          <span class="p">&lt;</span><span class="nt">textarea</span>
            <span class="na">id</span><span class="p">=</span><span class="s">"content"</span>
            <span class="na">name</span><span class="p">=</span><span class="s">"content"</span>
            <span class="na">className</span><span class="p">=</span><span class="s">"border-solid border-black border-2 block w-full"</span>
            <span class="na">required</span>
          <span class="p">/&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"w-full"</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nt">label</span> <span class="na">htmlFor</span><span class="p">=</span><span class="s">"color"</span> <span class="na">className</span><span class="p">=</span><span class="s">"block"</span><span class="p">&gt;</span>
            Color:
          <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>

          <span class="p">&lt;</span><span class="nt">select</span>
            <span class="na">id</span><span class="p">=</span><span class="s">"color"</span>
            <span class="na">name</span><span class="p">=</span><span class="s">"color"</span>
            <span class="na">className</span><span class="p">=</span><span class="s">"border-solid border-black border-2 block w-full"</span>
            <span class="na">required</span>
          <span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="p">=</span><span class="s">""</span><span class="p">&gt;</span>Select Color<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="p">=</span><span class="s">"yellow"</span><span class="p">&gt;</span>Yellow<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="p">=</span><span class="s">"green"</span><span class="p">&gt;</span>Green<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="p">=</span><span class="s">"blue"</span><span class="p">&gt;</span>Blue<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="p">=</span><span class="s">"purple"</span><span class="p">&gt;</span>Purple<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
          <span class="p">&lt;/</span><span class="nt">select</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

        <span class="p">&lt;</span><span class="nt">button</span>
          <span class="na">className</span><span class="p">=</span><span class="s">"border-solid border-black border-2 py-1 px-4 hover:bg-black hover:text-white w-full"</span>
          <span class="na">type</span><span class="p">=</span><span class="s">"submit"</span>
        <span class="p">&gt;</span>
          Create Note
        <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">};</span>
</code></pre>

</div>



<p>Previously, we would have to abstract this form out into its own component and add <code>"use client"</code> at the top.</p>

<p>Now, thanks to <a href="https://nextjs.org/docs/app/api-reference/functions/server-actions"><strong>server actions</strong></a>, we can keep everything in this file and write an <code>async</code> function that will be used as the form‚Äôs <code>action</code>.</p>

<p>To get started, we need to enable Server Actions in our Next.js project by adding the experimental <code>serverActions</code> flag to the <code>next.config.js</code> file:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="c1">// next.config.js</span>

<span class="cm">/** @type {import('next').NextConfig} */</span>
<span class="kd">const</span> <span class="nx">nextConfig</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">experimental</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">serverActions</span><span class="p">:</span> <span class="kc">true</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="kr">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">nextConfig</span><span class="p">;</span>
</code></pre>

</div>



<p>Server Actions can be defined in two places:</p>

<ul>
<li>Inside the component that uses it (Server Components only).</li>
<li>In a separate file (Client and Server Components), for reusability. You can define multiple Server Actions in a single file.</li>
</ul>

<p>Before we setup our server action, let‚Äôs install <code>zod</code> as we can use it to validate the data from the form:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="nx">npm</span> <span class="nx">i</span> <span class="nx">zod</span>
</code></pre>

</div>



<p>To keep things simple, we‚Äôll define our action function here in the <code>NotesPage</code> component:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="c1">// src/app/notes/page.tsx</span>

<span class="k">import</span> <span class="p">{</span> <span class="nx">revalidatePath</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">next/cache</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">z</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">zod</span><span class="dl">"</span><span class="p">;</span>

<span class="k">import</span> <span class="p">{</span> <span class="nx">db</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@/drizzle/config</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">notes</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@/drizzle/schema</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">z</span><span class="p">.</span><span class="nx">object</span><span class="p">({</span>
  <span class="na">name</span><span class="p">:</span> <span class="nx">z</span><span class="p">.</span><span class="kr">string</span><span class="p">().</span><span class="nx">min</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>
  <span class="na">content</span><span class="p">:</span> <span class="nx">z</span><span class="p">.</span><span class="kr">string</span><span class="p">().</span><span class="nx">min</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>
  <span class="na">color</span><span class="p">:</span> <span class="nx">z</span><span class="p">.</span><span class="kr">string</span><span class="p">().</span><span class="nx">min</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="p">});</span>

<span class="kd">const</span> <span class="nx">NotesPage</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">createNote</span> <span class="o">=</span> <span class="k">async</span> <span class="p">(</span><span class="na">formData</span><span class="p">:</span> <span class="nx">FormData</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">use server</span><span class="dl">"</span><span class="p">;</span>

    <span class="c1">// validate data</span>
    <span class="kd">const</span> <span class="nx">validated</span> <span class="o">=</span> <span class="nx">schema</span><span class="p">.</span><span class="nx">parse</span><span class="p">({</span>
      <span class="na">name</span><span class="p">:</span> <span class="nx">formData</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">),</span>
      <span class="na">content</span><span class="p">:</span> <span class="nx">formData</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">"</span><span class="s2">content</span><span class="dl">"</span><span class="p">),</span>
      <span class="na">color</span><span class="p">:</span> <span class="nx">formData</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">"</span><span class="s2">color</span><span class="dl">"</span><span class="p">)</span>
    <span class="p">});</span>

    <span class="k">try</span> <span class="p">{</span>
      <span class="k">await</span> <span class="nx">db</span><span class="p">.</span><span class="nx">insert</span><span class="p">(</span><span class="nx">notes</span><span class="p">).</span><span class="nx">values</span><span class="p">({</span>
        <span class="na">name</span><span class="p">:</span> <span class="nx">validated</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span>
        <span class="na">content</span><span class="p">:</span> <span class="nx">validated</span><span class="p">.</span><span class="nx">content</span><span class="p">,</span>
        <span class="na">color</span><span class="p">:</span> <span class="nx">validated</span><span class="p">.</span><span class="nx">color</span>
      <span class="p">});</span>

      <span class="nx">revalidatePath</span><span class="p">(</span><span class="dl">"</span><span class="s2">/notes</span><span class="dl">"</span><span class="p">);</span>

      <span class="k">return</span> <span class="p">{</span>
        <span class="na">message</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Note created successfully!</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">revalidated</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="na">now</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span>
      <span class="p">};</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="p">{</span>
        <span class="na">message</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Something went wrong when creating the note!</span><span class="dl">"</span>
      <span class="p">};</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>NotesPage<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>

      <span class="p">&lt;</span><span class="nt">form</span>
        <span class="na">className</span><span class="p">=</span><span class="s">"inline-flex items-start flex-col space-y-4 border-solid border-black border-2 p-4 mt-2 w-80"</span>
        <span class="na">action</span><span class="p">=</span><span class="si">{</span><span class="nx">createNote</span><span class="si">}</span>
      <span class="p">&gt;</span>
        <span class="si">{</span><span class="cm">/* ... */</span><span class="si">}</span>
      <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">};</span>
</code></pre>

</div>



<p>Now, open up the DevTools and go to the Network tab and clear everything out.</p>

<p>Next, try to submit the form with something like this:</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--ciQMl6qA--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/d1y8e57hgkwpsv1f84io.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--ciQMl6qA--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/d1y8e57hgkwpsv1f84io.png" alt="Sample note being entered into form" width="339" height="384"></a></p>

<p>When you click <strong>Create Note</strong>, open up the DevTools and check the Network tab:</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--PY5cexcr--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/qu3vpf0h44po2akr86bd.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--PY5cexcr--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/qu3vpf0h44po2akr86bd.png" alt="POST request being sent to notes route" width="800" height="168"></a></p>

<p>You‚Äôll see it sends a <code>POST</code> request to the URL that we are currently on.</p>

<p>Not only that, but if you head over to DBeaver, you should see the note has been added to the database as well (you might need to click <strong>Refresh</strong> along the bottom of the window):</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--LFjVUFXs--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/9vgjjmu7yodunefeg1h5.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--LFjVUFXs--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/9vgjjmu7yodunefeg1h5.png" alt="Sample note appearing in local postgres db" width="800" height="109"></a></p>

<h2>
  
  
  Fetch and Display Notes
</h2>

<p>Now let‚Äôs add another async function, this time outside the component body, to query the database and get all the notes:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="c1">// src/app/notes/page.tsx</span>

<span class="kd">const</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">z</span><span class="p">.</span><span class="nx">object</span><span class="p">({</span>
  <span class="c1">// ...</span>
<span class="p">});</span>

<span class="kd">const</span> <span class="nx">getNotes</span> <span class="o">=</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">nts</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">db</span><span class="p">.</span><span class="nx">select</span><span class="p">().</span><span class="k">from</span><span class="p">(</span><span class="nx">notes</span><span class="p">);</span>

    <span class="k">return</span> <span class="nx">nts</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="dl">"</span><span class="s2">Something went wrong when fetching notes!</span><span class="dl">"</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>
</code></pre>

</div>



<p>Then let‚Äôs update the page component to use it, as well as set up <code>colorVariants</code> for dynamic background color. I personally don't like this approach. I would much rather just use string interpolation within the <code>className</code> prop, but this is just how it's done with Tailwind:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="c1">// src/app/notes/page.tsx</span>

<span class="c1">// ...</span>

<span class="kd">const</span> <span class="nx">colorVariants</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">blue</span><span class="p">:</span> <span class="dl">"</span><span class="s2">bg-blue-200</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">green</span><span class="p">:</span> <span class="dl">"</span><span class="s2">bg-green-200</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">purple</span><span class="p">:</span> <span class="dl">"</span><span class="s2">bg-purple-200</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">yellow</span><span class="p">:</span> <span class="dl">"</span><span class="s2">bg-yellow-200</span><span class="dl">"</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">NotesPage</span> <span class="o">=</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">createNote</span> <span class="o">=</span> <span class="k">async</span> <span class="p">(</span><span class="na">formData</span><span class="p">:</span> <span class="nx">FormData</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">use server</span><span class="dl">"</span><span class="p">;</span>

    <span class="c1">// ...</span>
  <span class="p">};</span>

  <span class="kd">const</span> <span class="nx">nts</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">getNotes</span><span class="p">();</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">h1</span> <span class="na">className</span><span class="p">=</span><span class="s">"text-4xl"</span><span class="p">&gt;</span>NotesPage<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>

      <span class="p">&lt;</span><span class="nt">form</span>
        <span class="na">className</span><span class="p">=</span><span class="s">"inline-flex items-start flex-col space-y-4 border-solid border-black border-2 p-4 mt-2 w-80"</span>
        <span class="na">action</span><span class="p">=</span><span class="si">{</span><span class="nx">createNote</span><span class="si">}</span>
      <span class="p">&gt;</span>
          <span class="si">{</span><span class="cm">/*  */</span><span class="si">}</span>
      <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>

      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"mt-4"</span><span class="p">&gt;</span>
              <span class="p">&lt;</span><span class="nt">h2</span> <span class="na">className</span><span class="p">=</span><span class="s">"text-2xl"</span><span class="p">&gt;</span>Notes<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>

                <span class="p">&lt;</span><span class="nt">ul</span> <span class="na">className</span><span class="p">=</span><span class="s">"grid gap-4 grid-cols-12"</span><span class="p">&gt;</span>
                  <span class="si">{</span><span class="nx">nts</span><span class="p">.</span><span class="nx">length</span>
                    <span class="p">?</span> <span class="nx">nts</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">nt</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
                        <span class="c1">// @ts-ignore</span>
                        <span class="kd">const</span> <span class="nx">colorClasses</span> <span class="o">=</span> <span class="nx">colorVariants</span><span class="p">[</span><span class="nx">nt</span><span class="p">.</span><span class="nx">color</span><span class="p">];</span>

                        <span class="k">return</span> <span class="p">(</span>
                          <span class="p">&lt;</span><span class="nt">li</span> <span class="na">key</span><span class="p">=</span><span class="si">{</span><span class="nx">nt</span><span class="p">.</span><span class="nx">id</span><span class="si">}</span> <span class="na">className</span><span class="p">=</span><span class="si">{</span><span class="s2">`</span><span class="p">${</span><span class="nx">colorClasses</span><span class="p">}</span><span class="s2"> col-span-2 p-4 rounded-lg`</span><span class="si">}</span><span class="p">&gt;</span>
                            <span class="p">&lt;</span><span class="nt">h3</span> <span class="na">className</span><span class="p">=</span><span class="s">"text-xl font-semibold mb-1"</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">nt</span><span class="p">.</span><span class="nx">name</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
                            <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">nt</span><span class="p">.</span><span class="nx">content</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
                          <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
                        <span class="p">);</span>
                      <span class="p">})</span>
                    <span class="p">:</span> <span class="kc">null</span><span class="si">}</span>
                <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">};</span>
</code></pre>

</div>



<p>Now our notes will appear in a nice little grid!</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--Od8EgKxP--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ns8dovoc45lxypfsie0b.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--Od8EgKxP--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ns8dovoc45lxypfsie0b.png" alt="Sample notes appearing in a grid" width="714" height="619"></a></p>

<h2>
  
  
  Deploy - Prerequisites
</h2>

<p>Now time for the main attraction: deployment!</p>

<p>If you‚Äôve never deployed a full-stack app like this before, it‚Äôs a great learning experience. It certainly was for me!</p>

<p>First, there are a few prerequisites:</p>

<ol>
<li>
<strong>Docker:</strong> Make sure you have Docker installed on your local machine.</li>
<li>
<strong>Docker Compose:</strong> Install Docker Compose, which is a tool for defining and running multi-container Docker applications.</li>
<li>
<strong>DigitalOcean Account:</strong> Set up a DigitalOcean account and create a VPS (Virtual Private Server) instance.</li>
</ol>

<p>I‚Äôll walk you through each of these steps now.</p>

<h2>
  
  
  Docker and Docker Compose
</h2>

<p>You can check if <code>docker</code> is already installed on your machine by going to the root directory of your machine, and running this command:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>docker <span class="nt">--version</span>
<span class="c"># Docker version 24.0.6, build ed223bc</span>
</code></pre>

</div>



<p>If not, then you will need to check the <a href="https://docs.docker.com/engine/install/"><strong>installation instructions online</strong></a> to install Docker for your machine.</p>

<p>Similarly, you can run this command to check if <code>docker compose</code> is installed on your machine or not:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>docker compose version
<span class="c"># Docker Compose version v2.20.3</span>
</code></pre>

</div>



<p>You can find installation instructions for Docker Compose <a href="https://docs.docker.com/compose/install/"><strong>here</strong></a>.</p>

<h2>
  
  
  DigitalOcean
</h2>

<p>Next, head over to <a href="https://www.digitalocean.com/"><strong>DigitalOcean‚Äôs website</strong></a> and click <strong>Sign Up</strong> if don‚Äôt have an account, or <strong>Login</strong> if you already have one. I choose to <strong>Sign up with GitHub</strong></p>

<p>If you chose to Sign up as well, here‚Äôs what I selected in the welcome screen:</p>

<ul>
<li>
<strong>What do you plan to build on DigitalOcean?</strong> A web or mobile application</li>
<li>
<strong>What is your role or business type?</strong> Hobbyist or Student</li>
<li>
<strong>What is your monthly spend on cloud infrastructure across cloud platforms? (Provide an estimate):</strong> $0 - $50</li>
<li>
<strong>How many employees work at your company?</strong> I work alone</li>
</ul>

<p>Click <strong>Submit</strong></p>

<p>Add a payment method of your choice.</p>

<p>Once logged in, you should land on a page that looks like this:</p>

<p><a href="https://cloud.digitalocean.com/welcome?i=90aab7">https://cloud.digitalocean.com/welcome</a></p>

<p>I would suggest removing the <code>/welcome</code> part, and go straight to <a href="https://cloud.digitalocean.com/">https://cloud.digitalocean.com/</a></p>

<p>This should redirect you to a <code>/projects</code> page, with a default project already created called <code>first-project</code></p>

<p>First, we need to <strong>Create a Droplet</strong></p>

<p>To do so, click the green <strong>Create</strong> button in the top right corner, and click <strong>Droplets</strong> from the dropdown menu</p>

<p>Choose a <strong>Region</strong> that is closest to your location</p>

<p>Leave <strong>Datacenter</strong> selection alone</p>

<p>For <strong>Choose an image</strong>, I stuck with the default <strong>Ubuntu</strong> on <strong>Version 23.04 x64</strong></p>

<p>For <strong>Droplet Type</strong>, Basic (Plan selected) is the cheapest choice</p>

<p>For <strong>CPU options</strong>, I selected:</p>

<ul>
<li>Premium Intel (Disk: NVMe SSD)</li>
<li>$8/mo - 1GB / 1 Intel CPU, 35GB NVMe SSDs, 1000GB transfer</li>
</ul>

<p>For <strong>Choose Authentication Method</strong>, we will be using an <strong>SSH Key</strong>.</p>

<p>Thankfully DigitalOcean has a nice prompt saying ‚ÄúWe can walk you through setting up your first SSH key‚Äù, which I will walk you through now. Click on <strong>Add SSH Key</strong>.</p>

<h2>
  
  
  Creating an SSH Key
</h2>

<p>Open a terminal and run the following command (at the root level):<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code><span class="nb">sudo </span>ssh-keygen
</code></pre>

</div>



<p>You will be prompted to save and name the key.</p>

<p>I will save mine in the <code>/usr/local/bin</code> directory. Again, I am on Ubuntu, so you will need to pick a location that works for your machine.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>/usr/local/bin/digital_ocean_ssh
</code></pre>

</div>



<p>Next you will be asked to create and confirm a passphrase for the key. This is highly recommended, and you can use a site <a href="https://www.strongpasswordgenerator.org/"><strong>like this one</strong></a> to generate a strong passphrase.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>Enter passphrase <span class="o">(</span>empty <span class="k">for </span>no passphrase<span class="o">)</span>:
Enter same passphrase again:
</code></pre>

</div>



<p>Store what you‚Äôve entered into a text file, or the <code>.env.local</code> file as a comment, for now</p>

<p>You should see the following output:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>Your identification has been saved <span class="k">in </span>digital_ocean_ssh
Your public key has been saved <span class="k">in </span>digital_ocean_ssh.pub
The key fingerprint is:
.....
The key<span class="s1">'s randomart image is:
.....
</span></code></pre>

</div>



<p>Copy and paste this output into the same location that you pasted the filename and password from the previous step.</p>

<p>We need to copy the contents of the <code>.pub</code> file into the SSH ley field in the modal</p>

<p>We can do that by running:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code><span class="nb">cat </span>PATH_TO_YOUR_PUB_FILE
<span class="c"># ex: cat /usr/local/bin/digital_ocean_ssh.pub</span>
</code></pre>

</div>



<p>Either way, once you run the command, you should see an output that starts like this:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>ssh-rsa REALLY_LONG_ASS_STRING_HERE
</code></pre>

</div>



<p>Copy this, and paste it into the <strong>SSH key content</strong> input field back on DigitalOcean</p>

<p>Give it a name. I named mine <strong>DigitalOcean Next.js SSH</strong></p>

<p>Click <strong>Add SSH Key</strong></p>

<h2>
  
  
  Finish Droplet Setup
</h2>

<p>Under options, you can click to <strong>Add improved metrics monitoring and alerting (free)</strong>, since it is, well, free. The others are up to you.</p>

<p>Scroll down to <strong>Finalize Details</strong></p>

<p>Add some tags if you want, I added a few:</p>

<ul>
<li><code>next_js</code></li>
<li><code>digital_ocean</code></li>
<li><code>postgres</code></li>
</ul>

<p>Click <strong>Create Droplet</strong></p>

<p>Wait for the blue progress bar to finish, and eventually you should see a notification that the Droplet was added to the project.</p>

<h2>
  
  
  Test Droplet Connection
</h2>

<p>Once your Droplet is created, you can access it via SSH.</p>

<p>Click on it, and copy the <code>ipv4</code> address to the same text file / <code>.env.local</code> file as a comment.</p>

<p>Run this command at root level (double check the path):<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>ssh <span class="nt">-i</span> /PATH_TO_YOUR_SSH_FILE root@YOUR_DROPLET_IP
<span class="c"># ex: ssh -i /usr/local/bin/digital_ocean_ssh root@##.###.###.##</span>
</code></pre>

</div>



<p>If you should see this:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>Are you sure you want to <span class="k">continue </span>connecting <span class="o">(</span><span class="nb">yes</span>/no/[fingerprint]<span class="o">)</span>?
Please <span class="nb">type</span> <span class="s1">'yes'</span>, <span class="s1">'no'</span> or the fingerprint:
</code></pre>

</div>



<p>Enter in <code>fingerprint</code>, then <code>yes</code></p>

<p>You will then see this:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>Enter passphrase <span class="k">for </span>key <span class="s1">'/home/andrew/digital_ocean_ssh'</span>:
</code></pre>

</div>



<p>Copy and paste the passphrase you created earlier and hit <strong>Enter</strong></p>

<p>You should now see your terminal change to the root of your droplet:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>root@ubuntu-s-1vcpu-1gb-35gb-intel-sfo3-01:~#
</code></pre>

</div>



<p>You can exit anytime by running the <code>exit</code> command.</p>

<h2>
  
  
  Create a <strong>PostgreSQL Database Cluster</strong>
</h2>

<p>Back at the main dashboard, click the green <strong>Create</strong> button in the top right corner, and click <strong>Databases</strong> from the dropdown menu.</p>

<p>Choose the <strong>datacenter region</strong> closest to you.</p>

<p>For the <strong>database engine</strong>, select <strong>PostgreSQL (v15)</strong>.</p>

<p>Choose whichever <strong>database configuration</strong> that best suits your budget. The same goes for <strong>storage size</strong>. I went with 20GB.</p>

<p>Make sure the project selected is <strong>first-project</strong>.</p>

<p>When you‚Äôre ready, click the¬†<strong>Create a Database Cluster</strong>.</p>

<p>It‚Äôll take approximately 5 minutes for the database to finish provisioning.</p>

<h2>
  
  
  Setup <code>Dockerfile</code> and <code>docker-compose.yml</code>
</h2>

<p>While the database is provisioning, let‚Äôs Dockerize our Next.js app</p>

<p>Head back to the code and add these 2 files at the root level of the project:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code><span class="nb">touch </span>Dockerfile docker-compose.yml
</code></pre>

</div>



<p>In the <code>Dockerfile</code>, add the following code:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight docker"><code><span class="c"># Dockerfile</span>

<span class="c"># Use an official Node.js runtime as the base image</span>
<span class="k">FROM</span><span class="s"> node:18-alpine</span>

<span class="c"># Set the working directory in the container</span>
<span class="k">WORKDIR</span><span class="s"> /usr/src/app</span>

<span class="c"># Copy package.json and package-lock.json to the container</span>
<span class="k">COPY</span><span class="s"> package.json package-lock.json ./</span>

<span class="c"># Install dependencies</span>
<span class="k">RUN </span>npm <span class="nb">install</span>

<span class="c"># Copy the rest of the application files to the container</span>
<span class="k">COPY</span><span class="s"> . .</span>

<span class="c"># Build the Next.js application for production</span>
<span class="k">RUN </span>npm run build

<span class="c"># Expose the application port (assuming your app runs on port 3000)</span>
<span class="k">EXPOSE</span><span class="s"> 3000</span>

<span class="c"># Start the application</span>
<span class="k">CMD</span><span class="s"> ["npm", "start"]</span>
</code></pre>

</div>



<p>And in the <code>docker-compose.yml</code> file, add the following:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight yaml"><code><span class="c1"># docker-compose.yml</span>

<span class="na">version</span><span class="pi">:</span> <span class="s2">"</span><span class="s">3"</span>

<span class="na">services</span><span class="pi">:</span>
  <span class="na">web</span><span class="pi">:</span>
    <span class="na">build</span><span class="pi">:</span>
      <span class="na">context</span><span class="pi">:</span> <span class="s">.</span>
      <span class="na">dockerfile</span><span class="pi">:</span> <span class="s">Dockerfile</span>
    <span class="na">ports</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s2">"</span><span class="s">3000:3000"</span>
    <span class="na">environment</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">NODE_ENV=production</span>

  <span class="na">db</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">postgres:latest</span>
    <span class="na">environment</span><span class="pi">:</span>
      <span class="na">POSTGRES_USER</span><span class="pi">:</span> <span class="s2">"</span><span class="s">${POSTGRES_USERNAME}"</span>
      <span class="na">POSTGRES_PASSWORD</span><span class="pi">:</span> <span class="s2">"</span><span class="s">${POSTGRES_PASSWORD}"</span>
      <span class="na">POSTGRES_DB</span><span class="pi">:</span> <span class="s2">"</span><span class="s">${POSTGRES_DATABASE}"</span>
</code></pre>

</div>



<p>As you can see, we are using environment variables for some of our values related to Postgres.</p>

<p>We want to keep this information secure, and not have it in plain sight.</p>

<p>While we already have a <code>.env.local</code>, the <code>docker-compose.yml</code> reads from <code>.env</code> only.</p>

<p>So, duplicate the <code>.env.local</code> file, and rename it to <code>.env</code>.</p>

<p>You will also want to make sure to update the <code>.gitignore</code>:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code># local env files
.env
.env*.local
</code></pre>

</div>



<p>In the <code>.env</code> file, have the following:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code># .env

DATABASE_URL="postgresql://postgres:postgres@localhost:5432/postgres"

POSTGRES_USERNAME="postgres"
POSTGRES_PASSWORD="postgres"
POSTGRES_DATABASE="postgres"
</code></pre>

</div>



<p>Next, make sure to push these changes up to GitHub!</p>

<h2>
  
  
  Finish DigitalOcean Postgres Setup
</h2>

<p>Head back over to DigitalOcean, and under the Getting Started section, skip ahead a bit and click on <strong>4 Next Steps</strong>.</p>

<p>This will contain the migrate command that we will need shortly. Click the blue <code>show-password</code> link, and then copy / paste the command somewhere. You can click <strong>Hide</strong>.</p>

<h2>
  
  
  Import Local DB To DigitalOcean
</h2>

<p>Since we already have a local PostgreSQL database, lets export it and then import that into DigitalOcean.</p>

<p>To export an existing database, we can use the <code>pg_dump</code> command (run this at the root level of your machine):<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code><span class="nb">cd</span> ~
pg_dump <span class="nt">-h</span> localhost <span class="nt">-p</span> 5432 <span class="nt">-U</span> postgres <span class="nt">-d</span> postgres <span class="nt">-F</span> c <span class="nt">-b</span> <span class="nt">-v</span> <span class="nt">-f</span> ~/Documents/db_backup.pgsql
</code></pre>

</div>



<p>When you run this command, it will prompt you for the password, which is also just <code>postgres</code>. I am on Ubuntu, so I chose the Documents folder for convenience sake. Feel free to update the path as needed.</p>

<p>Here‚Äôs a quick explanation of the command options:</p>

<ul>
<li>
<strong><code>h localhost</code></strong>: Specifies the host where your PostgreSQL server is running.</li>
<li>
<strong><code>p 5432</code></strong>: Specifies the port number on which PostgreSQL is listening.</li>
<li>
<strong><code>U postgres</code></strong>: Specifies the username to connect to the database.</li>
<li>
<strong><code>d postgres</code></strong>: Specifies the name of the database you want to export.</li>
<li>
<strong><code>F c</code></strong>: Specifies the custom format for the dump file.</li>
<li>
<strong><code>b</code></strong>: Includes large objects in the dump.</li>
<li>
<strong><code>v</code></strong>: Enables verbose mode to see the progress.</li>
<li>
<strong><code>f ~/Documents/db_backup.dump</code></strong>: Specifies the output file path and name. In this case, the dump file will be saved in the Documents folder with the name <strong><code>db_backup.dump</code></strong>.</li>
</ul>

<p>And there it is!</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--DxDE693i--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/8xkswgqj2br8t9748c94.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--DxDE693i--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/8xkswgqj2br8t9748c94.png" alt="db_backup.pgsql dump file in documents folder" width="469" height="366"></a></p>

<p>Now we need to import this into DigitalOcean.</p>

<p>But before we do, we can add a connection to our DigitalOcean PostgreSQL database in DBeaver. I think this is just nice to have, so we can make sure things are working properly.</p>

<p>In DBeaver, click <strong>Database</strong> and then <strong>New Database Connection</strong></p>

<p>Select <strong>PostgreSQL</strong></p>

<p>Have <strong>Connect by</strong> set to <strong>Host</strong></p>

<p>The <strong>URL</strong> field will not be adjustable, but that‚Äôs ok as it will auto update with the information we provide.</p>

<p>Simply copy and paste the information from DigitalOcean into their respective field. When you copy + paste the <code>host</code>, you should see the URL update.</p>

<p>You will need to update the:</p>

<ul>
<li>Host</li>
<li>Database</li>
<li>Port</li>
<li>Username</li>
<li>Password</li>
</ul>

<p>Once you do, click <strong>Test Connection</strong>. If you see something like this:</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--lhSHhMVS--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/enhnuwjgh06j2crrn5ud.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--lhSHhMVS--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/enhnuwjgh06j2crrn5ud.png" alt="DigitalOcean PostgreSQL db connection success" width="415" height="84"></a></p>

<p>You‚Äôre good to proceed! I'm simply cutting off most of the information within the popup.</p>

<p>Click <strong>Ok</strong> to close this little popup, and then click <strong>Finish</strong></p>

<p>Once the connection has been added to your sidebar, you can rename it if you like to make it clearer what the connection is for:</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--y6ymGJQu--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/vhn99zuer0qbirpcqc6y.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--y6ymGJQu--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/vhn99zuer0qbirpcqc6y.png" alt="Renaming DigitalOcean Postgres db to note_taker" width="189" height="144"></a></p>

<p>You can also see here there are no tables, but like before with the local setup, that‚Äôs ok! </p>

<p>You can view the DigitalOcean docs on Importing a database <a href="https://docs.digitalocean.com/products/databases/postgresql/how-to/import-databases/"><strong>here</strong></a> if you like.</p>

<p>To import the database, we‚Äôll take the migrate command copied from earlier, and just add on the path to our <code>db_backup.pgsql</code> file:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code><span class="nv">PGPASSWORD</span><span class="o">=[</span>YOUR_DB_PASSWORD] pg_restore <span class="nt">-U</span> <span class="o">[</span>YOUR_DB_USERNAME] <span class="nt">-h</span> <span class="o">[</span>YOUR_DB_HOST] <span class="nt">-p</span> <span class="o">[</span>YOUR_DB_PORT] <span class="nt">-d</span> <span class="o">[</span>YOUR_DB_NAME] ~/Documents/db_backup.pgsql
</code></pre>

</div>



<p>Once you run this, you should see an output like this:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>pg_restore: error: could not execute query: ERROR:  must be member of role <span class="s2">"postgres"</span>
Command was: ALTER TABLE public.notes OWNER TO postgres<span class="p">;</span>

pg_restore: warning: errors ignored on restore: 1
</code></pre>

</div>



<p>Which seems like something went wrong, but don‚Äôt worry! If you head over to DBeaver, you should see that the <code>notes</code> table has been added!</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--ltMqDMNT--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/pfopxcx9kb4aar2g9sx5.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--ltMqDMNT--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/pfopxcx9kb4aar2g9sx5.png" alt="notes table added to digitalocean postgres db" width="201" height="169"></a></p>

<h2>
  
  
  <strong>Deploy to Droplet Using Docker Compose</strong>
</h2>

<p>To get started, in a terminal window, SSH into your DigitalOcean VPS like before. Within our VPS, we‚Äôll need to install the following:</p>

<ul>
<li>Docker</li>
<li>Docker Compose</li>
<li>PostgreSQL</li>
</ul>

<p>Thankfully, it‚Äôs very easy to do so.</p>

<p>Install Docker:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code><span class="c"># Update the system packages</span>
<span class="nb">sudo </span>apt update

<span class="c"># Install necessary packages to allow apt to use a repository over HTTPS</span>
<span class="nb">sudo </span>apt <span class="nb">install </span>apt-transport-https ca-certificates curl software-properties-common

<span class="c"># Add Docker's official GPG key</span>
curl <span class="nt">-fsSL</span> https://download.docker.com/linux/ubuntu/gpg | <span class="nb">sudo </span>gpg <span class="nt">--dearmor</span> <span class="nt">-o</span> /usr/share/keyrings/docker-archive-keyring.gpg

<span class="c"># Add Docker repository</span>
<span class="nb">echo</span> <span class="s2">"deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu </span><span class="si">$(</span>lsb_release <span class="nt">-cs</span><span class="si">)</span><span class="s2"> stable"</span> | <span class="nb">sudo tee</span> /etc/apt/sources.list.d/docker.list <span class="o">&gt;</span> /dev/null

<span class="c"># Update the system packages again</span>
<span class="nb">sudo </span>apt update

<span class="c"># Install Docker</span>
<span class="nb">sudo </span>apt <span class="nb">install </span>docker-ce docker-ce-cli containerd.io
</code></pre>

</div>



<p>Verify Docker installation:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>docker <span class="nt">--version</span>
<span class="c"># Docker version 24.0.6, build ed223bc</span>
</code></pre>

</div>



<p>Install Docker Compose:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code><span class="c"># Download the latest version of Docker Compose</span>
<span class="nb">sudo </span>curl <span class="nt">-L</span> <span class="s2">"https://github.com/docker/compose/releases/latest/download/docker-compose-</span><span class="si">$(</span><span class="nb">uname</span> <span class="nt">-s</span><span class="si">)</span><span class="s2">-</span><span class="si">$(</span><span class="nb">uname</span> <span class="nt">-m</span><span class="si">)</span><span class="s2">"</span> <span class="nt">-o</span> /usr/local/bin/docker-compose

<span class="c"># Make Docker Compose executable</span>
<span class="nb">sudo chmod</span> +x /usr/local/bin/docker-compose
</code></pre>

</div>



<p>Verify Docker Compose installation:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>docker compose version
<span class="c"># Docker Compose version v2.21.0</span>
</code></pre>

</div>



<p>Install PostgreSQL:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code><span class="nb">sudo </span>apt update
<span class="nb">sudo </span>apt <span class="nb">install </span>postgresql postgresql-contrib
</code></pre>

</div>



<p>Verify PostgreSQL installation:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>psql <span class="nt">--version</span>
<span class="c"># psql (PostgreSQL) 15.4 (Ubuntu 15.4-0ubuntu0.23.04.1)</span>
</code></pre>

</div>



<p><code>cd</code> back to the root level, and if you run the command <code>ls</code>, all you should see listed is <code>snap</code></p>

<p>Create a new directory called <code>repos</code> and <code>cd</code> into it<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code><span class="nb">mkdir </span>repos
<span class="nb">cd </span>repos/
</code></pre>

</div>



<p>In this <code>repos</code> folder, <code>clone</code> the GitHub repo you setup at the start by running:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>git clone https://github.com/[YOUR_GITHUB_USERNAME]/[YOUR_REPO_LINK].git
</code></pre>

</div>



<p>Once the clone is complete, <code>cd</code> into the directory, and run <code>ls</code> to verify the contents:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code><span class="nb">cd</span> <span class="o">[</span>YOUR_REPO_NAME]
<span class="nb">ls</span>

<span class="c"># output:</span>

<span class="c"># ls</span>
Dockerfile  docker-compose.yml  next.config.js     package.json       public  tailwind.config.ts
README.md   drizzle.config.ts   package-lock.json  postcss.config.js  src     tsconfig.json
</code></pre>

</div>



<p>Great!</p>

<p>One issue here though is we don‚Äôt have an <code>.env</code> file, which makes sense since we added it to the <code>.gitignore</code>. Thankfully, it‚Äôs very easy to not only create this file, but write to it as well.</p>

<p>You can create it by running:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code><span class="nb">touch</span> .env
</code></pre>

</div>



<p>And if you run <code>ls</code> again, it‚Äôs not there? What gives??</p>

<p>The <code>.env</code> file is considered a hidden file. To view hidden files only within the current directory, you can run this command:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code><span class="nb">ls</span> <span class="nt">-ld</span> .?<span class="k">*</span>
</code></pre>

</div>



<p>You should now see <code>.env</code> listed, along with <code>.git</code> and <code>.gitignore</code>.</p>

<p>What do we need to write the <code>.env</code> file? </p>

<p>We will need <code>DATABASE_URL</code> for our Drizzle config + schema, and as well as <code>POSTGRES_USERNAME</code>, <code>POSTGRES_PASSWORD</code>, and <code>POSTGRES_DATABASE</code> for our <code>docker-compose.yml</code>.</p>

<p>To write to the <code>.env</code> file, you can run the following command:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code><span class="nb">echo</span> <span class="s2">"DATABASE_URL=[YOUR_CONNECTION_STRING_URI]"</span> <span class="o">&gt;</span> .env
<span class="nb">echo</span> <span class="s2">"POSTGRES_DATABASE=[YOUR_DATABASE_NAME]"</span> <span class="o">&gt;&gt;</span> .env
<span class="nb">echo</span> <span class="s2">"POSTGRES_USERNAME=[YOUR_DATABASE_USERNAME]"</span> <span class="o">&gt;&gt;</span> .env
<span class="nb">echo</span> <span class="s2">"POSTGRES_PASSWORD=[YOUR_DATABASE_PASSWORD]"</span> <span class="o">&gt;&gt;</span> .env
</code></pre>

</div>



<p>You can get all the necessary info from your DigitalOcean dashboard. I‚Äôd recommend copying and pasting the above command into a text file so you can easily swap out the placeholders for your values, and then copy and paste all 4 lines at once with the correct values into your terminal to run them one after another.</p>

<p>You can then verify the write was successful by running the <code>cat</code> command:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code><span class="nb">cat</span> .env

<span class="c"># output:</span>
<span class="c"># DATABASE_URL=...</span>
<span class="c"># POSTGRES_DATABASE=...</span>
<span class="c"># POSTGRES_USERNAME=...</span>
<span class="c"># POSTGRES_PASSWORD=...</span>
</code></pre>

</div>



<p>Finally, we can start our services using Docker Compose in detached mode:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>docker compose up <span class="nt">-d</span>
</code></pre>

</div>



<p>It may take a bit of time to start up the services. but after a while you should see something like this:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code><span class="o">[</span>+] Running 3/3
 ‚úî Network <span class="o">[</span>YOUR_REPO_NAME]_default  Created
 ‚úî Container <span class="o">[</span>YOUR_REPO_NAME]-db-1   Started
 ‚úî Container <span class="o">[</span>YOUR_REPO_NAME]-web-1  Started
</code></pre>

</div>



<p>Now, if you open a new browser tab and go to the following address:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>http://[YOUR_DROPLET_IPV4_ADDRESS]:3000
</code></pre>

</div>



<p>Voila! Your app is now running in a VPS! üéâ</p>

<h2>
  
  
  Outro
</h2>

<p>I really hope you enjoyed this post and found it helpful! Some next steps to consider would be to deploy the containers as a Kubernetes cluster on DigitalOcean. However, I am a Docker noobie, and setting up a cluster with HTTPS seems like it‚Äôs a bit out of reach for me at this time. I am very happy I went through this process, and I hope you enjoyed it as well. And going through this process has definitely motivated me to learn more about Docker and Kubernetes.</p>

<p>As always, here is a link to my <a href="https://github.com/andrews1022/demo-nextjs-13-digitalocean-and-docker"><strong>repo</strong></a> with the full source code you can use as a reference in case you get stuck.</p>

<p>Cheers, and happy coding!</p>

 </details> 
 <hr /> 

 #### - [Test your React Libraries Locally with Yalc](https://dev.to/propelauth/test-your-react-libraries-locally-with-yalc-4nfh) 
 <details><summary>Article</summary> <p>Building and maintaining a React library can be a large task, even for small libraries.</p>

<p>You start off thinking that you just have to figure out how to properly build and package your code. And then quickly you realize there‚Äôs a ton of configuration options and combinations of tools you can use. You have to make sure you have your package.json, tsconfig, linting story, docs, and more in line. If you are supporting Next.js, you may have to add "use client" banners everywhere, and make sure your build system isn't stripping them away... because they definitely will be removed by default.</p>

<p>Once you have all that figured out, you are left with one final question‚Ä¶ does this actually work?</p>

<p>And I don't just mean adding unit tests. I mean, if a user installs it in their application, does it do what you expect?</p>

<p>For that, I wanted to highlight a tool that brings so much sanity and joy to an otherwise frustrating process: <a href="https://github.com/wclr/yalc?ref=propelauth.com"><strong>yalc</strong></a></p>

<h3>
  
  
  <strong>Before yalc: npm link</strong>
</h3>

<p>Let‚Äôs say we just finished up a React library. We're ready to set up a GitHub action that runs <code>npm publish</code> and let the world use what we‚Äôve built. Before we do that, we want to try it out for ourselves in a real application.</p>

<p>One option is we could just publish and test it. We could mark it as an alpha release so potential users are warned to not use it.. but this feels a little strange. Our library and application are both local, after all.</p>

<p>We google around and find <a href="https://docs.npmjs.com/cli/v10/commands/npm-link?v=true&amp;ref=propelauth.com"><strong>npm link</strong></a>, which seems like the answer we are looking for. The description is so promising:</p>

<blockquote>
<p><em>This is handy for installing your own stuff, so that you can work on it and test iteratively without having to continually rebuild.</em></p>
</blockquote>

<p>However, after linking our React library to our application, we get an error:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:

1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app See for tips about how to debug and fix this problem.
</code></pre>

</div>



<p>It links us to the <a href="https://legacy.reactjs.org/warnings/invalid-hook-call-warning.html?ref=propelauth.com"><strong>legacy React docs</strong></a> which gives us a lot of advice that doesn‚Äôt seem to apply to us. We aren‚Äôt using hooks in functions or have mismatched versions of react and react-dom?</p>

<p>Making a long story short, what is actually happening is that there are two different copies of the <code>react</code> package being used. When we run npm link, we don‚Äôt just need to link our project, we also need to link react and react-dom to make sure there‚Äôs only one copy.</p>

<p>This works, for now, but our workflow got more complicated from when we thought we could just run <code>npm link</code> and be done with it. It gets worse if you manage more than one React library as you might need to constantly need to unlink and relink different Reacts.</p>

<h3>
  
  
  <strong>Yalc to the rescue</strong>
</h3>

<p>This is exactly the problem that <a href="https://github.com/wclr/yalc?ref=propelauth.com"><strong>yalc</strong></a> solves. In their own words, yalc is a ‚ÄúBetter workflow than <strong>npm | yarn link</strong> for package authors.<strong>‚Äù</strong></p>

<p>With yalc, you can run:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>yalc publish
</code></pre>

</div>



<p>in your React library, and then run<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>yalc add my-package-name
</code></pre>

</div>



<p>in our application, and that‚Äôs it. <code>yalc publish</code> publishes the package locally, so you aren‚Äôt exposing it to everyone.</p>

<p>There‚Äôs no duplicate versions of React or cryptic invalid hook errors. It functions the same way that it would if we were publishing to npm. And that‚Äôs really it, it operates exactly as you would expect it to.</p>

<p>There are a few more advanced options, like you can run:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>yalc publish <span class="nt">--push</span>
</code></pre>

</div>



<p>which will both publish locally and run <code>yalc update</code> in all the locations where your package was added.</p>

<h3>
  
  
  <strong>Summary</strong>
</h3>

<p>Building a React library is hard enough, especially as the ecosystem changes with React Server Components and other changes library maintainers have to worry about. yalc takes an otherwise frustrating part of this process and makes it actually just work.</p>

 </details> 
 <hr /> 

 #### - [Discussion of the Week - v5](https://dev.to/devteam/discussion-of-the-week-v5-19bo) 
 <details><summary>Article</summary> <p>In this weekly roundup, we highlight what we believe to be the most thoughtful, helpful, and/or interesting discussion over the past week! Though we are strong believers in healthy and respectful debate, we typically try to choose discussions that are positive in nature and avoid those that are overly contentious.</p>

<p>Any folks whose articles we feature here will be rewarded with our Discussion of the Week badge. ‚ú®</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--6M-JeZHe--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/yvizv31dpchucxic2lxc.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--6M-JeZHe--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/yvizv31dpchucxic2lxc.png" alt="The Discussion of the Week badge. It includes a roll of thread inside a speech bubble. The thread is a reference to comment threads." width="800" height="800"></a></p>

<p>Now that y'all understand the flow, let's go! üèÉüí®</p>

<h2>
  
  
  The Discussion of the Week
</h2>

<p>For this week, I'd like to highlight Juanda's (<a class="mentioned-user" href="https://dev.to/juandadev">@juandadev</a>) post <a href="https://dev.to/juandadev/how-i-got-fired-from-my-dream-job-56hf">"How I Got Fired From my Dream Job"</a>:</p>


<div class="ltag__link">
  <a href="/juandadev" class="ltag__link__link">
    <div class="ltag__link__pic">
      <img src="https://res.cloudinary.com/practicaldev/image/fetch/s--pg67oEr8--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://res.cloudinary.com/practicaldev/image/fetch/s--SCPO0Q3x--/c_fill%2Cf_auto%2Cfl_progressive%2Ch_150%2Cq_auto%2Cw_150/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/385128/0724fe65-e55e-4a3e-9730-3ce636578d7e.png" alt="juandadev">
    </div>
  </a>
  <a href="/juandadev/how-i-got-fired-from-my-dream-job-56hf" class="ltag__link__link">
    <div class="ltag__link__content">
      <h2>How I Got Fired From my Dream Job</h2>
      <h3>Juanda Mart√≠nez „Éª Sep 27</h3>
      <div class="ltag__link__taglist">
        <span class="ltag__link__tag">#motivation</span>
        <span class="ltag__link__tag">#discuss</span>
        <span class="ltag__link__tag">#career</span>
      </div>
    </div>
  </a>
</div>


<p>In this candid and relatable post, Juanda recounts his recent experience of being laid off, walking us through the surrounding events and his reaction to it all. Despite the shock and disappointment that comes with losing his "dream job", Juanda's resilience and positivity really shine through in this post. He talks about the importance of continuously learning &amp; honing skills, mentioning his own plans to start up <strong>#30DaysOfCode</strong> with Node.js.</p>

<p>But, one of the coolest things about this post is how awesome folks have been in the comments section! So many of you hopped in with words of wisdom, encouragement, and sympathy.</p>

<p>One of my favorite bits of advice comes from <a class="mentioned-user" href="https://dev.to/donetmathew">@donetmathew</a> here:</p>


<div class="liquid-comment">
    <div class="details">
      <a href="/donetmathew">
        <img class="profile-pic" src="https://res.cloudinary.com/practicaldev/image/fetch/s--l3NwNN9e--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://res.cloudinary.com/practicaldev/image/fetch/s--qzBlcstR--/c_fill%2Cf_auto%2Cfl_progressive%2Ch_50%2Cq_auto%2Cw_50/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/1172080/ef8fe977-af0b-43f5-a183-525bd6af06e1.png" alt="donetmathew profile image">
      </a>
      <a href="/donetmathew">
        <span class="comment-username">donetmathew</span>
      </a>
      <span class="color-base-30 px-2 m:pl-0">‚Ä¢</span>

<a href="https://dev.to/donetmathew/comment/29k28" class="comment-date crayons-link crayons-link--secondary fs-s">
  <time class="date-no-year">
    Sep 28
  </time>

</a>

    </div>
    <div class="body">
      <p>Fall in love with your work but never with your organization. You are just a resource for them and can be replaced anytime. Wishing you the best</p>


    </div>
</div>


<p>Also, gotta shout out <a class="mentioned-user" href="https://dev.to/syxaxis">@syxaxis</a> for this kind and insightful response:</p>


<div class="liquid-comment">
    <div class="details">
      <a href="/syxaxis">
        <img class="profile-pic" src="https://res.cloudinary.com/practicaldev/image/fetch/s--PpIyLTlZ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://res.cloudinary.com/practicaldev/image/fetch/s--LUnLeUgw--/c_fill%2Cf_auto%2Cfl_progressive%2Ch_50%2Cq_auto%2Cw_50/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/789404/24bc25f1-a451-4b8b-948c-40f6c251e131.png" alt="syxaxis profile image">
      </a>
      <a href="/syxaxis">
        <span class="comment-username">George Johnson</span>
      </a>
      <span class="color-base-30 px-2 m:pl-0">‚Ä¢</span>

<a href="https://dev.to/syxaxis/comment/29kld" class="comment-date crayons-link crayons-link--secondary fs-s">
  <time class="date-no-year">
    Sep 29
  </time>

</a>

    </div>
    <div class="body">
      <p>NO! You were not fired, your skillset was simply no longer needed by that company. You didn't make any mistakes, you didn't damage or steal, your skillset is just not needed anymore, not you personally.</p>

<p>Never, ever take it personal, that's the worst thing to do. A redundancy is simply that your skillset is no longer required and unfortunately there is no longer a position that requires your skills. It's not about you, it's about their business.</p>

<p>Just remember that somewhere out there right now there are dozens if not hundreds of jobs being set up right now, one of which you will ace the interview and get, when you accept that fact it's just nowhere near as bad as it seems.</p>

<p>Stay lucky!</p>


    </div>
</div>


<p>Head on over to the comments and just take a look through them for a bit. There is so much supportiveness and kindness here. Thank y'all for bringing the love! üíö</p>

<h2>
  
  
  What are your picks?
</h2>

<p>The DEV Community is particularly special because of the kind, thoughtful, helpful, and entertaining discussions happening between community members. As such, we want to encourage folks to participate in discussions and reward those who are initiating or taking part in conversations across the community. After all, a community is made possible by the people interacting inside it.</p>

<p>There are loads of great discussions floating about in this community. This is just the one we chose to highlight. üôÇ</p>

<p>I urge you all to share your favorite discussion of the past week below in the comments. And if you're up for it, give the author an @mention ‚Äî it'll probably make 'em feel good. üíö</p>

 </details> 
 <hr /> 

 #### - [AI-Powered Carousel Maker - Create Carousels 10x Faster](https://dev.to/seeratawan01/ai-powered-carousel-maker-create-carousels-10x-faster-4n1b) 
 <details><summary>Article</summary> <p>I'm so pumped to tell you about <a href="https://postnitro.ai/">Postnitro.ai</a> - the AI carousel maker we built that creates stunning carousels in minutes.</p>

<p>All you do is enter a topic and Postnitro generates eye-catching carousels with optimized copy and branding tailored to you.</p>

<p>I'm not <u>exaggerating</u> when I say this AI is insanely fast and accurate. With Postnitro, anyone can create beautiful, high-converting carousels in under 5 minutes with zero design skills.</p>

<p>And since we built Postnitro to leverage the latest AI models, you can produce unlimited top-notch carousels at scale for <strong>free</strong>, customized to your brand and audience.</p>

<p>If you want a smarter, faster way to make carousel content that works on social media, you need to try Postnitro today. I'm really proud of the AI carousel maker I created and know it can take your marketing to the next level.</p>

<p>Let me know what you think once you see my AI in action! I'm confident Postnitro will blow you away just as much as it continues to amaze me each day. The future is here!</p>


<div class="crayons-card c-embed text-styles text-styles--secondary">
      <div class="c-embed__cover">
        <a href="https://postnitro.ai/" class="c-link s:max-w-50 align-middle" rel="noopener noreferrer">
          <img alt="" src="https://res.cloudinary.com/practicaldev/image/fetch/s--fnd-RIBN--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://postnitro.ai/images/og/postnitro-homepage-facebook.png" height="420" class="m-0" width="800">
        </a>
      </div>
    <div class="c-embed__body">
      <h2 class="fs-xl lh-tight">
        <a href="https://postnitro.ai/" rel="noopener noreferrer" class="c-link">
          Free Carousel Maker And Generator - Postnitro
        </a>
      </h2>
        <p class="truncate-at-3">
          Best and fastest way to create a carousel for your LinkedIn, Instagram and TikTok
        </p>
      <div class="color-secondary fs-s flex items-center">
        postnitro.ai
      </div>
    </div>
</div>


 </details> 
 <hr /> 
<!-- BLOG-POST-LIST:END -->
</table>
</details>


<!-- TODO
Change the 3stats boxes around, possibly two on top and one on bottom
Fix RSSfeed
Fix Spotify Playlists
Fix Socials [Portfolio, Discord, Linkedin]
In the future, add Public Repositories of Selected Projects
-->
