<!-- VISITOR BADGE -->
<!-- https://github.com/hehuapei/visitor-badge -->

<img align="right" src="https://visitor-badge.laobi.icu/badge?page_id=mao1910.mao1910&left_color=%2379DAF9&right_color=%23FE6E96" />


<!-- TYPING SVG -->
<!-- https://github.com/DenverCoder1/readme-typing-svg -->

<h1 align="center">
    <img src="https://readme-typing-svg.herokuapp.com/?font=Righteous&size=35&center=true&vCenter=true&width=500&height=70&color=FE6E96&font=poppins&duration=5000&lines=Hi+There!+üëã;+I'm+Mao!;" />
</h1>

<br/>

<!-- CODE/TERMINAL ABOUT ME -->
<h1 align="center">
<img src="./assets/terminal-5.gif" alt="Terminal" />
</h1>

<br/><br/><br/>


<!-- TECHNOLOGIES LOGOS -->
<!-- https://github.com/tandpfun/skill-icons -->

<h2 align="center">üíª Languages / Frameworks / Tools ‚öíÔ∏è</h2>
<div align="center">
    <img src="https://skillicons.dev/icons?i=javascript,typescript,angular,react,html,css,scss,bootstrap,cs,java,spring" />
    <img src="https://skillicons.dev/icons?i=flutter,firebase,supabase,mysql,git,github,gitlab,vscode,idea,maven,figma" />
</div>

<br/><br/><br/>


<!-- CONTRIBUTIONS SNAKE GAME -->
<!-- https://github.com/Platane/snk -->

<div align="center">
  <h2> My Contributionssssüêç </h2>
  <br>
  <img alt="contributions-eating Snake" src="https://raw.githubusercontent.com/mao1910/mao1910/output/github-contribution-grid-snake.svg" />

  <!-- Four lines below suggested by Planate for Dark mode-->
  <picture>
  <source media="(prefers-color-scheme: dark)" srcset="github-snake-dark.svg" />
  <source media="(prefers-color-scheme: light)" srcset="github-snake.svg" />
  </picture>
  
  <br/><br/><br/>
</div>


<!-- GITHUB STATS -->
<!-- https://github.com/DenverCoder1/github-readme-streak-stats -->
<!-- https://github.com/anuraghazra/github-readme-stats -->
<!-- https://github-readme-stats-mao1910.vercel.app/ My own Vercel deployment-->

<h2 align="center"> Statsüìù </h2>
  <br>
<div align=center>
  <img width=429 src="https://github-readme-stats-mao1910.vercel.app/api?username=mao1910&count_private=true&show_icons=true&theme=dracula&rank_icon=github&hide=contribs&border_radius=10&border_color=79DAF9" alt="github stats"/>
  <img width=396 src="https://streak-stats.demolab.com/?user=mao1910&count_private=true&theme=dracula&currStreakNum=79DAF9&currStreakLabel=FE6E96&border_radius=10&border=79DAF9" alt="streak stats"/>
  <br/>
  <img src="https://github-readme-stats-mao1910.vercel.app/api/top-langs/?username=mao1910&layout=compact&theme=dracula&border_radius=10&size_weight=0.5&count_weight=0.5&border_color=79DAF9" alt="languages stats" />
</div>

<br/><br/><br/>


<!-- FOOTER -->
<!-- https://github.com/DenverCoder1/readme-typing-svg -->
<!-- https://readme-typing-svg.demolab.com/demo/ -->

<a href="https://git.io/typing-svg"><img src="https://readme-typing-svg.demolab.com?font=Poppins&pause=1000&color=FE6E96&width=535&lines=Thanks+for+dropping+by!;Feel+free+to+check+any+of+the+Socials+below+%F0%9F%91%87;Or+the+Joke+Of+The+Day+if+you're+down+for+a+giggle+%F0%9F%98%9D;Hope+to+see+you+again+%F0%9F%91%8A;Uh%3F+You're+still+here%3F;Well...+I'm+running+out+of+things+to+say...;Tell+you+what%2C+due+to+your+effort+and+perseverance%2C;I+shall+present+you+with+a+short+poem%3A;%22To+code%2C+or+not+to+code%2C+that+is+the+question%3A;Whether+'tis+nobler+in+the+IDE+to+debug;The+errors+and+issues+of+outrageous+software%2C;Or+to+take+up+the+keyboard+against+a+sea+of+bugs;And+by+coding%2C+end+them.%22;by+William+Shakespeare%2C+probably.+;Pretty+sure+that's+Hamlet's.;Alrighty%2C+this+has+been+fun.;But+I'll+restart+the+loop+now...+see+ya+soon!" alt="Typing SVG" /></a>


<!--  SOCIAL NETWORKS -->
<!-- https://github.com/alexandresanlim/Badges4-README.md-Profile -->

  <div> 
    <a href="https://www.deviantart.com/madeinkobaia/art/my-profile-is-under-construction-265626465" target="_blank"><img src="https://img.shields.io/badge/-LinkedIn-%230077B5?style=for-the-badge&logo=linkedin&logoColor=white" target="_blank"></a> <!-- ADD LINKEDIN PROFILE -->
    <a href = "https://www.nicepng.com/ourpic/u2q8o0t4t4r5o0r5_website-under-construction-png-graphic-transparent-website-under/"><img src="https://img.shields.io/badge/Portfolio-4285F4?style=for-the-badge&logo=Google-chrome&logoColor=white" target="_blank"></a> <!-- ADD PORTFOLIO WEBSITE -->
    <a href="https://discord.gg" target="_blank"><img src="https://img.shields.io/badge/Discord-7289DA?style=for-the-badge&logo=discord&logoColor=white" target="_blank"></a> <!-- ADD DISCORD -->
    <a href = "mailto:mao1910dev@gmail.com"><img src="https://img.shields.io/badge/Gmail-D14836?style=for-the-badge&logo=gmail&logoColor=white" target="_blank"></a>
  </div>


<!-- SPOTIFY PLAYING-->
<!-- https://github.com/novatorem/novatorem -->
<!-- https://spotify-now-playing-novatorem-git-main-mao1910.vercel.app/ My own Vercel deployment-->

[<img width=438px src="https://spotify-now-playing-git-main-mao1910.vercel.app//api/spotify/?border_color=FE6E96" alt="Mao Spotify Now Playing" />](https://open.spotify.com/user/31542et242zglhf42ydrtqgvuvde)


<!-- JOKE OF THE DAY -->
<!-- https://github.com/ABSphreak/readme-jokes -->
<!-- https://readme-jokes-git-master-mao1910.vercel.app/ My own Vercel deployment-->

<details>
<summary>I've got a Joke for you. Wanna hear it? üôà</summary>

<br/>

 <tr>
 <td style="padding-top:4px"><img src = "https://readme-jokes-git-master-mao1910.vercel.app/api?&theme=dracula"></td>
 </tr>

</details>


<!-- RSS FEED -->
<!-- https://github.com/gautamkrishnar/blog-post-workflow -->

<details>
<summary>üìï &nbsp;RSS feed</summary>

<br/>

<!-- BLOG-POST-LIST:START -->
 #### - [Queueing in multi-tenant SaaS systems. How to ensure its fairness](https://dev.to/accesto/queueing-in-multi-tenant-saas-systems-how-to-ensure-its-fairness-509l) 
 <details><summary>Article</summary> <p>Queueing in multi-tenant SaaS systems is often introduced to improve the overall platform stability, improve the user experience and scale the system. When you browse the internet or ask some developers, it will often be mentioned as an easy-to-implement solution. Well, it is not always that way, and there are sometimes some pitfalls that you can encounter while doing this step.</p>

<h2>
  
  
  What multi-tenancy and single-tenancy actually mean
</h2>

<p>Let's first discuss some basics, so we have a common understanding of:</p>

<ul>
<li>SaaS (Software as a Service) ‚Äî this is probably self-explanatory as selling software in this form is pretty common now. But quoting Wikipedia:

<ul>
<li>SaaS is a software licensing and delivery model in which software is licensed on a subscription basis and is centrally hosted. SaaS is also known as on-demand software, web-based software, or web-hosted software</li>
</ul>


</li>
<li>Multi-tenant ‚Äî this means that the SaaS software you offer is serving multiple tenants/multiple customers using one instance. It does not matter if your instance is a server, multiple servers or serverless, the important thing is you have a shared infrastructure. Most SaaS companies are running using this model as it is way easier to manage and lowers the overall maintenance costs. In fact, only very specialized services, with high charges make sense not to be multi-tenant.</li>
<li>Single-tenant ‚Äî opposite to multi-tenant. This means that in order to onboard a new customer, your tech team needs to set up a new instance of the app. Each tenant can also have a different version of the app (although maintaining too many differences often gets too expensive and hard to manage). This means, that in a single-tenancy system, each new customer runs a separate software instance. Each tenant can have multiple users that share the same instance.</li>
</ul>

<h2>
  
  
  Single-tenant vs multi-tenant SaaS architecture
</h2>

<p>The decision between multi-tenancy and single-tenant architecture is out of the scope of this article, but the basic rule of thumb is to choose what is important for you ‚Äî the ease of management of multiple customers ‚Äî probably hundreds and thousands, of being able to adjust every single tenant by adding custom code changes. Another decision driver for a single-tenant architecture would be a requirement of separate computing resources, data isolation, data security, and some specific legal requirements. In general, something we could summarize as tenant isolation.</p>

<h2>
  
  
  What is the problem with queueing in multi-tenant systems?
</h2>

<p>Let us imagine a system where we have a long-running process that the clients execute. It can be anything ‚Äî from processing a file (import a CSV, video format conversion), or anything else that makes sense ‚Äî like crawling a page etc.</p>

<p>Now in such systems, it could happen, that one customer executes so many tasks that are queued, that his "tasks" pile up and form a long waiting queue to be handled.</p>

<p>If Client 1 executes 1000 such tasks, all other customers (2, 3 etc.) will have to wait until this one gets his 1000 tasks done. This happens because queues are by default FIFO ‚Äî first in, first out.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--3kPK_yEK--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/61eeefi3d9oj0476sowq.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--3kPK_yEK--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/61eeefi3d9oj0476sowq.png" alt="Default FIFO queue" width="800" height="417"></a></p>

<p>In this case, Client 2 will wait for ages to get his one task done, will get quickly angry and can potentially cancel the subscription. Why would he wait an hour or two to get one simple conversion finished? </p>

<p>So we have one customer affecting the user experience of many customers, by consuming all the computing resources available.</p>

<h2>
  
  
  What is fair processing in multi-tenant architecture
</h2>

<p>Before we jump into a bit more technical discussions let's quickly consider what we think is fair.</p>

<p>The quick answer is that one client causing a big load, should not cause harm to other clients. So we should process Client 2 and Client 3 from the image, and then continue with Client 1 tasks.</p>

<p>But to be honest, in lots of SaaS, we have different tiers of clients. Not all clients are equal. A client that has the lowest tier should probably have a bit less priority than a client on an enterprise Tier. This could mean, that f.e. our business decision is to handle clients in the top Tier four times faster than in the lowest one. This does not mean we process all tasks of the top tier first, we just process them a bit faster if the queue is full.</p>

<p>This might be considered unfair, but I would like to have my target multi-tenant architecture handle such cases.</p>

<h2>
  
  
  Multi-tenant SaaS architecture ‚Äî things to consider
</h2>

<p>In order to properly implement a multi-tenant architecture we need to consider the following related problems:</p>

<h3>
  
  
  Single-tenant vs multi-tenant ‚Äî data isolation
</h3>

<p>When you switch from a single-tenant to a multi-tenant approach you need to consider how you partition your data. Your application now stores data from multiple tenants/multiple customers in a single software instance, but the tenant's data should not be shared between them!</p>

<p>In short, the three multi-tenancy models for data storage are:</p>

<ul>
<li>Silo - when each tenant has a separate instance of the storage, f.e. a separate database server.</li>
<li>Bridge - when each client data is stored on the same database server, but has a separate schema to store data.</li>
<li>Pool - when all clients share the same database (including schema), but the tables have columns to inform which tenant data it represents.</li>
</ul>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--IFWYKInU--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/8grdb4u8qjzmdd5lhpb7.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--IFWYKInU--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/8grdb4u8qjzmdd5lhpb7.png" alt="Three different multi-tenancy models for data storage" width="800" height="438"></a></p>

<p>As you can see, the Silo approach is quite close to running a single-tenant architecture. In fact, for the db storage you need to create a single instance for each new customer. This can be automated and is a bit easier to manage than running a separate instance of the software per customer, but it still requires quite a lot of work and raises the maintenance costs. When you need to go the Silo way, it's good to consult with cloud service providers ‚Äî they usually have articles explaining how to implement dedicated instances for storage using their cloud services.</p>

<p>This is quite an interesting discussion to have when planning your multi-tenant architecture. You can read more about it f.e. in <a href="https://d0.awsstatic.com/whitepapers/Multi_Tenant_SaaS_Storage_Strategies.pdf" rel="nofollow"> this Amazon whitepaper</a></p>

<h3>
  
  
  Noisy neighbour
</h3>

<p>Because multi-tenant SaaS software clients share the same hardware resources, it can happen that the activity of one of the tenants will have a negative impact on other tenants. I already touched the queueing part of it, but the same issue applies to other resources. F.e. a client executing many heavy actions that are not queued can cause a partial system outage that also hits other users. In this case, even when a user is not causing a big load on the system, he will encounter slow response times, errors etc. It happens not only when all tenants use a single database instance, but even if they only use the same software instance, as the CPU resources are shared.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--yJ3e3TBH--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/fgxlu3r14oacqnpc7dy2.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--yJ3e3TBH--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/fgxlu3r14oacqnpc7dy2.png" alt="Total system capacity multi-tenant problem" width="423" height="243"></a></p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--Uzd4IhLW--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/dszdpr28yqzv6fhbpp9a.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--Uzd4IhLW--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/dszdpr28yqzv6fhbpp9a.png" alt="Insuficient CPU resources for the SaaS queue" width="800" height="224"></a></p>

<p>Figure with 3 tenants, each consuming less the maximum throughput of the solution. In total, the three tenants consume the complete system resources.</p>

<p>You can read more about it in <a href="https://learn.microsoft.com/en-us/azure/architecture/antipatterns/noisy-neighbor/noisy-neighbor" rel="nofollow">this Microsoft Documentation</a>.</p>

<h2>
  
  
  How to fix multi-tenant queueing?
</h2>

<p>While researching the web I found a couple of different solutions, let us quickly go through them and discuss the pros and cons.</p>

<h3>
  
  
  1. Add more workers
</h3>

<p>This can definitely be considered as a first aid if the problem hits you. If you have a lot of consumers there might be a need for faster processing = lower waiting times. But let us be honest ‚Äî this won't solve the problem. One client can still block the processing for others, and there is usually a limit of consumers that you can execute. Next to that, if the processing is using some external systems/APIs, you can easily hit the rate limits.</p>

<p>It is worth mentioning, that even when you use cloud computing with virtual machines that you can scale easily, there is usually a hard limit enforced by the cloud platform you use.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--CzgA5eRW--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/cam0ui0nq0x4hl97ytq9.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--CzgA5eRW--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/cam0ui0nq0x4hl97ytq9.png" alt="More queue workers" width="800" height="417"></a></p>

<h3>
  
  
  2. Request throttling
</h3>

<p>Did I just mention an external system could have a rate limit? Yup. When we hear rate limits, we usually tend to think about APIs. But we could introduce something similar in our app. Not always, but in some business flows, you can show an alert to the user, that he added too many tasks, and because of that ‚Äî needs to wait a bit, or... just upgrade to a higher tier ;)</p>

<p>This does not solve the queue issue itself but could help limit the problem of a noisy tenant. You can set limits for tasks added within a minute, hour, day etc. Not perfect, but I think it's worth considering.</p>

<h4>
  
  
  2.1 Request throttling with priority
</h4>

<p>Priority ‚Äî connected with the tier the tenant is on, can be actually added to many of the described solutions. If you connect tenant priority with a rate limit, it can lead to some interesting results. Most queues support the priority of a message, and that will allow to process enterprise customers a bit faster.</p>

<h3>
  
  
  3. Sharding
</h3>

<p>In this case, you can just split the tasks into multiple queues (each queue can serve multiple tenants). A simple solution could be based on the client number, like this:</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--2Tos_Aj2--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/6c9pmlcia7yuupyvlnci.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--2Tos_Aj2--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/6c9pmlcia7yuupyvlnci.png" alt="Queue sharding for SaaS" width="800" height="418"></a></p>

<p>In the example, I split the clients into 3 different queues. In this case, when Client 1 starts to process too many tasks, it will "only" affect 33,(3)% of the other tenants. Does not fix the problem, but definitely makes it a bit less painful (at least for some users).</p>

<h4>
  
  
  3.1 Sharding, but better
</h4>

<p>This is something I did not see in any articles, but I've learned from one of our projects. You can actually come up with better ideas for sharding, than the client id.</p>

<p>As an example, we could have a default queue for processing tasks, but we can also add a queue for our "enterprise" tenants. Next to that, we can come up with queues for tenants that are known for high load and just process them next to the default queue.</p>

<p>In the project I worked for, there was a special "spike" queue, that was activated by a rate-limiting mechanism. If the system detected that a tenant was queueing too many tasks, he was moved to a "spike" queue.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--BSAEn1GX--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/aiga79wfhew1w3ragp1x.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--BSAEn1GX--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/aiga79wfhew1w3ragp1x.png" alt="Our approach to queue sharding" width="800" height="417"></a></p>

<h3>
  
  
  4. Multiple instances - per tenant queue
</h3>

<p>Easy, elegant, powerful and not always possible. Just create an automation (using Cloudformation or Terraform), that sets up a queue for each new tenant. You can consider this to be the <code>Silo</code> approach described in the partitioning SaaS part above.</p>

<p>This is probably the perfect solution if you do not have too many tenants, and there won't be too many new each month/day.</p>

<p>In our case, we had thousands of tenants register every week, so a per-tenant queue was not an option. It would be a nightmare to manage, but also we would hit the limit of SQS queues within one week.</p>

<h4>
  
  
  4.1 Processing this amount of queues
</h4>

<p>Another question is how to handle that many queues. Well, there are at least two options:</p>

<ol>
<li><p>If the customers pay enough, you could run a consumer for each of them. Not perfect, but I think it would fit the Silo approach quite well.</p></li>
<li><p>You could implement a <code>slim</code> consumer that iterates through all the queues, and fetches max one new task from each tenant queue, then forwards the task to one shared queue. The "output" queue is then connected to your consumers - shared across all tenants. <a href="https://medium.com/thron-tech/multi-tenancy-and-fairness-in-the-context-of-microservices-sharded-queues-e32ee89723fc" rel="nofollow"> This approach is described by Simone Carriero in his article</a>.</p></li>
</ol>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--SN9PM2HV--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/2ofttwbkp9p2h1pa5p26.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--SN9PM2HV--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/2ofttwbkp9p2h1pa5p26.png" alt="Processing queues" width="800" height="321"></a></p>

<h3>
  
  
  5. Switch what is queued
</h3>

<p>This is our case, and before I describe it I would like to underline, that it fits our needs, and might be considered a bit controversial. Yet, it has worked perfectly for over two years now ;)</p>

<p>A bit of background on what we had to handle:</p>

<ul>
<li>We have quite a lot of new tenants every week;</li>
<li>Each new tenant starts by importing data from an external system;</li>
<li>An import might be just a few elements, but might also be thousands of them;</li>
<li>Data is imported from an external system that has rate limits ‚Äî both for us and each of our tenants;</li>
<li>So when we hit the rate limit for Tenant A, we can usually still process Tenant B.</li>
</ul>

<p>A "Default" approach to this would be to queue each element, as each of them needs to be fetched from the external API, and then processed.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--2b4v6roo--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/yhv7laah4t77608r0dcj.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--2b4v6roo--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/yhv7laah4t77608r0dcj.png" alt="Standard queueing approach" width="800" height="417"></a></p>

<p>This is obviously a terrible idea, as one import of 10000 elements will be processed for ~1 hour (due to rate limits), and tenants that import 10 elements will have to wait, although they could be served within 3 seconds.</p>

<p>So we decided to rethink what exactly we queue, and instead of queueing a certain element, we just queue the fact that tenant X import needs to be processed:</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--kUv0mYYm--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/noy7gxghp6qf38szye0l.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--kUv0mYYm--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/noy7gxghp6qf38szye0l.png" alt="Switch what is queued" width="800" height="418"></a></p>

<p>Next to that, we maintain a separate list of elements to be imported into the database.</p>

<p>A consumer receives a task to process import no. 1, fetches the next element for it, and after it finishes, it reschedules the task to the queue:</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--qBPbETpp--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/9fq9jrcgpc1fywuuuq3b.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--qBPbETpp--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/9fq9jrcgpc1fywuuuq3b.png" alt="Another way of queueing for SaaS" width="800" height="417"></a></p>

<h4>
  
  
  Rate limit adjustments
</h4>

<p>As mentioned, the system we are connected to has a rate limit enforcement both on our app, but also on the tenant level. Our app rate limits are quite big, and in 99% of cases, we hit the tenant limit. So it makes sense to slow down importing one tenant, in order to process others.</p>

<p>In the case of our solution, that was pretty easy to implement. First, we had to fetch the rate limit information from the external service. That actually already there in each response header. We have exact info on how many requests are left in a specified timeframe.</p>

<p>Based on that, we can calculate a delay ‚Äî the closer we get to the limit, the bigger the delay gets. As the delay grows, the rate limit "recovers", and we can lower the delay.</p>

<p>Next, we pass the delay to the queueing solution:</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--59FvYKvb--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/t2vnjetea1v3ijntkhik.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--59FvYKvb--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/t2vnjetea1v3ijntkhik.png" alt="Rate limit adjustments in SaaS queues" width="800" height="417"></a></p>

<p>Now the queue handles the delay and provides us only with tasks that we can run without hitting the limits.</p>

<h4>
  
  
  Handling different tiers
</h4>

<p>As mentioned in the introduction, in most SaaS solutions there are different tiers of users, and we might need to process some users faster. Like a big enterprise account etc.</p>

<p>In our system, each tier has an assigned "multiplier" that tells us how many import tasks we should schedule for the import task. Based on that, we can manage the pace/velocity at which we import the data:</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--GPdIPkDQ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/9g9qf2dhcpyfr0xtdmut.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--GPdIPkDQ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/9g9qf2dhcpyfr0xtdmut.png" alt="Handling different tiers" width="800" height="418"></a></p>

<h2>
  
  
  What is the perfect solution for your SaaS?
</h2>

<p>There is no one-size-fits-all solution for multi-tenancy queueing, and I doubt our approach will be the best one for all of you. I just wanted to light a spark, and make you think about a couple of things:</p>

<ol>
<li>Although we (developers) tend to say queueing is easy, it is not. It is easy to implement, but it comes with quite a lot of problems you can hit, fair processing and data partitioning are two of them.</li>
<li>You might read about some battle-proven solutions described by well-known companies, but I think it is still beneficial to sit down and re-think the approach for your multi-tenant app. You might come up with something similar to what we did, that works a lot better in your case.</li>
</ol>

<p>Multi-tenancy in SaaS is usually not easy, but to be honest I think in 95% of cases it is worth investing the time, as it makes maintenance costs way lower. So unless you are in an MVP phase, you should make the investment.</p>

<p>If you have any other ideas for solving queueing in multi-tenant architecture ‚Äî <a href="https://accesto.com/contact/"> let me know! </a></p>

 </details> 
 <hr /> 

 #### - [Implementing hassle-free audits in the SQL database](https://dev.to/metis/implementing-hassle-free-audits-in-the-sql-database-5971) 
 <details><summary>Article</summary> <p>A long standing question in computer science is whether we should ever remove the data. This applies to not only deletion per se, but also to data modification (think of UPDATE query), data deprecation (think about migrating data between the data centers), or even data ingestion (when parsing data or via an ETL system).</p>

<p>Why wouldn‚Äôt we want to delete the data? There are multiple reasons:</p>

<ul>
<li>Business data is the actual value that the company has. Deleting it seems like getting rid of the market advantage</li>
<li>We may need to keep the data for legal reasons - regulations, ongoing agreements, history of what happened</li>
<li>Data may be deleted by accident, so it‚Äôs better to keep it around to be able to recover it easily</li>
<li>A malicious agent may delete the data, and we should be able to recover them, or even prevent the deletion from happening</li>
</ul>

<p>However, deleting the data may be easier from the technical standpoint:</p>

<ul>
<li>We always need a way to mark some entities as deleted even if we don‚Äôt delete them physically. We need a flag or marker indicating whether a given entity is deleted or not. This makes database interaction much harder because we need to include additional filters like is_deleted = false in every single query we run</li>
<li>Storing ‚Äúdeleted‚Äù data along with the non-deleted one makes the data source bigger, especially over the years. This may lead to slower queries or more complex partitioning schemes.</li>
<li>It makes maintaining uniqueness harder. We can‚Äôt make identifiers unique because when we want to modify the row then the new row should have the same identifier. We need to include entity version in the uniqueness check</li>
</ul>

<p>In short, it is not trivial to not delete the data, and this may lead to multiple technical challenges. However, there are good reasons to not remove any entity. How can we deal with it? The solution is to keep a log of all of the changes in our data source. This is called <strong>auditing</strong>.</p>

<p>In the rest of this post we‚Äôre going to cover some auditing solutions, and then analyze how they perform.</p>

<h2>
  
  
  How to implement auditing
</h2>

<p>So we decided to implement auditing. Before going into actual solutions, let‚Äôs first see what requirements we would like to meet.</p>

<h3>
  
  
  General considerations
</h3>

<p>First, this should be fast. We don‚Äôt want to unnecessarily slow down the production server. The solution should be efficient enough to not break the production metrics to an unacceptable level.</p>

<p>The solution should support all possible changes. It should work with adding new rows, deleting existing ones, modifying values, and should support all column types. In the case of modifications, it should also be able to store not only the new values, but also have access to the old values, so we can easily compare the difference.</p>

<p>The solution shouldn‚Äôt interfere with existing processes. If there are long-running queries or operations, then auditing shouldn‚Äôt stop them from running or cause excessive delays.</p>

<p>The solution should work generally in the same way as ‚Äúregular‚Äù data source. Ideally, we would like to use the same mechanisms as in a regular production usage to get the data from the audit log.</p>

<p>We would like to control what is being logged and how. Maybe we want to recreate this log from some other data, maybe we want to extend it with additional fields, maybe we want to merge multiple data sources into one. Ideally, all these scenarios should be supported.</p>

<p>The log should be readable and easy to query. It should provide enough details to understand the context, but shouldn‚Äôt be overloaded at the same time.</p>

<p>Finally, it should be easy to configure and understand. Ease of usage is always a nice-to-have feature.</p>

<h3>
  
  
  Logs
</h3>

<p>The simplest way in terms of configuration is just enabling extensive logging in the SQL database. This allows to store all the queries in the query log which can be examined later. Every SQL engine should support that. For instance, PostgreSQL can be configured with log_statement = all.</p>

<p>The challenge here is the readability of the log. Since this logs statement, it may be hard to see what really happened without understanding the code and the context. For instance, the following command<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight sql"><code><span class="k">EXECUTE</span> <span class="s1">'CREATE TABLE import'</span> <span class="o">||</span> <span class="s1">'ant_table (id INT)'</span>
</code></pre>

</div>



<p>will create a table named <code>important_table</code>, but we won‚Äôt see this name directly in the log. We will need to search all statements and understand their real meaning.</p>

<p>Similarly, changes to the data may be captured with statements, so it may be much harder to reason about rows and their values.</p>

<p>Depending on which SQL engine we use, there may be extensions to this mechanism that would make the log more readable. For instance, pgAudit for PostgreSQL can extract the statement in some standardized form that will make searching the log much easier.</p>

<p>Pros:</p>

<ul>
<li>Logging is a configuration feature and typically doesn‚Äôt require any code changes</li>
<li>This is directly supported by the database engine</li>
</ul>

<p>Cons:</p>

<ul>
<li>Raw logs may be hard to search and understand</li>
<li>Reasoning about entities may be much harder because of statement-level logging</li>
<li>Logging may result in very big log files being stored</li>
</ul>

<h3>
  
  
  Triggers
</h3>

<p>First solution we‚Äôre going to see are triggers.Trigger is a procedural code that gets executed as a response to some database event. This could be data insertion, deletion, or modification. We can run the code and do whatever we want. Typically, we want to get the new and old values, and insert them to some other table to keep the log of the changes.</p>

<p>Let‚Äôs take the following example for PostgreSQL database:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight sql"><code><span class="k">CREATE</span> <span class="k">FUNCTION</span> <span class="n">update_row_trigger</span><span class="p">()</span> <span class="k">RETURNS</span> <span class="k">trigger</span>
   <span class="k">LANGUAGE</span> <span class="n">plpgsql</span> <span class="k">AS</span>
<span class="err">$</span><span class="k">BEGIN</span>
   <span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">audit_log</span> <span class="p">(</span><span class="n">id</span><span class="p">,</span> <span class="n">old_value</span><span class="p">,</span> <span class="n">new_value</span><span class="p">)</span>
   <span class="k">VALUES</span> <span class="p">(</span><span class="k">NEW</span><span class="p">.</span><span class="n">id</span><span class="p">,</span> <span class="k">OLD</span><span class="p">.</span><span class="n">value</span><span class="p">,</span> <span class="k">NEW</span><span class="p">.</span><span class="n">value</span><span class="p">);</span>

   <span class="k">RETURN</span> <span class="k">NEW</span><span class="p">;</span>
<span class="k">END</span><span class="p">;</span><span class="err">$</span><span class="p">;</span>


<span class="k">CREATE</span> <span class="k">TRIGGER</span> <span class="n">log_update</span>
    <span class="k">AFTER</span> <span class="k">UPDATE</span> <span class="k">ON</span> <span class="n">accounts</span>
    <span class="k">FOR</span> <span class="k">EACH</span> <span class="k">ROW</span>
    <span class="k">EXECUTE</span> <span class="k">PROCEDURE</span> <span class="n">update_row_trigger</span><span class="p">();</span>
</code></pre>

</div>



<p>We first create the function that will be called for each row modification. We can see that we run <code>INSERT</code> in the function. <code>INSERT</code> statement inserts new row into the audit table and accesses both old and new values.</p>

<p>We then create the trigger that runs after each update on the accounts table. It will run when the UPDATE is completed, and will be executed for each row separately.</p>

<p>There are multiple configuration options for triggers:</p>

<ul>
<li>They can execute before, after, or instead of the operation</li>
<li>They can be executed once per row or per statement</li>
<li>They can operate with tables and views</li>
<li>They can execute any function, so we‚Äôre free to do whatever we want</li>
<li>They can provide conditions to be checked before running the trigger</li>
</ul>

<p>Pros:</p>

<ul>
<li>Triggers are highly configurable</li>
<li>They can do whatever we need, so we are free to implement audit tables of whatever shape or content</li>
<li>They are typically supported natively by the SQL database</li>
</ul>

<p>Cons:</p>

<ul>
<li>They may be slow</li>
<li>They may be hard to maintain because they are written in the SQL language</li>
<li>We don‚Äôt see that they are executed just by looking at the table</li>
<li>The order of the triggers may not be clear when there are multiple of them in place</li>
<li>Triggers require writing custom code and maintaining the audit tables</li>
</ul>

<h3>
  
  
  Query rewrite rules
</h3>

<p>Some database engines support query rewrite rules. When a query is sent to be executed, the engine rewrites it based on some logic and modifies how the query works. The engine can also generate new queries to be executed alongside. This allows us to do some additional work at the time of query execution.</p>

<p>Let‚Äôs see this example from PostgreSQL:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight sql"><code><span class="k">CREATE</span> <span class="k">RULE</span> <span class="n">update_rule</span> <span class="k">AS</span> <span class="k">ON</span> <span class="k">UPDATE</span> <span class="k">TO</span> <span class="n">accounts</span>
   <span class="k">DO</span> <span class="n">ALSO</span> <span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">audit_log</span> <span class="p">(</span><span class="n">id</span><span class="p">,</span> <span class="n">old_value</span><span class="p">,</span> <span class="n">new_value</span><span class="p">)</span>
           <span class="k">VALUES</span> <span class="p">(</span><span class="k">NEW</span><span class="p">.</span><span class="n">id</span><span class="p">,</span> <span class="k">OLD</span><span class="p">.</span><span class="n">value</span><span class="p">,</span> <span class="k">NEW</span><span class="p">.</span><span class="n">value</span><span class="p">);</span>
</code></pre>

</div>



<p>This rule specifies that whenever there is an update to the accounts table, then we want to also insert into the audit_log table. We can configure multiple things with rules:</p>

<ul>
<li>Rules can have multiple actions</li>
<li>They can run alongside the query or instead of it</li>
<li>Rules can have some conditions when they run</li>
</ul>

<p>However, rules can be hard to understand when we run functions in updates. A single function may be executed multiple times. This may be a problem if the function returns different values each time.</p>

<p>When it comes to the performance, rules are typically faster than the triggers. Rules create new query trees that are executed next to the original statement (or instead), and so don‚Äôt require specific code execution with each row.</p>

<p>Pros:</p>

<ul>
<li>Rules can do whatever change we need since we can run custom code</li>
<li>They are typically supported by the engine itself or by an extension</li>
</ul>

<p>Cons:</p>

<ul>
<li>Rules are considered hard to reason because of their ‚Äúunpredictable‚Äù behavior when used with functions and procedures</li>
<li>They may not be supported in the future. For instance, PostgreSQL considered dropping the feature entirely</li>
<li>Rules require writing custom code and maintaining the audit tables</li>
</ul>

<h3>
  
  
  Temporal tables
</h3>

<p>SQL standard now supports a mechanism called Temporal database. It is used to represent the following details about the world:</p>

<ul>
<li>There are facts like who is the president of the USA. However, facts may be unknown or an untrue facts may be spread around the world</li>
<li>Facts may come from decisions. For instance, shorty after the elections we know who will become the president, but the new president will be sworn in much later in the future</li>
<li>Computer systems may learn about the decision with a delay. For instance, the elections committee finished counting ballots, but hasn‚Äôt yet entered the data into the system for some reason</li>
</ul>

<p>Depending which dimension we would like to use, we‚Äôll get different answers for a question ‚Äúwho is the president of the USA‚Äù. What‚Äôs more, if we discover that we were lied to about some facts, then we‚Äôll need to update the database. The fact hasn‚Äôt changed, however, our database was wrong for some time and had to be corrected.</p>

<p>Temporal databases are useful for various purposes, however, we can limit ourselves just to use them for implementing the auditing. We change the regular table into the temporal table, and then every change to the table is logged separately.</p>

<p>Let‚Äôs take the following example from Microsoft SQL Server:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight sql"><code><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">dbo</span><span class="p">.</span><span class="n">accounts</span>
<span class="p">(</span>
  <span class="p">[</span><span class="n">id</span><span class="p">]</span> <span class="nb">int</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="n">CLUSTERED</span>
  <span class="p">,</span> <span class="n">value</span> <span class="n">nvarchar</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span>
  <span class="p">,</span> <span class="p">[</span><span class="n">ValidFrom</span><span class="p">]</span> <span class="n">datetime2</span> <span class="k">GENERATED</span> <span class="n">ALWAYS</span> <span class="k">AS</span> <span class="k">ROW</span> <span class="k">START</span> <span class="n">HIDDEN</span>
  <span class="p">,</span> <span class="p">[</span><span class="n">ValidTo</span><span class="p">]</span> <span class="n">datetime2</span> <span class="k">GENERATED</span> <span class="n">ALWAYS</span> <span class="k">AS</span> <span class="k">ROW</span> <span class="k">END</span> <span class="n">HIDDEN</span>
  <span class="p">,</span> <span class="n">PERIOD</span> <span class="k">FOR</span> <span class="n">SYSTEM_TIME</span> <span class="p">(</span><span class="n">ValidFrom</span><span class="p">,</span> <span class="n">ValidTo</span><span class="p">)</span>
 <span class="p">)</span>
<span class="k">WITH</span> <span class="p">(</span><span class="n">SYSTEM_VERSIONING</span> <span class="o">=</span> <span class="k">ON</span> <span class="p">(</span><span class="n">HISTORY_TABLE</span> <span class="o">=</span> <span class="n">dbo</span><span class="p">.</span><span class="n">accounts_history</span><span class="p">));</span>
</code></pre>

</div>



<p>This creates a table with two ‚Äúbusiness‚Äù columns (<code>id</code> and <code>value</code>), and some additional columns for maintaining the history. Since <code>ValidFrom</code> and <code>ValidTo</code> are marked as hidden, the following query:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight sql"><code><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">dbo</span><span class="p">.</span><span class="n">accounts</span>
</code></pre>

</div>



<p>will return <code>id</code> and <code>value</code> only. It will not return the additional columns. We can always ask for them explicitly with<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight sql"><code><span class="k">SELECT</span> <span class="n">ValidFrom</span><span class="p">,</span> <span class="n">ValidTo</span> <span class="k">FROM</span> <span class="n">dbo</span><span class="p">.</span><span class="n">accounts</span>
</code></pre>

</div>



<p>And another important part is that we can query the history with this query:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight sql"><code><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">dbo</span><span class="p">.</span><span class="n">accounts_history</span>
</code></pre>

</div>



<p>Temporal tables can be supported either natively or via other mechanisms (like triggers).</p>

<p>Pros:</p>

<ul>
<li>Standardized feature available out-of-the-box in various SQL engines</li>
<li>May be supported directly in the database</li>
<li>Historical table is yet another table that can be queried ‚Äúthe regular way‚Äù</li>
<li>Temporal tables require one-time configuration and little-to-no maintenance of the audit tables</li>
</ul>

<p>Cons:</p>

<ul>
<li>We can‚Äôt make the history manually easily (it may be impossible to add rows in the past)</li>
<li>We can‚Äôt run any code we want on the data modification (so we can‚Äôt tune logging)</li>
<li>Once enabled for a table, it works all the time. We can‚Äôt control the audit on a case-by-case basis</li>
</ul>

<h3>
  
  
  Auditing in the application code
</h3>

<p>Last but not least, we can implement audits in our application code. We need to extend the business transaction with additional <code>INSERT</code> statements adding changes to the log tables. This gives us flexibility in terms of what we want to log and how.</p>

<p>Since this is an application code, we can store the audit data outside of the main SQL database. However, this may require a separate transaction, so we should be careful during the implementation.</p>

<p>The biggest challenge is with making sure that we log changes in case of bugs. If there is a bug in the auditing logic, then it shouldn‚Äôt affect the business part of the transaction and vice versa. However, since we would like the auditing code to be executed in the same transaction, then this may be hard to achieve and require nested transactions.</p>

<p>Another important aspect is making this solution in a generic manner. Enabling auditing and maintaining the solution may be time-consuming.</p>

<p>Pros:</p>

<ul>
<li>This is database agnostic and can be migrated to different data sources</li>
<li>Audit can span multiple SQL engines or even heterogeneous data storages</li>
<li>We can run any code we want</li>
</ul>

<p>Cons:</p>

<ul>
<li>This is an error-prone solution. A bug in the auditing code may go unnoticed for a long time</li>
<li>Audit entries should be created in the same transaction. However, inserting audit entries may cause the transaction to fail impacting the correct business code</li>
<li>Invalid business entries may cause an audit to fail. If we keep logs in the SQL database, then we may lose them because the business part of the transaction failed</li>
<li>We need to write our custom code and maintain the solution</li>
<li>We need to modify each application</li>
</ul>

<h2>
  
  
  Analysis
</h2>

<p>We have seen multiple mechanisms to implement auditing in the SQL database. Let‚Äôs now consider dimensions used to evaluate them.</p>

<h3>
  
  
  Cognitive cost
</h3>

<p>Any solution is a cost. We need to understand it, maintain it, and even know that it‚Äôs there.</p>

<p>When it comes to configuring the solution, the logging approach is probably the simplest. We just enable it once for the whole database engine and it‚Äôs there. It is very likely to work well and not fail spuriously.</p>

<p>Similarly, temporal tables are easy to configure and we need to do it once per table. However, we may forget about that for new tables that we will create in the future, but this can be prevented with a static analysis.</p>

<p>Triggers and rules require more attention. We need to implement audit tables manually, maintain them with schema changes, and test the code for various scenarios. It‚Äôs hard to make them generic without losing the readability. Triggers and rules may also be hard to find for the developer. We may not even know they‚Äôre running behind the scenes which may lead to numerous issues.</p>

<p>Application code may be easier to implement, but it requires much better understanding of the moving pieces. However, this code may be easier to spot for the developer, and may be much more flexible in terms of what we do and how.</p>

<p>Another area is reasoning about the mechanism. If there are two triggers configured on the table - in which order will they be executed? If triggers call functions - are these functions going to be executed once for each row or once per transaction? What happens if the trigger fails? Answering these questions may be challenging, especially when we migrate our database from one engine to another.</p>

<h3>
  
  
  Performance
</h3>

<p>When it comes to the performance, then triggers are generally considered slow. Especially when they‚Äôre executed for each row changed in the database. However, application code may be even slower if we execute new transactions for each row or send multiple queries over the wire.</p>

<p>Another performance aspect is cascading the solutions. If one trigger causes another trigger to fire, then the whole system may slow down significantly. Also, in case of long running triggers - are they going to be executed independently in each replica, or will they execute just once and the results will be sent over? Depending on our configuration, the performance may be severely affected.</p>

<h3>
  
  
  Ease of use
</h3>

<p>The ultimate aspect we need to consider is whether the mechanism we use works well and provides the data we need. If we can‚Äôt ‚Äújust browse‚Äù the audit logs, then it may be much less helpful when issues arise. Especially that we often use audit logs when we spot an error and want to track it down. These cases require us to work fast to minimize the impact, and so we want the audit logs to be available at hand.</p>

<h2>
  
  
  Recommendation
</h2>

<p>The easiest way is to use temporal tables. If it is supported by our SQL engine and we don‚Äôt need to insert historical data, then temporal tables are probably the best way.</p>

<p>Otherwise, triggers are the standard way of implementing the audits. They have their drawbacks and issues, but they are supported directly by the database and will work in all of the scenarios. If we don‚Äôt want to use triggers for some reason, then query rewriting is an option as well.</p>

<p>If we can‚Äôt use triggers, then it‚Äôs probably best to implement the audit logs in the application code. This approach will take the most work and is error-prone, but also has some advantages in terms of migrating the solution to a different SQL engine.</p>

<h2>
  
  
  Summary
</h2>

<p>Auditing is an important task for every database. We should think about it early in the development stage, and choose the solution that will work best for our needs. Temporal tables can be a low-hanging fruit that doesn‚Äôt take much time to implement and maintain. No matter which solution we go with, it‚Äôs crucial to test it well and make sure that it will provide all the data we need when the time comes.</p>

 </details> 
 <hr /> 

 #### - [10 Open Source Alternatives To Proprietary Software](https://dev.to/rigdev/10-open-source-alternatives-to-proprietary-software-34lb) 
 <details><summary>Article</summary> <p>We're Rig.dev, a new kid on the open-source block. We know how frustrating it can be to feel locked into pricey proprietary software, so we've put together a list of "10 Open Source Alternatives" that can give those big-name tools a run for their money. No jargon, no sales pitch ‚Äì just some cool free tools we think you'll love.</p>




<h2>
  
  
  A humble favor ü§ó:
</h2>

<p>We are on a mission to reach 1k stars for our own Open-Source project on Github. Would you consider supporting by giving us a star on Github? It encourages me and the rest of the team to produce more, high-quality content weekly.</p>

<p>Our Github: <a href="http://go.rig.dev/devto/10-open-source-alternatives/github">https://github.com/rigdev/rig</a></p>




<dl>
  <dt>Table of contents</dt>
  <dd>Medusa vs. Shopify</dd>
  <dd>Postman vs. Hopscotch</dd>
  <dd>Slack vs. Rocket Chat</dd>
  <dd>Google Chrome vs. Brave</dd>
  <dd>n8n vs. Zapier</dd>
  <dd>Webflow/Framer vs. Webiny</dd>
  <dd>Bit.ly vs. Dub.co</dd>
  <dd>Calendly vs. Cal.com</dd>
  <dd>Airtable vs. NocoDB</dd>
</dl>




<h2>
  
  
  Medusa: The Shopify Alternative
</h2>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--dK0n2txL--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/n0lsrwimibby8vpfqyjc.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--dK0n2txL--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/n0lsrwimibby8vpfqyjc.png" alt="Medusa: The Shopify Alternative" width="800" height="388"></a></p>

<p>You've probably heard of Shopify, the big player in the game. But there's a new contender on the block: Medusa. Let's break down the good, the bad, and the nitty-gritty of these two.</p>

<h3>
  
  
  Pros of Medusa compared to Shopify:
</h3>

<p><strong>Do It Your Way</strong>: Medusa is open-source, which means you can tweak it however you like. Want a neon pink checkout button? Go for it!</p>

<p><strong>Keep Your Cash</strong>: Unlike Shopify, which nabs a bit of your sales unless you use their payment system, Medusa doesn't dip into your pockets.</p>

<p><strong>Pick Your Home</strong>: With Medusa, you decide where to host your store. It's like choosing between renting an apartment or building your own house.</p>

<p><strong>Power to the People</strong>: Medusa gets love from its community. That means regular updates, cool new features, and a bunch of folks ready to help out.</p>

<p><strong>No Secrets</strong>: Open-source means you can see everything that's going on behind the scenes.</p>

<h3>
  
  
  Cons of Medusa compared to Shopify:
</h3>

<p><strong>Ready Out of the Box</strong>: Shopify's got a ton of built-in goodies and a massive app store. Medusa is still catching up in this department.</p>

<p><strong>Less DIY</strong>: With Shopify, a lot of the tech stuff is handled for you. Medusa? You're in the driver's seat, but that means you've got to handle the bumps in the road too.</p>

<p><strong>Name-Dropping</strong>: Everyone knows Shopify. Medusa is still the new kid in school.</p>

<h3>
  
  
  Conclusion:
</h3>

<p>Choosing between Medusa and Shopify boils down to your specific needs and technical expertise. If you value flexibility, customisation, and control over costs, Medusa is the compelling choice. However, if you're looking for a platform with a proven track record, extensive built-in features, and robust support, Shopify remains a strong contender. </p>

<h2>
  
  
  Hopscotch: The Postman Alternative
</h2>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--uqnEX1Wk--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/omls8xf9jd2jocktn1mp.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--uqnEX1Wk--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/omls8xf9jd2jocktn1mp.png" alt="Hopscotch: The Postman Alternative" width="800" height="388"></a></p>

<p>You've likely heard of Postman, the big shot in the API testing world. But there's an open-source challenger stepping into the ring: Hopscotch. </p>

<h3>
  
  
  Pros of Hopscotch compared to Postman:
</h3>

<p><strong>Free as a Bird</strong>: Being open-source, Hopscotch won't cost you a dime. This can be a big win for small teams or individual developers watching their budget.</p>

<p><strong>Community Vibes</strong>: Open-source tools like Hopscotch thrive on community input. That means you've got a bunch of passionate folks constantly improving it and adding cool new features.</p>

<p><strong>Transparency</strong>: With Hopscotch, there's no behind-the-scenes mystery. You can see every line of code, ensuring you know exactly what's going on.</p>

<p><strong>Lightweight</strong>: Hopscotch tends to be more lightweight than Postman, which can be an advantage if you're looking for something less resource-intensive.</p>

<p><strong>Customisation Galore</strong>: Being open-source, if there's a feature you need that's missing, you can add it yourself or rally the community to help out.</p>

<h3>
  
  
  Cons of Hopscotch compared to Postman:
</h3>

<p><strong>Feature-Packed</strong>: Postman has been around the block and has a ton of built-in features. It's like the Swiss Army knife of API testing.</p>

<p><strong>Slick User Interface</strong>: Postman's UI is polished and intuitive, making it easy for newcomers to get started.</p>

<p><strong>Collaboration Features</strong>: With its team collaboration tools, Postman makes it a breeze for teams to work together, share collections, and keep everything in sync.</p>

<p><strong>Extensive Documentation</strong>: Postman's been in the game for a while, so they've built up a vast library of tutorials, guides, and community posts to help you out.</p>

<p><strong>Integration Ecosystem</strong>: Postman offers integrations with a wide range of other tools, making it easier to fit into existing workflows.</p>

<p>If you're all about open-source, love to tinker, and are looking for a lightweight tool, Hopscotch might be your new best friend. But if you're after a feature-rich environment with a proven track record and don't mind shelling out some cash for premium features, Postman's still a solid bet. As always, it's about finding the right tool for your needs. </p>

<h2>
  
  
  Rocket Chat: The Slack Alternative
</h2>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--sunXpI7z--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/jwewh09g82kg1ez8egay.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--sunXpI7z--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/jwewh09g82kg1ez8egay.png" alt="Rocket Chat: The Slack Alternative" width="800" height="388"></a></p>

<p>When it comes to team communication tools, Slack has been the go-to for many. But hold on, there's an open-source challenger in the ring: Rocket.Chat. Let's break down how these two stack up with a straightforward look at three pros and cons of Rocket.Chat compared to Slack.</p>

<h3>
  
  
  Why Rocket.Chat Might Just Rock Your World:
</h3>

<p><strong>Tweak and Tune</strong>: Rocket.Chat is open-source, which means if there's something you don't like or something you think could be better, you (or your tech team) can jump in and customize it. Your Rocket.Chat can be as unique as your team's favorite inside jokes.</p>

<p><strong>Wallet-Friendly</strong>: With Rocket.Chat, you can avoid some of those pesky costs that come with premium versions of proprietary software like Slack. Plus, being self-hosted, you have more control over potential future price hikes.</p>

<p><strong>Your Data, Your Rules</strong>: Hosting Rocket.Chat on your own servers means you have full control over your data. No need to worry about third-party access or where your data is stored.</p>

<h3>
  
  
  Where Slack Might Still Have the Upper Hand:
</h3>

<p><strong>Plug and Play</strong>: Slack is known for its user-friendly interface and ease of setup. For those who aren't tech-savvy, Slack's straightforward approach can be a blessing.</p>

<p><strong>Integrations</strong>: Slack's been around the block and has a massive library of app integrations. Whether it's Trello, Google Drive, or that niche tool your team can't live without, Slack probably has an integration for it.</p>

<p><strong>The Cool Kid's Club</strong>: Slack's popularity means that many people are already familiar with it. Onboarding new team members or collaborating with partners might be smoother if they've already used Slack before.</p>

<h3>
  
  
  Conclusion:
</h3>

<p>Rocket.Chat offers a world of customisation, cost savings, and data control that's hard to beat. But if you're looking for a hassle-free setup, a vast array of integrations, and widespread familiarity, Slack's still got game. As always, the best choice depends on what your team values most!</p>

<h2>
  
  
  Brave: The Google Chrome Alternative
</h2>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--lS5Ckuhr--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/cg5kruse2v60hvr61dwo.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--lS5Ckuhr--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/cg5kruse2v60hvr61dwo.png" alt="Brave: The Google Chrome Alternative" width="800" height="388"></a></p>

<p>When it comes to web browsers, Google Chrome has been the reigning champ for quite some time. But there's a new contender that's been making waves: Brave. Built on the same Chromium engine as Chrome, Brave promises a different kind of browsing experience. </p>

<h3>
  
  
  Pros of Brave compared to Google Chrome:
</h3>

<p><strong>Privacy First</strong>: Brave takes privacy seriously. It blocks third-party ads and trackers right out of the box, meaning you don't have to fiddle with settings or add extensions to stop companies from following you around the web.</p>

<p><strong>Speed Demon</strong>: Thanks to its ad-blocking capabilities, Brave often loads pages faster than Chrome. Fewer ads and trackers mean less data to download, making your browsing experience snappier.</p>

<p><strong>Get Paid to Surf</strong>: Brave has a unique feature called Brave Rewards. By opting into privacy-respecting ads, you can earn BAT (Basic Attention Tokens) that you can keep or give to your favorite websites as a tip. Chrome doesn't offer anything like this.</p>

<h3>
  
  
  Cons of Brave compared to Google Chrome:
</h3>

<p><strong>Extensions Galore</strong>: Chrome's Web Store is a treasure trove of extensions and apps. While Brave is catching up and supports many Chrome extensions, it doesn't offer the same breadth of choices‚Äîyet.</p>

<p><strong>Google Ecosystem</strong>: If you're already invested in the Google universe‚Äîthink Google Drive, Google Photos, Google Meet‚ÄîChrome offers seamless integration with these services. Brave can access them, but it's not quite as smooth.</p>

<p><strong>Stable and Reliable</strong>: Chrome has been around for years and has a proven track record of stability and performance. Brave is newer and, while robust, hasn't had as much time to iron out all the kinks.</p>

<h3>
  
  
  Conclusion:
</h3>

<p>If you're big on privacy and like the idea of a faster, rewarding browsing experience, Brave could be a game-changer for you. But if you're a fan of the vast array of Chrome extensions and you're deep into the Google ecosystem, Chrome might still be your best bet. </p>

<h2>
  
  
  n8n vs. Zapier: The Automation Arena
</h2>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--kPxMctwy--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/au3eybw4auja3m6kjipu.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--kPxMctwy--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/au3eybw4auja3m6kjipu.png" alt="n8n vs. Zapier: The Automation Arena" width="800" height="388"></a></p>

<p>In the world of workflow automation, Zapier has long been a household name, helping businesses and individuals connect their favorite apps and automate tasks. Enter n8n, an open-source alternative that's been turning heads with its unique approach. Let's dive into how n8n measures up against Zapier.</p>

<h3>
  
  
  Pros of n8n compared to Zapier:
</h3>

<p><strong>Customisation King</strong>: Being open-source, n8n offers unparalleled customisation. If there's a specific feature or integration you need, you can build it yourself or tap into the community to help. This level of flexibility is something proprietary platforms like Zapier can't match.</p>

<p><strong>Cost-Effective</strong>: n8n can be self-hosted, which means you can potentially save a lot, especially if you're running a large number of workflows. With Zapier, as your needs grow, so does the subscription cost.</p>

<p><strong>Data Privacy</strong>: With n8n's self-hosting option, you have complete control over your data. It stays on your servers, ensuring you know exactly where it is and who has access. This contrasts with cloud-based solutions like Zapier, where data is processed on external servers.</p>

<h3>
  
  
  Cons of n8n compared to Zapier:
</h3>

<p><strong>User-Friendly</strong>: Zapier is known for its intuitive interface, making it easy for even non-techies to set up and manage workflows. n8n, with its more developer-oriented approach, might have a steeper learning curve for some.</p>

<p><strong>Massive Integration Library</strong>: Zapier boasts over 3,000 app integrations. While n8n is rapidly growing its list, it hasn't reached the same extensive number of out-of-the-box integrations as Zapier.</p>

<p><strong>Reliability &amp; Support</strong>: With its established presence, Zapier offers robust reliability and a dedicated support team. While n8n has a passionate community, it might not provide the same level of immediate, professional support that a mature platform like Zapier does.</p>

<h3>
  
  
  Conclusion:
</h3>

<p>n8n offers a world of customisation, cost savings, and data control that's hard to beat for those comfortable with a more hands-on approach. However, if you're looking for a platform with a vast array of ready-to-use integrations, a user-friendly interface, and dedicated support, Zapier remains a formidable choice. Your ideal pick will depend on your specific needs and technical comfort level.</p>

<h2>
  
  
  Webiny: The Webflow &amp; Framer Alternative
</h2>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--Qd3FHN5k--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ihuqbo2d9cqmpvorrh98.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--Qd3FHN5k--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ihuqbo2d9cqmpvorrh98.png" alt="Webiny: The Webflow &amp; Framer Alternative" width="800" height="388"></a></p>

<p>In the realm of web design and development, tools like Webflow and Framer have made a name for themselves, offering intuitive interfaces and powerful design capabilities. But there's a new open-source player in town: Webiny.</p>

<h3>
  
  
  Pros of Webiny compared to Webflow &amp; Framer:
</h3>

<p><strong>Open-Source Flexibility</strong>: Webiny's open-source nature means you can customize it to your heart's content. If there's a feature or integration you need, you're not limited by proprietary constraints. This level of adaptability is something platforms like Webflow and Framer, being proprietary, can't fully match.</p>

<p><strong>Cost Considerations</strong>: Webiny can be more cost-effective in the long run, especially for larger projects or businesses. While Webflow and Framer come with subscription costs, Webiny's open-source model can lead to significant savings, especially when considering self-hosting.</p>

<p><strong>Full Control Over Data</strong>: With Webiny, you have the option to self-host, giving you complete control over your data and its security. This contrasts with cloud-based solutions like Webflow and Framer, where your data resides on external servers.</p>

<h3>
  
  
  Cons of Webiny compared to Webflow &amp; Framer:
</h3>

<p><strong>Intuitive Design Interface</strong>s: Both Webflow and Framer are renowned for their user-friendly design interfaces. They offer drag-and-drop functionality and visual design tools that make it easy for designers to bring their visions to life, even without deep coding knowledge. Webiny, while powerful, might have a steeper learning curve for pure designers.</p>

<p><strong>Rich Template &amp; Component Libraries</strong>: Webflow and Framer come with extensive libraries of templates, components, and animations. This can significantly speed up the design process. Webiny, being newer, might not offer the same breadth of ready-to-use design elements.</p>

<p><strong>Community &amp; Support</strong>: Webflow and Framer have large, established communities and dedicated support teams. This means a wealth of tutorials, forums, and resources are available. Webiny, being newer to the scene, is still growing its community and support infrastructure.</p>

<h3>
  
  
  Conclusion
</h3>

<p>Webiny offers a compelling open-source alternative with customization capabilities, potential cost savings, and data control. However, for those who prioritize intuitive design interfaces, a vast array of design elements, and established community support, the combined strengths of Webflow and Framer remain hard to beat. </p>

<h2>
  
  
  Penpot: The Figma Alternative
</h2>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--WSwx-2H3--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/6qbwjeb3qobr4ji0oxpp.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--WSwx-2H3--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/6qbwjeb3qobr4ji0oxpp.png" alt="Penpot: The Figma Alternative" width="800" height="388"></a></p>

<p>In the design world, Figma has emerged as a favorite, known for its collaborative features and sleek interface. But there's an open-source contender stepping into the spotlight: Penpot.</p>

<h3>
  
  
  Pros of Penpot compared to Figma:
</h3>

<p><strong>Open-Source Advantage</strong>: Penpot's open-source nature means it's continuously evolving with contributions from the community. This allows for a level of adaptability and customization that proprietary platforms like Figma might not offer.</p>

<p><strong>No Cost Barriers</strong>: Penpot, being open-source, is free to use. While Figma offers a free tier, advanced features and larger team collaborations require a paid subscription. With Penpot, you can access all features without worrying about subscription costs.</p>

<p><strong>Self-Hosting for Data Control</strong>: Penpot gives you the option to host on your own servers. This means you have complete control over your data, its security, and where it's stored, a feature not available with Figma's cloud-only model.</p>

<h3>
  
  
  Cons of Penpot compared to Figma:
</h3>

<p><strong>Matured Ecosystem</strong>: Figma has been around longer and has a more matured ecosystem. This includes a vast library of plugins, integrations, and community-contributed resources that can enhance the design process.</p>

<p><strong>Real-time Collaboration</strong>: One of Figma's standout features is its seamless real-time collaboration. Multiple designers can work on a single project simultaneously with live updates. While Penpot offers collaboration features, it might not be as refined as Figma's.</p>

<p><strong>Performance &amp; Reliability</strong>: Figma's performance, especially with complex designs and prototypes, is robust and reliable. Being a newer tool, Penpot is still in the process of refining its performance and ironing out any kinks.</p>

<h3>
  
  
  Conclusion
</h3>

<p>Penpot offers a fresh, open-source perspective to the design tool landscape, with cost benefits and data control that many will find appealing. However, for those who value a vast ecosystem, real-time collaboration, and proven performance, Figma remains a formidable choice. </p>

<h2>
  
  
  Dub.co: The Bit.ly Alternative
</h2>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--JRaOxwzT--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ye97eh00t801zuixzoe8.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--JRaOxwzT--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ye97eh00t801zuixzoe8.png" alt="Dub.co: The Bit.ly Alternative" width="800" height="388"></a></p>

<p>Bit.ly has been a staple for many users. However, the open-source community has presented an alternative: Dub.co. </p>

<h3>
  
  
  Pros of Dub.co compared to Bit.ly:
</h3>

<p><strong>Open-Source Flexibility</strong>: Dub.co's open-source nature means it's continuously evolving with contributions from the community. This allows for a level of adaptability and customisation that proprietary platforms like Bit.ly might not offer.</p>

<p><strong>Cost Considerations</strong>: Dub.co, being open-source, is free to use. While Bit.ly offers a free tier, its advanced features and analytics come with a premium price tag. With Dub.co, you can access all features without worrying about subscription costs.</p>

<p><strong>Data Privacy &amp; Self-Hosting</strong>: Dub.co gives you the option to host on your own servers. This means you have complete control over your data, its security, and where it's stored, a feature not available with Bit.ly's cloud-only model.</p>

<h3>
  
  
  Cons of Dub.co compared to Bit.ly:
</h3>

<p><strong>Established Reputation</strong>: Bit.ly has been around for a long time and has built a reputation for reliability and performance. This longstanding presence means many users trust and are familiar with its services.</p>

<p><strong>Extensive Integration Options</strong>: Bit.ly offers a wide range of integrations with other platforms and marketing tools, making it easier for businesses to incorporate link management into their existing workflows.</p>

<p><strong>User-Friendly Interface</strong>: Bit.ly is known for its intuitive interface, making it easy for users to create, manage, and analyze their shortened links. While Dub.co offers a robust platform, newcomers might find Bit.ly's interface more straightforward.</p>

<h3>
  
  
  Conclusion:
</h3>

<p>Dub.co presents a fresh, open-source perspective to link management, offering customisation, cost benefits, and enhanced data control. However, for those who value a tried-and-true platform with a vast array of integrations and an easy-to-use interface, Bit.ly remains a strong choice. Your ideal tool will depend on your specific needs and how you prioritise features.</p>

<h2>
  
  
  Cal.com: The Calendly Alternative
</h2>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--8LRpI6d0--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/utln9g2ijnenv4y9d8ub.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--8LRpI6d0--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/utln9g2ijnenv4y9d8ub.png" alt="Cal.com: The Calendly Alternative" width="800" height="388"></a></p>

<p>When it comes to scheduling meetings and appointments, Calendly has been the go-to platform for many. But there's a new open-source alternative that's catching attention: Cal.com.</p>

<h3>
  
  
  Pros of Cal.com compared to Calendly:
</h3>

<p><strong>Open-Source Flexibility</strong>: Cal.com is open-source, which means you can customise it to fit your specific needs. Whether it's adding a unique feature or integrating it with other tools, you have the freedom to make it your own. This is something Calendly, being a proprietary platform, can't offer.</p>

<p><strong>Cost-Effective</strong>: Cal.com is free for individuals, and being open-source, you can self-host it to avoid subscription fees. Calendly, on the other hand, has a free tier but limits you to one event type and lacks some advanced features unless you upgrade to a paid plan.</p>

<p><strong>Data Privacy</strong>: With the option to self-host, Cal.com gives you complete control over your data. You know exactly where it's stored and who has access to it, which is not the case with Calendly's cloud-based model.</p>

<h3>
  
  
  Cons of Cal.com compared to Calendly:
</h3>

<p><strong>User Experience</strong>: Calendly has been around for a while and has a polished, user-friendly interface. It's easy to set up and manage appointments, even for those who aren't tech-savvy. Cal.com, being newer, might have a steeper learning curve.</p>

<p><strong>Integration Options</strong>: Calendly offers a wide range of integrations with popular platforms like Google Calendar, Office 365, and Zoom. While Cal.com is working on expanding its integration options, it hasn't yet reached the same level as Calendly.</p>

<p><strong>Community and Support</strong>: Calendly has a large user base and offers robust customer support, including a wealth of tutorials and resources. Cal.com, being a newer and open-source platform, relies more on community support, which might not be as immediate or extensive.</p>

<h3>
  
  
  Conclusion:
</h3>

<p>If you're into trying new things, love a good freebie, and value keeping your data close, give Cal.com a whirl. But if you want a tried-and-true tool that's easy to use and has solid support, Calendly's still a solid bet. </p>

<h2>
  
  
  NocoDB: The Airtable Alternative
</h2>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--cYiDO6Zc--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/phokr8123e2qpxge9ix5.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--cYiDO6Zc--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/phokr8123e2qpxge9ix5.png" alt="NocoDB: The Airtable Alternative" width="800" height="388"></a></p>

<p>You've probably seen Airtable around, with its colorful grids and easy drag-and-drop vibe. But there's a newcomer that's making some noise: NocoDB. Let's break down how these two stack up.</p>

<h3>
  
  
  Pros of NocoDB compared to Airtable:
</h3>

<p><strong>Open-Source Goodness</strong>: NocoDB is open-source, which means you can tweak, twist, and tailor it however you like. Plus, you get to benefit from a community of folks constantly improving it. Airtable? It's cool, but it doesn't give you that level of freedom.</p>

<p><strong>Wallet-Friendly</strong>: With NocoDB, you can dodge those monthly fees by hosting it yourself. Airtable's got a free tier, but if you want more records, views, or fancy features, you'll need to shell out some cash.</p>

<p><strong>Your Data, Your Rules</strong>: Since you can self-host NocoDB, you're in the driver's seat when it comes to your data. You decide where it's stored and who gets to peek at it. With Airtable, your data's hanging out on their servers.</p>

<h3>
  
  
  Cons of NocoDB compared to Airtable:
</h3>

<p><strong>User-Friendly Vibes</strong>: Airtable's super intuitive. Its interface is clean, and setting up bases feels like a breeze. NocoDB, being a bit newer, might take a tad more time to get used to.</p>

<p><strong>Template Treasure Trove</strong>: Airtable's got a ton of templates. Whether you're planning an event, tracking inventory, or managing projects, there's probably a template for that. NocoDB's still building up its collection.</p>

<p><strong>Built-In Integrations</strong>: Airtable plays well with others, offering a bunch of built-in integrations with popular apps. While NocoDB is expanding its integration game, it's not quite at Airtable's level yet.</p>

<p>If you're a fan of open-source, love having control over your data, and are looking to save some bucks, NocoDB might be right up your alley. But if you're after a tool that's super user-friendly, has a rich template library, and easily connects with other apps, Airtable's still holding strong.</p>

<h2>
  
  
  The Grand Conclusion
</h2>

<p>In the constant evolving world of digital tools, there's always a balance to strike between the established giants and the innovative newcomers. Whether it's design platforms, scheduling tools, or database systems, each offers its unique strengths and potential drawbacks.</p>

<p>Open-source alternatives like Penpot, Cal.com, NocoDB, and others bring to the table unparalleled customisation, cost savings, and data control. On the flip side, established players like Figma, Calendly, and Airtable offer user-friendly interfaces, extensive integration options, and the reliability that comes with time and refinement.</p>

<h2>
  
  
  Who says you have to pick a side?
</h2>

<p>The beauty of today's tech ecosystem is that you can mix and match. Use an open-source tool for one task and a proprietary one for another. It's like having a Swiss Army knife combined with a specialized toolkit. You get the best of both worlds.</p>

<p>For instance, you might love the customization of NocoDB for your database needs but prefer the seamless integrations of Calendly for scheduling. Or perhaps the open-source flexibility of Penpot appeals to your design side, while the reliability of Slack keeps your team communication smooth.</p>

<p>The point is, you're not boxed into one category. It's all about finding the right tool for the job and sometimes, that means blending the open-source spirit with the polished experience of proprietary software.</p>

<p>So, as you venture into the tech realm, remember: it's not about choosing sides. It's about finding the perfect tools that make your digital life easier, efficient, and enjoyable. Dive in, experiment, and craft your unique tech mosaic! </p>




<h2>
  
  
  Support our own Open-Source project on Github
</h2>

<p>We're on a journey to become a favourite project for developers, and while we're still in the building phase, we would love it, if you'd consider starring us on GitHub üåü: <a href="http://go.rig.dev/devto/10-open-source-alternatives/github">https://github.com/rigdev/rig</a></p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--u8WQz5ZT--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/6bh3qzfic6r0zp41b3h0.gif" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--u8WQz5ZT--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/6bh3qzfic6r0zp41b3h0.gif" alt="Support our own Open-Source project on Github" width="220" height="220"></a></p>

 </details> 
 <hr /> 

 #### - [jest.SpyOn @pnp/sp select() and filter()](https://dev.to/kkazala/spyon-pnpsp-select-and-filter-3ap4) 
 <details><summary>Article</summary> <p>It's a "Note to self" but maybe someone will find it useful. </p>

<p>Building on top of <a href="https://mgwdevcom.wordpress.com/2023/05/29/state-of-spfx-unit-testing-in-2023">State of SPFx unit testing in 2023</a> I'd like to make sure that the <code>select</code> and <code>filter</code> methods are invoked correctly from my function. </p>

<h2>
  
  
  The code
</h2>

<p>I have a <code>ListDataProvider</code> class which provides a <code>GetListItemsBy</code> method. Depending on the parameters provided I will call eiter <code>this.spfiContext.web.lists.getByTitle(listTitle).items.select(...viewFields).filter(filterBy)&lt;T&gt;(</code> or <code>return await this.spfiContext.web.lists.getByTitle(listTitle).items.select(...viewFields)&lt;T&gt;();</code></p>

<h3>
  
  
  ListDataProvider.ts
</h3>



<div class="highlight js-code-highlight">
<pre class="highlight typescript"><code><span class="k">export</span> <span class="kd">type</span> <span class="nx">IListSelect</span><span class="o">=</span><span class="p">{</span>
    <span class="na">listTitle</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span> <span class="nl">viewFields</span><span class="p">:</span> <span class="kr">string</span><span class="p">[];</span>
<span class="p">}</span>
<span class="k">export</span> <span class="kd">type</span> <span class="nx">IListFilter</span> <span class="o">=</span> <span class="nx">IListSelect</span> <span class="o">&amp;</span> <span class="p">{</span>
    <span class="na">filterByField</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span> <span class="nl">filterByVal</span><span class="p">:</span> <span class="kr">string</span><span class="p">[];</span> <span class="nl">filterBySyntax</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">export</span> <span class="k">default</span> <span class="kd">class</span> <span class="nx">ListDataProvider</span> <span class="p">{</span>
    <span class="kd">constructor</span><span class="p">(</span><span class="k">protected</span> <span class="nx">spfiContext</span><span class="p">:</span> <span class="nx">SPFI</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
    <span class="k">public</span> <span class="k">async</span> <span class="nx">GetListItemsBy</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">p</span><span class="p">:</span> <span class="nx">IListSelect</span> <span class="o">|</span> <span class="nx">IListFilter</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span>    <span class="p">{</span>

        <span class="kd">const</span> <span class="p">{</span> <span class="nx">listTitle</span><span class="p">,</span> <span class="nx">viewFields</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">p</span> <span class="k">as</span> <span class="nx">IListSelect</span><span class="p">;</span>
        <span class="kd">const</span> <span class="p">{</span> <span class="nx">filterByField</span><span class="p">,</span> <span class="nx">filterByVal</span><span class="p">,</span> <span class="nx">filterBySyntax</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">p</span> <span class="k">as</span> <span class="nx">IListFilter</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">filterBySyntax</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="o">||</span> <span class="nx">filterByField</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="p">)</span> <span class="p">{</span>
            <span class="kd">const</span> <span class="nx">filterBy</span> <span class="o">=</span> <span class="nx">filterBySyntax</span>
                <span class="p">?</span> <span class="s2">`</span><span class="p">${</span><span class="k">this</span><span class="p">.</span><span class="nx">getFilterBy</span><span class="p">(</span><span class="nx">filterByField</span><span class="p">,</span> <span class="nx">filterByVal</span><span class="p">)}</span><span class="s2"> or </span><span class="p">${</span><span class="k">this</span><span class="p">.</span><span class="nx">getFilterByContains</span><span class="p">(</span><span class="nx">filterByField</span><span class="p">,</span> <span class="nx">filterByVal</span><span class="p">,</span> <span class="nx">filterBySyntax</span><span class="p">)}</span><span class="s2">`</span>
                <span class="p">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">getFilterBy</span><span class="p">(</span><span class="nx">filterByField</span><span class="p">,</span> <span class="nx">filterByVal</span><span class="p">);</span>
            <span class="k">return</span> <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">spfiContext</span><span class="p">.</span><span class="nx">web</span><span class="p">.</span><span class="nx">lists</span><span class="p">.</span><span class="nx">getByTitle</span><span class="p">(</span><span class="nx">listTitle</span><span class="p">).</span><span class="nx">items</span><span class="p">.</span><span class="nx">select</span><span class="p">(...</span><span class="nx">viewFields</span><span class="p">).</span><span class="nx">filter</span><span class="p">(</span><span class="nx">filterBy</span><span class="p">)</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="k">else</span><span class="p">{</span>
            <span class="k">return</span> <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">spfiContext</span><span class="p">.</span><span class="nx">web</span><span class="p">.</span><span class="nx">lists</span><span class="p">.</span><span class="nx">getByTitle</span><span class="p">(</span><span class="nx">listTitle</span><span class="p">).</span><span class="nx">items</span><span class="p">.</span><span class="nx">select</span><span class="p">(...</span><span class="nx">viewFields</span><span class="p">)</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

</div>



<h2>
  
  
  The test
</h2>

<p>To test the <code>ListDataProvider</code> I will mock the <code>SPFI</code> with <code>select</code> [and <code>filter</code>]:</p>

<h3>
  
  
  ListDataProvider.test.ts
</h3>

<h4>
  
  
  it("should call correct method when calling GetListItemsBy with no filter")
</h4>

<p>Calling <code>this.spfiContext.web.lists.getByTitle("TestList").items.select("Title")()</code><br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight typescript"><code>    <span class="nx">it</span><span class="p">(</span><span class="dl">"</span><span class="s2">should call correct method when calling GetListItemsBy with no filter</span><span class="dl">"</span><span class="p">,</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>

        <span class="nx">mockSPFI</span> <span class="o">=</span> <span class="p">{</span>
            <span class="na">web</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">lists</span><span class="p">:</span> <span class="p">{</span>
                    <span class="na">getByTitle</span><span class="p">:</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">().</span><span class="nx">mockReturnValue</span><span class="p">({</span>
                        <span class="na">items</span><span class="p">:</span> <span class="p">{</span>
                            <span class="na">select</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">({</span> <span class="na">Title</span><span class="p">:</span> <span class="dl">"</span><span class="s2">test</span><span class="dl">"</span> <span class="p">}))</span>
                        <span class="p">}</span>
                    <span class="p">})</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span> <span class="k">as</span> <span class="nx">unknown</span> <span class="k">as</span> <span class="nx">SPFI</span><span class="p">;</span>

        <span class="nx">jest</span><span class="p">.</span><span class="nx">spyOn</span><span class="p">(</span><span class="nx">mockSPFI</span><span class="p">.</span><span class="nx">web</span><span class="p">.</span><span class="nx">lists</span><span class="p">.</span><span class="nx">getByTitle</span><span class="p">(</span><span class="dl">"</span><span class="s2">TestList</span><span class="dl">"</span><span class="p">).</span><span class="nx">items</span><span class="p">,</span> <span class="dl">"</span><span class="s2">select</span><span class="dl">"</span><span class="p">);</span>

        <span class="kd">const</span> <span class="nx">provider</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ListDataProvider</span><span class="p">(</span><span class="nx">mockSPFI</span><span class="p">);</span>
        <span class="kd">const</span> <span class="na">results</span><span class="p">:</span> <span class="nb">Record</span><span class="o">&lt;</span><span class="kr">string</span><span class="p">,</span> <span class="kr">string</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">provider</span><span class="p">.</span><span class="nx">GetListItemsBy</span><span class="p">({</span>
            <span class="na">listTitle</span><span class="p">:</span> <span class="dl">"</span><span class="s2">TestList</span><span class="dl">"</span><span class="p">,</span>
            <span class="na">viewFields</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">Title</span><span class="dl">"</span><span class="p">],</span>
        <span class="p">})</span>

        <span class="nx">expect</span><span class="p">(</span><span class="nx">results</span><span class="p">[</span><span class="dl">"</span><span class="s2">Title</span><span class="dl">"</span><span class="p">]).</span><span class="nx">toBe</span><span class="p">(</span><span class="dl">"</span><span class="s2">test</span><span class="dl">"</span><span class="p">);</span>
        <span class="nx">expect</span><span class="p">(</span><span class="nx">mockSPFI</span><span class="p">.</span><span class="nx">web</span><span class="p">.</span><span class="nx">lists</span><span class="p">.</span><span class="nx">getByTitle</span><span class="p">).</span><span class="nx">toBeCalledWith</span><span class="p">(</span><span class="dl">"</span><span class="s2">TestList</span><span class="dl">"</span><span class="p">);</span>
        <span class="nx">expect</span><span class="p">(</span><span class="nx">mockSPFI</span><span class="p">.</span><span class="nx">web</span><span class="p">.</span><span class="nx">lists</span><span class="p">.</span><span class="nx">getByTitle</span><span class="p">(</span><span class="dl">"</span><span class="s2">TestList</span><span class="dl">"</span><span class="p">).</span><span class="nx">items</span><span class="p">.</span><span class="nx">select</span><span class="p">).</span><span class="nx">toBeCalledWith</span><span class="p">(</span><span class="dl">"</span><span class="s2">Title</span><span class="dl">"</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre>

</div>



<h4>
  
  
  it("should call correct method when calling GetListItemsBy with filter")
</h4>

<p>Calling <code>this.spfiContext.web.lists.getByTitle("TestList").items.select("Title").filter("Title eq 'test'")()</code><br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight typescript"><code>    <span class="nx">it</span><span class="p">(</span><span class="dl">"</span><span class="s2">should call correct method when calling GetListItemsBy with filter</span><span class="dl">"</span><span class="p">,</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>

        <span class="nx">mockSPFI</span> <span class="o">=</span> <span class="p">{</span>
            <span class="na">web</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">lists</span><span class="p">:</span> <span class="p">{</span>
                    <span class="na">getByTitle</span><span class="p">:</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">().</span><span class="nx">mockReturnValue</span><span class="p">({</span>
                        <span class="na">items</span><span class="p">:</span> <span class="p">{</span>
                            <span class="na">select</span><span class="p">:</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">().</span><span class="nx">mockReturnValue</span><span class="p">({</span>
                                <span class="na">filter</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">({</span> <span class="na">Title</span><span class="p">:</span> <span class="dl">"</span><span class="s2">test</span><span class="dl">"</span> <span class="p">}))</span>
                            <span class="p">})</span>
                        <span class="p">}</span>
                    <span class="p">})</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span> <span class="k">as</span> <span class="nx">unknown</span> <span class="k">as</span> <span class="nx">SPFI</span><span class="p">;</span>

        <span class="nx">jest</span><span class="p">.</span><span class="nx">spyOn</span><span class="p">(</span><span class="nx">mockSPFI</span><span class="p">.</span><span class="nx">web</span><span class="p">.</span><span class="nx">lists</span><span class="p">.</span><span class="nx">getByTitle</span><span class="p">(</span><span class="dl">"</span><span class="s2">TestList</span><span class="dl">"</span><span class="p">).</span><span class="nx">items</span><span class="p">,</span> <span class="dl">"</span><span class="s2">select</span><span class="dl">"</span><span class="p">);</span>
        <span class="nx">jest</span><span class="p">.</span><span class="nx">spyOn</span><span class="p">(</span><span class="nx">mockSPFI</span><span class="p">.</span><span class="nx">web</span><span class="p">.</span><span class="nx">lists</span><span class="p">.</span><span class="nx">getByTitle</span><span class="p">(</span><span class="dl">"</span><span class="s2">TestList</span><span class="dl">"</span><span class="p">).</span><span class="nx">items</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="dl">"</span><span class="s2">Title</span><span class="dl">"</span><span class="p">),</span> <span class="dl">"</span><span class="s2">filter</span><span class="dl">"</span><span class="p">)</span>

        <span class="kd">const</span> <span class="nx">provider</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ListDataProvider</span><span class="p">(</span><span class="nx">mockSPFI</span><span class="p">);</span>
        <span class="kd">const</span> <span class="na">results</span><span class="p">:</span> <span class="nb">Record</span><span class="o">&lt;</span><span class="kr">string</span><span class="p">,</span> <span class="kr">string</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">provider</span><span class="p">.</span><span class="nx">GetListItemsBy</span><span class="p">({</span>
            <span class="na">listTitle</span><span class="p">:</span> <span class="dl">"</span><span class="s2">TestList</span><span class="dl">"</span><span class="p">,</span>
            <span class="na">viewFields</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">Title</span><span class="dl">"</span><span class="p">],</span>
            <span class="na">filterByField</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Title</span><span class="dl">"</span><span class="p">,</span>
            <span class="na">filterByVal</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">test</span><span class="dl">"</span><span class="p">]</span>
        <span class="p">})</span>

        <span class="nx">expect</span><span class="p">(</span><span class="nx">results</span><span class="p">[</span><span class="dl">"</span><span class="s2">Title</span><span class="dl">"</span><span class="p">]).</span><span class="nx">toBe</span><span class="p">(</span><span class="dl">"</span><span class="s2">test</span><span class="dl">"</span><span class="p">);</span>
        <span class="nx">expect</span><span class="p">(</span><span class="nx">mockSPFI</span><span class="p">.</span><span class="nx">web</span><span class="p">.</span><span class="nx">lists</span><span class="p">.</span><span class="nx">getByTitle</span><span class="p">).</span><span class="nx">toBeCalledWith</span><span class="p">(</span><span class="dl">"</span><span class="s2">TestList</span><span class="dl">"</span><span class="p">);</span>
        <span class="nx">expect</span><span class="p">(</span><span class="nx">mockSPFI</span><span class="p">.</span><span class="nx">web</span><span class="p">.</span><span class="nx">lists</span><span class="p">.</span><span class="nx">getByTitle</span><span class="p">(</span><span class="dl">"</span><span class="s2">TestList</span><span class="dl">"</span><span class="p">).</span><span class="nx">items</span><span class="p">.</span><span class="nx">select</span><span class="p">).</span><span class="nx">toBeCalledWith</span><span class="p">(</span><span class="dl">"</span><span class="s2">Title</span><span class="dl">"</span><span class="p">)</span>
        <span class="nx">expect</span><span class="p">(</span><span class="nx">mockSPFI</span><span class="p">.</span><span class="nx">web</span><span class="p">.</span><span class="nx">lists</span><span class="p">.</span><span class="nx">getByTitle</span><span class="p">(</span><span class="dl">"</span><span class="s2">TestList</span><span class="dl">"</span><span class="p">).</span><span class="nx">items</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="dl">""</span><span class="p">).</span><span class="nx">filter</span><span class="p">).</span><span class="nx">toBeCalledWith</span><span class="p">(</span><span class="dl">"</span><span class="s2">Title eq 'test'</span><span class="dl">"</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre>

</div>



<h4>
  
  
  it("should call correct method when calling GetListItemsBy with filter and filterBySyntax")
</h4>

<p>Calling <code>this.spfiContext.web.lists.getByTitle("TestList").items.select("Title").filter("ID eq '1506' or substringof('-1506-',ID)")()</code><br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight typescript"><code>    <span class="nx">it</span><span class="p">(</span><span class="dl">"</span><span class="s2">should call correct method when calling GetListItemsBy with filter and filterBySyntax</span><span class="dl">"</span><span class="p">,</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>

        <span class="nx">mockSPFI</span> <span class="o">=</span> <span class="p">{</span>
            <span class="na">web</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">lists</span><span class="p">:</span> <span class="p">{</span>
                    <span class="na">getByTitle</span><span class="p">:</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">().</span><span class="nx">mockReturnValue</span><span class="p">({</span>
                        <span class="na">items</span><span class="p">:</span> <span class="p">{</span>
                            <span class="na">select</span><span class="p">:</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">().</span><span class="nx">mockReturnValue</span><span class="p">({</span>
                                <span class="na">filter</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">({</span> <span class="na">Title</span><span class="p">:</span> <span class="dl">"</span><span class="s2">test</span><span class="dl">"</span> <span class="p">}))</span>
                            <span class="p">})</span>
                        <span class="p">}</span>
                    <span class="p">})</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span> <span class="k">as</span> <span class="nx">unknown</span> <span class="k">as</span> <span class="nx">SPFI</span><span class="p">;</span>

        <span class="nx">jest</span><span class="p">.</span><span class="nx">spyOn</span><span class="p">(</span><span class="nx">mockSPFI</span><span class="p">.</span><span class="nx">web</span><span class="p">.</span><span class="nx">lists</span><span class="p">.</span><span class="nx">getByTitle</span><span class="p">(</span><span class="dl">"</span><span class="s2">TestList</span><span class="dl">"</span><span class="p">).</span><span class="nx">items</span><span class="p">,</span> <span class="dl">"</span><span class="s2">select</span><span class="dl">"</span><span class="p">);</span>
        <span class="nx">jest</span><span class="p">.</span><span class="nx">spyOn</span><span class="p">(</span><span class="nx">mockSPFI</span><span class="p">.</span><span class="nx">web</span><span class="p">.</span><span class="nx">lists</span><span class="p">.</span><span class="nx">getByTitle</span><span class="p">(</span><span class="dl">"</span><span class="s2">TestList</span><span class="dl">"</span><span class="p">).</span><span class="nx">items</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="dl">"</span><span class="s2">Title</span><span class="dl">"</span><span class="p">),</span> <span class="dl">"</span><span class="s2">filter</span><span class="dl">"</span><span class="p">)</span>

        <span class="kd">const</span> <span class="nx">provider</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ListDataProvider</span><span class="p">(</span><span class="nx">mockSPFI</span><span class="p">);</span>
        <span class="kd">const</span> <span class="na">results</span><span class="p">:</span> <span class="nb">Record</span><span class="o">&lt;</span><span class="kr">string</span><span class="p">,</span> <span class="kr">string</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">provider</span><span class="p">.</span><span class="nx">GetListItemsBy</span><span class="p">({</span>
            <span class="na">listTitle</span><span class="p">:</span> <span class="dl">"</span><span class="s2">TestList</span><span class="dl">"</span><span class="p">,</span>
            <span class="na">viewFields</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">Title</span><span class="dl">"</span><span class="p">],</span>
            <span class="na">filterByField</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ID</span><span class="dl">"</span><span class="p">,</span>
            <span class="na">filterByVal</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">1506</span><span class="dl">"</span><span class="p">],</span>
            <span class="na">filterBySyntax</span><span class="p">:</span> <span class="dl">"</span><span class="s2">-value-</span><span class="dl">"</span>
        <span class="p">})</span>

        <span class="nx">expect</span><span class="p">(</span><span class="nx">results</span><span class="p">[</span><span class="dl">"</span><span class="s2">Title</span><span class="dl">"</span><span class="p">]).</span><span class="nx">toBe</span><span class="p">(</span><span class="dl">"</span><span class="s2">test</span><span class="dl">"</span><span class="p">);</span>
        <span class="nx">expect</span><span class="p">(</span><span class="nx">mockSPFI</span><span class="p">.</span><span class="nx">web</span><span class="p">.</span><span class="nx">lists</span><span class="p">.</span><span class="nx">getByTitle</span><span class="p">).</span><span class="nx">toBeCalledWith</span><span class="p">(</span><span class="dl">"</span><span class="s2">TestList</span><span class="dl">"</span><span class="p">);</span>
        <span class="nx">expect</span><span class="p">(</span><span class="nx">mockSPFI</span><span class="p">.</span><span class="nx">web</span><span class="p">.</span><span class="nx">lists</span><span class="p">.</span><span class="nx">getByTitle</span><span class="p">(</span><span class="dl">"</span><span class="s2">TestList</span><span class="dl">"</span><span class="p">).</span><span class="nx">items</span><span class="p">.</span><span class="nx">select</span><span class="p">).</span><span class="nx">toBeCalledWith</span><span class="p">(</span><span class="dl">"</span><span class="s2">Title</span><span class="dl">"</span><span class="p">)</span>
        <span class="nx">expect</span><span class="p">(</span><span class="nx">mockSPFI</span><span class="p">.</span><span class="nx">web</span><span class="p">.</span><span class="nx">lists</span><span class="p">.</span><span class="nx">getByTitle</span><span class="p">(</span><span class="dl">"</span><span class="s2">TestList</span><span class="dl">"</span><span class="p">).</span><span class="nx">items</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="dl">""</span><span class="p">).</span><span class="nx">filter</span><span class="p">).</span><span class="nx">toBeCalledWith</span><span class="p">(</span><span class="dl">"</span><span class="s2">ID eq '1506' or substringof('-1506-',ID)</span><span class="dl">"</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre>

</div>



 </details> 
 <hr /> 

 #### - [A complete guide on Behavioral Design Pattern and Chain of Responsibility Pattern in Java](https://dev.to/ifourtechnolab/a-complete-guide-on-behavioral-design-pattern-and-chain-of-responsibility-pattern-in-java-1ejj) 
 <details><summary>Article</summary> <p>In this blog, we‚Äôll learn behavioral design patterns where and when we can use this particular pattern, and its types.</p>

<p>Also, we‚Äôll particularly focus on the chain of responsibility pattern which is a type of behavioral design pattern.</p>

<h2>
  
  
  What is Behavioral Design Pattern?
</h2>

<p>A design pattern in which more emphasis is given to how the objects interact with each other.</p>

<p>Also as the name suggests a chain of responsibility i.e., objects have their responsibilities/tasks to perform.</p>

<p>In behavioral design patterns, there should be minimum hard coding, the objects should be loosely coupled and coherence should be more.</p>

<p>Now, let us understand the terms coupling and coherence. These are significant terms in design patterns and also in software engineering.</p>

<p>Coupling - Coupling means interdependency here in terms of objects. The objects should be less dependent on each other for a particular task, otherwise, due to a failure or delay in one object can lead to a system failure.</p>

<p>Coherence - Coherence means that the objects/modules should work together so that they complement each other rather than creating a burden on the system.</p>

<h4>
  
  
  Read More: <a href="https://www.ifourtechnolab.com/blog/a-complete-guide-on-structural-design-pattern-in-java">A Complete Guide On Structural Design Pattern In Java</a>
</h4>

<h2>
  
  
  Types of Behavioral Design Pattern:
</h2>

<ul>
<li>Interpreter Pattern: As the name suggests it is used to interpret a pattern in a particular way.</li>
<li>Mediator Pattern: This design pattern acts as a mediator between different classes so that they can communicate properly and loosely coupled manner.</li>
<li>Command Pattern: Here the request by the client is wrapped and converted into a command. It is also known as a data-driven pattern.</li>
<li>State Pattern: As the name suggests, it is related to the state of an object in different classes.</li>
<li>Chain of Responsibility Pattern: Used when we want a chain of objects.</li>
<li>Memento Pattern: This design pattern is used when we want to change the state of an object to the previous form.</li>
<li>Template Pattern: In template pattern, there is an abstract class which set the implementation so other class can use them according to it.</li>
<li>Visitor Pattern: In this method, there is a visitor class that will change the algorithm of the particular element.</li>
<li>Null Object: We use this pattern when we have null values and do nothing relationship.</li>
<li>Strategy Pattern: We can use this pattern when we want to change the algorithm or behavior of a class at runtime.</li>
<li>Iterator Pattern: This is one of the most common design patterns, it is used when want to access data sequentially from a collection. In java, iterator pattern is used in iterator also.</li>
<li>Observer Pattern: When we want to observe and respond according to change in an object we use an observer pattern. When an object changes its relationship with other objects which are in entity-relationship also changes so, we need observer pattern.</li>
</ul>

<h2>
  
  
  What is a Chain of Responsibility Pattern?
</h2>

<p>A design pattern in which objects show a chain behavior is a chain of responsibility pattern.</p>

<p>Whenever a user sends a request it passes through a chain of an object and any object can send a response accordingly. So there is the least coupling between the objects.</p>

<h2>
  
  
  Advantages of using Chain of Responsibility Pattern:
</h2>

<ul>
<li>Less coupling in the system, so less interdependency.</li>
<li>The structure becomes more flexible due to less coupling and more coherence.</li>
</ul>

<h4>
  
  
  Searching for <a href="https://www.ifourtechnolab.com/java-development-company">Reliable Java Development Company</a>?
</h4>

<h2>
  
  
  Example for Chain of Responsibility Pattern:
</h2>

<p>Now, let us understand the chain of responsibility pattern with an example. The given below UML diagram will make you easily understand.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--pMcWhyzT--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/24bkald3le5siogdvfi9.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--pMcWhyzT--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/24bkald3le5siogdvfi9.png" alt="Image description" width="656" height="414"></a><br>
 [<a href="https://www.javatpoint.com/images/designpattern/chainofresponsibilityuml.jpg">Img Source</a>]</p>

<p>So here we have three different logger class which extends the main abstract logger class and a client class.</p>

<p>Each class has its attributes and methods like Logger has output info, error info, debug info as attributes, and set Logger, Message, display Log Info as methods.</p>

<p>Console Based Logger class has a console-based logger and displays Log Info as methods but no attributes of its own. Debug Based Logger has Debug Based Logger(int levels) and displays Log Info as methods but no attributes of it</p>

<p>The client class which is Chain of Responsibility Client has de chain() and main methods.</p>

<p><strong>Main logger class</strong><br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>public abstract class Logger {  
    public static int OUTPUTINFO = 1;  
    public static int ERRORINFO = 2;  
    public static int DEBUGINFO = 3;  
    protected int levels;  
    protected Logger nextLevelLogger;  
public void setNextLevelLogger( Logger nextLevelLogger ) 
{  
        this.nextLevelLogger = nextLevelLogger;  
    }  
        public void logMessage( int levels, String msg )
{  
        if(this.levels &lt;= levels){  
            displayLogInfo(msg);  
        }  
        if (nextLevelLogger != null) {  
            nextLevelLogger.logMessage(levels, msg);  
        }  
    }  
    protected abstract void displayLogInfo(String msg);  
}  

</code></pre>

</div>



<p><strong>Console based logger class</strong><br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>public class DebugBasedLogger extends Logger {  
  public DebugBasedLogger(int levels) {  
      this.levels = levels;  
  }  
  @Override  
  protected void displayLogInfo(String msg) {  
      System.out.println("DEBUG LOGGER INFO: " + msg);  
  }  
}

</code></pre>

</div>



<p><strong>Error based logger class</strong><br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>public class ErrorBasedLogger extends Logger {  
  public ErrorBasedLogger(int levels) {  
      this.levels=levels;  
  }  
  @Override  
  protected void displayLogInfo(String msg) {  
      System.out.println("ERROR LOGGER INFO: " + msg);  
  }  
}

</code></pre>

</div>



<p><strong>Client class / main class</strong><br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>public class ChainofResponsibilityClient {  
  private static Logger doChaining(){  
    Logger consoleLogger = new ConsoleBasedLogger(Logger.OUTPUTINFO);  

    Logger errorLogger = new ErrorBasedLogger(Logger.ERRORINFO);  
    consoleLogger.setNextLevelLogger(errorLogger);  

    Logger debugLogger = new DebugBasedLogger(Logger.DEBUGINFO);  
    errorLogger.setNextLevelLogger(debugLogger);  

    return consoleLogger;   
    }  
    public static void main(String args[]){  
    Logger chainLogger = doChaining();  

        chainLogger.logMessage(Logger.OUTPUTINFO, "Enter the sequence of values ");  
        chainLogger.logMessage(Logger.ERRORINFO, "An error has occurred now");  
        chainLogger.logMessage(Logger.DEBUGINFO, "This was the error now debugging is compiled");  
        }  
}  

</code></pre>

</div>



<p><strong>Output:</strong></p>

<p>AbilityClient</p>

<p>CONSOLE LOGGER INFO: Enter the sequence of values</p>

<p>CONSOLE LOGGER INFO: An error has occurred now</p>

<p>ERROR LOGGER INFO: An error has occurred now</p>

<p>CONSOLE LOGGER INFO: This was the error now debugging is compiled</p>

<p>ERROR LOGGER INFO: This was the error now debugging is compiled</p>

<p>DEBUG LOGGER INFO: This was the error now debugging is compiled</p>

<h2>
  
  
  Conclusion
</h2>

<p>So in this blog, we focused learning on the chain of responsibility pattern which is one of the behavioral design patterns, its uses, advantages, and also when to use these design patterns, etc. along with an example.</p>

 </details> 
 <hr /> 
<!-- BLOG-POST-LIST:END -->
</table>
</details>


<!-- TODO
Change the 3stats boxes around, possibly two on top and one on bottom
Fix RSSfeed
Fix Spotify Playlists
Fix Socials [Portfolio, Discord, Linkedin]
In the future, add Public Repositories of Selected Projects
-->
