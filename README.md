<!-- VISITOR BADGE -->
<!-- https://github.com/hehuapei/visitor-badge -->

<img align="right" src="https://visitor-badge.laobi.icu/badge?page_id=mao1910.mao1910&left_color=%2379DAF9&right_color=%23FE6E96" />


<!-- TYPING SVG -->
<!-- https://github.com/DenverCoder1/readme-typing-svg -->

<h1 align="center">
    <img src="https://readme-typing-svg.herokuapp.com/?font=Righteous&size=35&center=true&vCenter=true&width=500&height=70&color=FE6E96&font=poppins&duration=5000&lines=Hi+There!+üëã;+I'm+Mao!;" />
</h1>

<br/>

<!-- CODE/TERMINAL ABOUT ME -->
<h1 align="center">
<img src="./assets/terminal-5.gif" alt="Terminal" />
</h1>

<br/><br/><br/>


<!-- TECHNOLOGIES LOGOS -->
<!-- https://github.com/tandpfun/skill-icons -->

<h2 align="center">üíª Languages / Frameworks / Tools ‚öíÔ∏è</h2>
<div align="center">
    <img src="https://skillicons.dev/icons?i=javascript,typescript,angular,react,html,css,scss,bootstrap,cs,java,spring" />
    <img src="https://skillicons.dev/icons?i=flutter,firebase,supabase,mysql,git,github,gitlab,vscode,idea,maven,figma" />
</div>

<br/><br/><br/>


<!-- CONTRIBUTIONS SNAKE GAME -->
<!-- https://github.com/Platane/snk -->

<div align="center">
  <h2> My Contributionssssüêç </h2>
  <br>
  <img alt="contributions-eating Snake" src="https://raw.githubusercontent.com/mao1910/mao1910/output/github-contribution-grid-snake.svg" />

  <!-- Four lines below suggested by Planate for Dark mode-->
  <picture>
  <source media="(prefers-color-scheme: dark)" srcset="github-snake-dark.svg" />
  <source media="(prefers-color-scheme: light)" srcset="github-snake.svg" />
  </picture>
  
  <br/><br/><br/>
</div>


<!-- GITHUB STATS -->
<!-- https://github.com/DenverCoder1/github-readme-streak-stats -->
<!-- https://github.com/anuraghazra/github-readme-stats -->
<!-- https://github-readme-stats-mao1910.vercel.app/ My own Vercel deployment-->

<h2 align="center"> Statsüìù </h2>
  <br>
<div align=center>
  <img width=429 src="https://github-readme-stats-mao1910.vercel.app/api?username=mao1910&count_private=true&show_icons=true&theme=dracula&rank_icon=github&hide=contribs&border_radius=10&border_color=79DAF9" alt="github stats"/>
  <img width=396 src="https://streak-stats.demolab.com/?user=mao1910&count_private=true&theme=dracula&currStreakNum=79DAF9&currStreakLabel=FE6E96&border_radius=10&border=79DAF9" alt="streak stats"/>
  <br/>
  <img src="https://github-readme-stats-mao1910.vercel.app/api/top-langs/?username=mao1910&layout=compact&theme=dracula&border_radius=10&size_weight=0.5&count_weight=0.5&border_color=79DAF9" alt="languages stats" />
</div>

<br/><br/><br/>


<!-- FOOTER -->
<!-- https://github.com/DenverCoder1/readme-typing-svg -->
<!-- https://readme-typing-svg.demolab.com/demo/ -->

<a href="https://git.io/typing-svg"><img src="https://readme-typing-svg.demolab.com?font=Poppins&pause=1000&color=FE6E96&width=535&lines=Thanks+for+dropping+by!;Feel+free+to+check+any+of+the+Socials+below+%F0%9F%91%87;Or+the+Joke+Of+The+Day+if+you're+down+for+a+giggle+%F0%9F%98%9D;Hope+to+see+you+again+%F0%9F%91%8A;Uh%3F+You're+still+here%3F;Well...+I'm+running+out+of+things+to+say...;Tell+you+what%2C+due+to+your+effort+and+perseverance%2C;I+shall+present+you+with+a+short+poem%3A;%22To+code%2C+or+not+to+code%2C+that+is+the+question%3A;Whether+'tis+nobler+in+the+IDE+to+debug;The+errors+and+issues+of+outrageous+software%2C;Or+to+take+up+the+keyboard+against+a+sea+of+bugs;And+by+coding%2C+end+them.%22;by+William+Shakespeare%2C+probably.+;Pretty+sure+that's+Hamlet's.;Alrighty%2C+this+has+been+fun.;But+I'll+restart+the+loop+now...+see+ya+soon!" alt="Typing SVG" /></a>


<!--  SOCIAL NETWORKS -->
<!-- https://github.com/alexandresanlim/Badges4-README.md-Profile -->

  <div> 
    <a href="https://www.linkedin.com/" target="_blank"><img src="https://img.shields.io/badge/-LinkedIn-%230077B5?style=for-the-badge&logo=linkedin&logoColor=white" target="_blank"></a> <!-- ADD LINKEDIN PROFILE -->
    <a href = "https://www.google.com"><img src="https://img.shields.io/badge/Portfolio-4285F4?style=for-the-badge&logo=Google-chrome&logoColor=white" target="_blank"></a> <!-- ADD PORTFOLIO WEBSITE -->
    <a href="https://discord.gg" target="_blank"><img src="https://img.shields.io/badge/Discord-7289DA?style=for-the-badge&logo=discord&logoColor=white" target="_blank"></a> <!-- ADD DISCORD -->
    <a href = "mao1910dev@gmail.com"><img src="https://img.shields.io/badge/Gmail-D14836?style=for-the-badge&logo=gmail&logoColor=white" target="_blank"></a>
  </div>


<!-- SPOTIFY PLAYING-->
<!-- https://github.com/novatorem/novatorem -->
<!-- https://spotify-now-playing-novatorem-git-main-mao1910.vercel.app/ My own Vercel deployment-->

[<img width=438px src="https://spotify-now-playing-git-main-mao1910.vercel.app//api/spotify/?border_color=FE6E96" alt="Mao Spotify Now Playing" />](https://open.spotify.com/user/31542et242zglhf42ydrtqgvuvde)


<!-- JOKE OF THE DAY -->
<!-- https://github.com/ABSphreak/readme-jokes -->
<!-- https://readme-jokes-git-master-mao1910.vercel.app/ My own Vercel deployment-->

<details>
<summary>I've got a Joke for you. Wanna hear it? üôà</summary>

<br/>

 <tr>
 <td style="padding-top:4px"><img src = "https://readme-jokes-git-master-mao1910.vercel.app/api?&theme=dracula"></td>
 </tr>

</details>


<!-- ACTIVITY -->
<!-- https://github.com/jamesgeorge007/github-activity-readme -->


<details>
<summary>‚úçÔ∏è Activity</summary>

<br/>
<!-- START_SECTION:activity -->
<!--END_SECTION:activity-->

</details>


<!-- RSS FEED -->
<!-- https://github.com/gautamkrishnar/blog-post-workflow -->


<details>
<summary>üìï &nbsp;RSS feed</summary>

<br/>

<!-- BLOG-POST-LIST:START -->
 #### - [Let‚Äôs Create an End-to-End Web Scraping Pipeline With Scrapy!](https://dev.to/nanellooo/lets-create-an-end-to-end-web-scraping-pipeline-with-scrapy-261o) 
 <details><summary>Article</summary> <h1>
  
  
  Introduction
</h1>

<p>Web scraping has become an indispensable tool for gathering data, allowing developers and data enthusiasts access to valuable information from the web. Tools like BeautifulSoup4 and Selenium are user-friendly tools that make this task as simple as possible, especially for one-off scripts and basic workflows.</p>

<p>However, web scraping is often just the first step in a broader process of Extract, Transform, Load (ETL). As your needs grow, so too will the number of custom scripts. With no framework to organize these one-off scripts, this will inevitably lead to a confusing mess down the road.</p>

<p>As Albert Einstein once said, ‚ÄúEverything should be made as simple as possible, but not simpler.‚Äù That‚Äôs where Scrapy comes in!</p>

<p>In this tutorial, I‚Äôm going to walk you through a web scraping ETL process using Scrapy that gathers quotes, like that Einstein quote, and loads them into an SQLite database. We‚Äôll be using <a href="http://quotes.toscrape.com/page/1/">Quotes to Scrape</a> as our target scraping site:</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--IP00BGJG--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/sk0edksszz2lp0ett6nd.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--IP00BGJG--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/sk0edksszz2lp0ett6nd.png" alt="Image description" width="800" height="494"></a></p>

<h1>
  
  
  We‚Äôll go over the following:
</h1>

<ul>
<li>  Creating a virtual environment for Python.</li>
<li>  Setting up Scrapy, a Python web scraping framework.</li>
<li>  Building a web scraper using Scrapy to extract quotes from a website.</li>
<li>  Configuring a Scrapy pipeline to process and store scraped data.</li>
<li>  Creating a SQLite database using Python.</li>
<li>  Storing scraped data in an SQL database.</li>
<li>  (For Fun) Analyzing scraped data with Pandas and Matplotlib</li>
</ul>

<h1>
  
  
  Step 1: Creating a Virtual Environment
</h1>

<p>Before we dive in, a good idea to create a clean and isolated Python environment using a virtual environment. This ensures that the packages and dependencies for your Scrapy project won‚Äôt interfere with your system-wide Python installation, and it will automatically Scrapy‚Äôs CLI to the virtual environment‚Äôs PATH for maximum ease of use.</p>

<p>Here are the steps to create a virtual environment:</p>

<ol>
<li> Open a terminal or command prompt on your computer.</li>
<li> Navigate to the directory where you want to create your Scrapy project. You</li>
<li> Once you‚Äôre in the desired directory, run the following command to create a virtual environment named <code>quotesenv</code> (you can replace <code>quotesenv</code> with your preferred name):
</li>
</ol>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>python -m venv quotesenv
</code></pre>

</div>



<p>After running this command, you‚Äôll have a new directory named <code>myenv</code> (or your chosen name) in your project directory. This directory contains a clean Python environment where you can install packages without affecting your system-wide Python installation.</p>

<p>Now that you have a virtual environment set up, you can proceed to the next step: installing Scrapy and creating your Scrapy project.</p>

<h1>
  
  
  Step 2: Installing Scrapy and Creating Your First Project
</h1>

<p>It‚Äôs time to install Scrapy and create a Scrapy project for our web scraping endeavor.</p>

<ol>
<li> Activate your virtual environment if it‚Äôs not already activated. You can do this by running:
</li>
</ol>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>source quotesenv/bin/activate
</code></pre>

</div>



<p>Replace <code>quotesenv</code> with the name of your virtual environment if it's different.</p>

<ol>
<li> Now, you can install Scrapy inside your virtual environment using pip:
</li>
</ol>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>pip install scrapy
</code></pre>

</div>



<ol>
<li> Once Scrapy is installed, you can create a new Scrapy project using the following command:
</li>
</ol>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>scrapy startproject quotes\_project
</code></pre>

</div>



<p>This command will create a directory structure for your Scrapy project, including all the necessary files and boilerplate to get you started:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>\&gt;quotes\_project/  
    scrapy.cfg  
    quotes\_project/  
        \_\_init\_\_.py  
        items.py  
        middlewares.py  
        pipelines.py  
        settings.py  
        spiders/  
            \_\_init\_\_.py  
            quotes\_spider.py
</code></pre>

</div>



<h1>
  
  
  Here‚Äôs how they all work together:
</h1>

<ul>
<li>  scrapy.cfg: This is the Scrapy project configuration file. It contains settings and configurations for your Scrapy project.</li>
<li>  quotes_project(directory): This is the Python package for your Scrapy project.</li>
<li>  <a href="http://init.py/">init.py</a>: This is an empty Python file that makes the directory a Python package.</li>
<li>  <a href="http://items.py/">items.py</a>: This is where you define the structure of the items that will hold the scraped data. You create item classes with fields that correspond to the data you want to scrape.</li>
<li>  <a href="http://middlewares.py/">middlewares.py</a>: This file is used to define custom middleware components for your Scrapy project. Middleware can modify requests and responses during the scraping process.</li>
<li>  <a href="http://pipelines.py/">pipelines.py</a>: Here, you can define data processing pipelines to process and store the scraped data. You can implement actions like storing data in databases, exporting data to files, or performing additional processing.</li>
<li>  <a href="http://settings.py/">settings.py</a>: This is the main configuration file for your Scrapy project. You can set various project-specific settings, including user agent, concurrency, and more.</li>
<li>  spiders(directory): This directory contains your web-scraping spiders.</li>
<li>  <a href="http://init.py/">init.py</a>: This is an empty Python file that makes the directory a Python package.</li>
<li>  quotes_<a href="http://spider.py/">spider.py</a>: This is an example spider file where you define the spider to crawl and scrape data from websites. You create classes that inherit from <code>scrapy.Spider</code> and define how the spider navigates and extracts data from web pages. We'll create our first one together.</li>
</ul>

<p>This folder and file structure provide a clear organization for your Scrapy project, separating configuration, item definitions, spider code, and data processing logic.</p>

<p>Now that you have Scrapy installed and your project set up, let‚Äôs move on to defining a spider to scrape quotes from a website. Stay tuned for Step 3!</p>

<h1>
  
  
  Step 3: Creating the Item Class For Our Data Structure
</h1>

<p>In this step, we‚Äôll define the structure of the item that will hold the scraped data. Scrapy uses Items to structure and store the data you extract from websites.</p>

<p>Open the <code>[items.py](http://items.py/)</code> file in your Scrapy project directory. This file is automatically generated when you create your Scrapy project using the <code>scrapy startproject</code> command.</p>

<p>In <code>[items.py](http://items.py/)</code>, you'll notice the CLI has already created the QuotesScraperItem class, which inherits from scrapy.Item. Add the following code and remove the pass statement to define the structure of the <code>QuotesScraperItem</code>:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>import scrapy  
class QuotesScraperItem(scrapy.Item):  
    text = scrapy.Field()  
    author = scrapy.Field()
</code></pre>

</div>



<p>This code snippet defines an item class with two fields: <code>title</code> and <code>author</code>. You could also grab the <code>tags</code> data, but that's beyond the scope of this tutorial. These fields correspond to the data we'll scrape from the website.</p>

<p>With the item structure defined, we‚Äôre ready to move on to creating the spider, which is the class responsible for the extract portion of our ETL pipeline. I‚Äôve done the work of inspecting the target website and finding the selectors for the data we‚Äôll be scraping, too.</p>

<h1>
  
  
  Step 4: Defining a Scrapy Spider to Scrape Quotes
</h1>

<p>A Scrapy spider is a class that contains the rules for how to navigate and extract data from a website. Let‚Äôs get started:</p>

<ol>
<li> Create a new file named <code>quotes_spider.py</code> inside the <code>quotes_project/quotes_project/spiders</code> directory. This is where we'll define our spider.</li>
<li> Edit <code>quotes_spider.py</code> and add the code below
</li>
</ol>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>import scrapy  
from quotes\_project.items import QuotesScraperItem #made in the previous step  
class QuotesSpider(scrapy.Spider):  
            name = "quotes"  
            start\_urls = \[  
                'http://quotes.toscrape.com/page/1/',  
            \]  
            def parse(self, response):  
                for quote in response.css('div.quote'):  
                    item = QuotesScraperItem()  
                    item\['text'\] = ''.join(quote.css('span.text::text').get())  
                    item\['author'\] = ''.join(quote.css('span small::text').get())  
                    yield item  
                next\_page = response.css('li.next a::attr(href)').get()  
                if next\_page is not None:  
                    yield response.follow(next\_page, self.parse)
</code></pre>

</div>



<p>This code defines a Scrapy spider named ‚Äúquotes‚Äù that starts at the specified URL and scrapes quotes and their authors. It also continues to do so for each page until there are no more pages left. The ‚Äú‚Äù.join() string function is necessary because the ‚Äòtext‚Äô field will return a list of strings rather than one string, and this combines it for us easily.</p>

<ol>
<li> To run the spider and see it in action, use the following command in your project‚Äôs root directory:
</li>
</ol>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>scrapy crawl quotes
</code></pre>

</div>



<p>Now, your spider will start scraping quotes from the website. But you have nowhere to put it‚Ä¶ Fear not, that comes next!</p>

<h1>
  
  
  Step 5: Saving Scraped Data to a SQLite Database
</h1>

<p>Now that you‚Äôve successfully scraped data from the web, it‚Äôs time to store that data in a database for future use and analysis. In this step, we‚Äôll set up an SQLite database as the destination for the data in our pipeline automatically when we run the pipeline.</p>

<p>In Scrapy, pipelines are responsible for processing scraped data. We‚Äôll create a custom pipeline to insert our scraped items into the SQLite database we just created.</p>

<ol>
<li> In your Scrapy project folder, navigate to the <code>quotes_scraper</code> directory (or your project name) and open the <code>[pipelines.py](http://pipelines.py/)</code> file.</li>
<li> Define the following pipeline class at the end of the file.
</li>
</ol>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>import sqlite3  
            from itemadapter import ItemAdapter              
            class QuotesToSQLitePipeline:  
                def \_\_init\_\_(self):  
                    self.conn = sqlite3.connect('quotes.db')  
                    self.cursor = self.conn.cursor()  
                def process\_item(self, item, spider):  
                    adapter = ItemAdapter(item)  
                    self.cursor.execute('''  
                    CREATE TABLE IF NOT EXISTS quotes (  
                        id INTEGER PRIMARY KEY AUTOINCREMENT,  
                        text TEXT,  
                        author TEXT  
                    )  
                ''')  
                    self.cursor.execute('''  
                        INSERT INTO quotes (text, author)  
                        VALUES (?, ?)  
                    ''', (adapter\['text'\], adapter\['author'\]))  
                    self.conn.commit()  
                    return item  
                def close\_spider(self, spider):  
                    self.conn.close()
</code></pre>

</div>



<p>This pipeline class creates (if it doesn‚Äôt yet exist) or connects to the SQLite database, inserts scraped data into the <code>quotes</code> table and closes the connection when the spider is done. The ItemAdapter allows us to data within an Item without having to import that Item itself (less tightly coupled, yay!).</p>

<h1>
  
  
  Step 3: Enabling the Pipeline
</h1>

<p>To enable your custom pipeline, add it to the <code>[settings.py](http://settings.py/)</code> file in your Scrapy project folder:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>\# settings.py  
\# ...  
        # Configure item pipelines  
        ITEM\_PIPELINES = {  
           'quotes\_scraper.pipelines.QuotesToSQLitePipeline': 300,  # Adjust the priority if needed  
        }  
        # ...
</code></pre>

</div>



<p>In this example, I‚Äôve set the pipeline‚Äôs priority to 300, but you can adjust it as necessary.</p>

<h1>
  
  
  Step 4: Running Your Spider and Saving Data
</h1>

<p>Now that everything is set up, you can run your spider again and see how Scrapy saves scraped data to the SQLite database:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>scrapy crawl quotes
</code></pre>

</div>



<p>Scrapy will execute your spider and use the custom pipeline to save the scraped quotes and authors to the <code>quotes.db</code> database, which will now be in your project folder.</p>

<p>That‚Äôs it for Step 4! You‚Äôve successfully set up an SQLite database and configured a pipeline to save your scraped data. In the next steps, we‚Äôll cover how to retrieve and analyze the data.</p>

<h1>
  
  
  Step 5: Retrieving Data from the SQLite Database
</h1>

<p>You‚Äôve successfully scraped and saved data to an SQLite database using Scrapy. In this step, we‚Äôll explore how to retrieve that data from the database and perform basic queries.</p>

<h1>
  
  
  Step 1: Connecting to the Database
</h1>

<p>To retrieve data from the SQLite database, we need to establish a connection and create a cursor object, then perform a select, and finally print what‚Äôs returned from the cursor. Create a file called retrieve_<a href="http://quotes.py/">quotes.py</a> in the project‚Äôs root folder and copy in the following:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>import sqlite3  

def retrieve\_quotes():  
  # Create a context manager for the SQLite connection  
  with sqlite3.connect('quotes.db') as conn:  
      # Create a cursor within the context manager  
      cursor = conn.cursor   
      # Execute an SQL query to retrieve all quotes  
      cursor.execute('SELECT \* FROM quotes')                      
      # Fetch all the results from the cursor; fetchall() function returns a list.  
      quotes = cursor.fetchall(  
      # Display the retrieved data  
      for quote in quotes:  
          print(quote)  
if \_\_name\_\_ == "\_\_main\_\_":  
  retrieve\_quotes()
</code></pre>

</div>



<h1>
  
  
  Step 2: Running the Script
</h1>

<p>To run the script and retrieve data from the database, use the following command or run it in your IDE:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>python retrieve\_data.py
</code></pre>

</div>



<p>The script will connect to the database, retrieve the data, and display it in the terminal.</p>

<p>That‚Äôs it for Step 5! You‚Äôve learned how to retrieve data from the SQLite database where you saved your scraped quotes and authors. In the next steps, we‚Äôll dive deeper into data analysis and visualization.</p>

<h1>
  
  
  Step 6: (For Fun) Data Analysis and Visualization
</h1>

<p>In this optional step, you can explore your scraped data further by performing data analysis and visualization. We‚Äôll use Python libraries like Pandas and Matplotlib to accomplish this. This is barely enough data to bother with, but I thought it‚Äôd be nice to show this step to complete the most minimal of MVPs for a complete Scrapy pipeline use case!</p>

<h1>
  
  
  Step 1: Importing Required Libraries
</h1>

<p>First, make sure you have the necessary Python libraries installed. You can install them using pip:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>pip install pandas matplotlib
</code></pre>

</div>



<h1>
  
  
  Step 2: Analyzing Data
</h1>

<p>Now, let‚Äôs perform some basic analysis of the scraped data. We‚Äôll use Pandas to load the data from the SQLite database into a DataFrame and then calculate some statistics. In the project‚Äôs root folder, create a Python script called <a href="http://analysis.py/">data_analysis.py</a> and add the following code. This will print the total number of records using pandas.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>import pandas as pd  
import sqlite3  
\# Connect to the SQLite database  
conn = sqlite3.connect('quotes.db')  
\# Load data into a Pandas DataFrame  
df = pd.read\_sql\_query('SELECT \* FROM quotes', conn)  
\# Calculate the number of quotes  
total\_quotes = len(df)  
\# Display the total number of quotes  
print(f'Total Number of Quotes: {total\_quotes}')
</code></pre>

</div>



<h1>
  
  
  Step 3: Visualizing Data
</h1>

<p>Next, let‚Äôs create a simple bar chart to visualize the distribution of quotes by author. We‚Äôll use Matplotlib for this purpose. Add the import to the top of <a href="http://analysis.py/">data_analysis.py</a> and copy-paste everything from the body of the code below to the end of <a href="http://analysis.py/">data_analysis.py</a>:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>import matplotlib.pyplot as plt  
\# Group quotes by author and count the occurrences  
author\_counts = df\['author'\].value\_counts()  
\# Create a bar chart  
plt.figure(figsize=(12, 6))  
author\_counts.plot(kind='bar')  
plt.title('Quotes by Author')  
plt.xlabel('Author')  
plt.ylabel('Number of Quotes')  
plt.xticks(rotation=45)  
plt.tight\_layout()  
plt.show()
</code></pre>

</div>



<h1>
  
  
  Step 4: Running the Script
</h1>

<p>Run the script using the following command:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>python data\_analysis.py
</code></pre>

</div>



<p>After running the script, you‚Äôll see the total number of quotes displayed in the console, and a bar chart showing the distribution of quotes by author will pop up.</p>

<p>That concludes Step 6, where you have the option to perform data analysis and visualization on your scraped data.</p>

<h1>
  
  
  Recap and Next Steps
</h1>

<p>Congratulations! You‚Äôve completed my tutorial on web scraping and data extraction process using Scrapy. At this point, you will have:</p>

<ol>
<li> Created a virtual environment for your Python project to manage dependencies.</li>
<li> Set up a Scrapy project and defined a web scraping spider.</li>
<li> Extracted quotes and authors from a website using Scrapy.</li>
<li> Created an SQLite database and stored the scraped data.</li>
<li> Implemented a Scrapy pipeline to automate data storage.</li>
<li> Performed data analysis and visualization on the scraped data.</li>
</ol>

<h1>
  
  
  Next Steps
</h1>

<p>Now that you have a solid foundation in web scraping with Scrapy, you can explore more advanced topics and real-world applications. In the coming weeks, I will be writing and linking in tutorials that build off this simple pipeline. They‚Äôll cover such topics as:</p>

<ul>
<li>  Scraping data from multiple websites and combining it.</li>
<li>  Handling different data formats and structures.</li>
<li>  Scheduling web scraping tasks to run at specific intervals.</li>
<li>  Implementing user authentication for scraping behind login pages.</li>
<li>  Scaling up your scraping efforts with distributed systems.</li>
</ul>

<p>Feel free to apply the knowledge and techniques you‚Äôve learned here to gather data for your projects, research, or data analysis tasks. If you make something cool out of a Scrapy pipeline after reading this, please let me know! I‚Äôd love to see it!</p>

<p>Scrape responsibly, and have fun!</p>

 </details> 
 <hr /> 

 #### - [How to animate Fire TV splash screens with React Native & Lottie](https://dev.to/amazonappdev/how-to-animate-fire-tv-splash-screens-with-react-native-lottie-32ca) 
 <details><summary>Article</summary> <blockquote>
<p><em><strong>Author's Note:</strong> In my <a href="https://dev.to/amazonappdev/develop-animated-splash-screens-on-fire-tv-with-lottie-5emp">previous Lottie article</a>, we covered how to create animated custom splash screens on Fire TV using Kotlin for Android and <a href="https://github.com/airbnb/lottie-android">Lottie</a>. For this article, we'll focus on those of you building Android apps using React Native. Since Lottie supports React Native, we'll cover the essentials to get you up and running quickly. Let's dive in!</em></p>
</blockquote>

<p><strong>Quick recap for Lottie</strong><br>
<a href="https://airbnb.io/lottie/#/">Lottie</a> is an open-source animation library created by Airbnb to render complex animations on mobile devices in real time. It's an excellent choice for creating interactive animations for both Android and iOS. Since Fire OS is based on the Android Open source Project <a href="https://source.android.com/">AOSP</a> we can use Lottie to render complex animated splash screens on Fire TV apps with React Native.</p>

<p>Let's now walk through how to create an animated splash screen for a React Native app running on Fire TV!</p>
<h3>
  
  
  <strong>Prerequisite:</strong> Create a React Native project
</h3>

<p>You can use your own existing React Native project or create a new one using the command line:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>npx react-native@latest init SplashScreenApp
</code></pre>

</div>



<blockquote>
<p>üí° <strong>Note:</strong> If you're new to React Native and want to learn how to setup your development environment and command line tools, head over to <a href="https://reactnative.dev/docs/environment-setup">the React Native official docs</a> to get up and running.</p>
</blockquote>

<h3>
  
  
  <strong>Step 1:</strong> Prepare the Lottie animation
</h3>

<p>To integrate Lottie animations into our TV splash screen, we need to first build an animation to match our app's branding and theme. For this example, we'll use the <a href="https://lottiefiles.com/animations/tv-watching-g5Lr55wxgp">TV Watching</a> animation by <a href="https://lottiefiles.com/wovencontent">Alan Murphy</a> available as a sample from <a href="https://lottiefiles.com/">LottieFiles</a>. </p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--zQ-B9c60--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/pvitz7foralsqe9gmbwe.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--zQ-B9c60--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/pvitz7foralsqe9gmbwe.png" alt="Lottie animation from LottieFiles" width="800" height="369"></a></p>

<h3>
  
  
  <strong>Step 2:</strong> Place the Lottie animation into the React Native app project
</h3>

<p>Create a directory <code>assets</code> in your React Native project and download the "<a href="https://lottiefiles.com/animations/tv-watching-g5Lr55wxgp">TV Watching Animation</a>" in Lottie JSON format from the step above. Place the JSON file in the new <code>assets</code> folder and make sure to rename the JSON file <code>splashscreen.json</code>.</p>

<h3>
  
  
  <strong>Step 3:</strong> Include Lottie as a package dependency
</h3>

<p>From the command line, inside the root directory of your React Native app execute the command to add Lottie as a dependency:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>yarn add lottie-react-native
</code></pre>

</div>



<h3>
  
  
  <strong>Step 4:</strong> Define the main components for your splash screen
</h3>

<p>For this sample app, we'll declare all required components inside <code>App.tsx</code>. </p>

<p>The 3 components are:</p>

<ol>
<li>
<code>App</code>, which represents the main app component</li>
<li>
<code>SplashScreen</code> for initiating the splash screen</li>
<li>
<code>MainContent</code> for the view that is shown after the splash screen disappears</li>
</ol>

<p>Let's open the file <code>App.tsx</code> and remove all the content generated by the React Native command line.</p>

<p>Then at the top of the file, add the required imports for the components we need:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight typescript"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useState</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Text</span><span class="p">,</span> <span class="nx">View</span><span class="p">,</span> <span class="nx">StyleSheet</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-native</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">LottieView</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">lottie-react-native</span><span class="dl">'</span><span class="p">;</span>
</code></pre>

</div>



<p>Next up you will declare the 3 components:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight typescript"><code><span class="kd">const</span> <span class="nx">SplashScreen</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">onAnimationFinish</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">(</span>

<span class="p">);</span>

<span class="kd">const</span> <span class="nx">MainContent</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">(</span>

<span class="p">);</span>

<span class="kd">const</span> <span class="nx">App</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>

<span class="p">};</span>
</code></pre>

</div>



<p>and in addition set the styles we will apply for each of them:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight typescript"><code>
<span class="kd">const</span> <span class="nx">styles</span> <span class="o">=</span> <span class="nx">StyleSheet</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
  <span class="na">container</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">flex</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">justifyContent</span><span class="p">:</span> <span class="dl">'</span><span class="s1">center</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">alignItems</span><span class="p">:</span> <span class="dl">'</span><span class="s1">center</span><span class="dl">'</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">splashContainer</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">width</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
    <span class="na">height</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">splash</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">flex</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">mainContainer</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">marginTop</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">text</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">fontWeight</span><span class="p">:</span> <span class="dl">'</span><span class="s1">bold</span><span class="dl">'</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">});</span>
</code></pre>

</div>



<p>Remember to export the <code>App</code> component at the end of the file:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight typescript"><code><span class="k">export</span> <span class="k">default</span> <span class="nx">App</span><span class="p">;</span>
</code></pre>

</div>



<h3>
  
  
  <strong>Step 5:</strong> Implement the SplashScreen component
</h3>

<p>Implement the SplashScreen component by declaring its components. For this we will have a View containing a <code>LottieView</code> with the previous json animation file assigned to the <code>source</code> property of the <code>LottieView</code>.</p>

<p>We also define the <code>autoPlay</code> property in the <code>LottieView</code> in order to automatically start the animation and set the <code>loop</code> property as false so that we only show the animation one time:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight typescript"><code><span class="kd">const</span> <span class="nx">SplashScreen</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">onAnimationFinish</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">(</span>
<span class="o">&lt;</span><span class="nx">View</span> <span class="nx">style</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">splashContainer</span><span class="p">}</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">LottieView</span>
      <span class="nx">style</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">splash</span><span class="p">}</span>
      <span class="nx">source</span><span class="o">=</span><span class="p">{</span><span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">./assets/splashscreen.json</span><span class="dl">'</span><span class="p">)}</span>
      <span class="nx">autoPlay</span>
      <span class="nx">loop</span><span class="o">=</span><span class="p">{</span><span class="kc">false</span><span class="p">}</span>
      <span class="nx">onAnimationFinish</span><span class="o">=</span><span class="p">{</span><span class="nx">onAnimationFinish</span><span class="p">}</span>
    <span class="sr">/</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="sr">/View</span><span class="err">&gt;
</span>  <span class="p">);</span>
</code></pre>

</div>



<h3>
  
  
  <strong>Step 6:</strong> Implement the MainContent component
</h3>

<p>To start, this step will just show Text and then you choose when to display your app's home screen after the Splash Screen animation ends:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight typescript"><code><span class="kd">const</span> <span class="nx">MainContent</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">(</span>
  <span class="o">&lt;</span><span class="nx">View</span> <span class="nx">style</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">mainContainer</span><span class="p">}</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">Text</span> <span class="nx">style</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">text</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">Your</span> <span class="nx">Awesome</span> <span class="nx">App</span> <span class="nx">Home</span> <span class="nx">Screen</span><span class="o">!&lt;</span><span class="sr">/Text</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="sr">/View</span><span class="err">&gt;
</span><span class="p">);</span>
</code></pre>

</div>



<h3>
  
  
  <strong>Step 7:</strong> Implement the App component
</h3>

<p>The App component handles the logic to display and hide the Splash screen. </p>

<p>Declare a <code>loaded</code> state and set it to false. This allows the the animation to load prior to the Splash Screen being rendered on screen. Once the animation resource is ready, a callback will flip the <code>loaded</code> state to true to then make the <code>MainContent</code> component visible on the Fire TV:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight typescript"><code><span class="kd">const</span> <span class="nx">App</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">loaded</span><span class="p">,</span> <span class="nx">setLoaded</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>

  <span class="kd">const</span> <span class="nx">handleAnimationFinish</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">setLoaded</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
  <span class="p">};</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">View</span> <span class="nx">style</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">container</span><span class="p">}</span><span class="o">&gt;</span>
      <span class="p">{</span><span class="nx">loaded</span> <span class="p">?</span> <span class="o">&lt;</span><span class="nx">MainContent</span> <span class="o">/&gt;</span> <span class="p">:</span> <span class="o">&lt;</span><span class="nx">SplashScreen</span> <span class="nx">onAnimationFinish</span><span class="o">=</span><span class="p">{</span><span class="nx">handleAnimationFinish</span><span class="p">}</span> <span class="sr">/&gt;</span><span class="err">}
</span>    <span class="o">&lt;</span><span class="sr">/View</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">};</span>
</code></pre>

</div>



<h2>
  
  
  <strong>Wrap Up:</strong> Load up and test our animated splash screen!
</h2>

<p>Now we can test either by using <a href="https://developer.amazon.com/docs/fire-tv/connecting-adb-to-device.html">Fire TV via adb</a> or <a href="https://developer.android.com/training/tv/start/start#run-on-a-virtual-device">starting an Android TV emulator</a>. </p>

<p>Either approach will let us see the sample in action by running this command from the project directory:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>npm start
</code></pre>

</div>



<p>Remember to press <code>a</code> to run the Android version.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--JkM_SjJq--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/tyxq87fbnnwiylijvikd.gif" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--JkM_SjJq--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/tyxq87fbnnwiylijvikd.gif" alt="Animated Splash screen" width="600" height="714"></a></p>

<p>Using <a href="https://github.com/lottie-react-native/lottie-react-native">Lottie for React Native</a> is an easy way to enrich your app with beautiful animations and make your user happy.</p>

<p>Thanks for reading this guide and make sure to check out the sample project source code <a href="https://github.com/giolaq/splash-screen-tv-app-react-native">on Github</a>.</p>

<p><strong>Stay updated</strong> </p>

<p>For the latest Amazon Appstore developer news, product releases, tutorials, and more:</p>

<p>üì£ Follow <a href="https://twitter.com/AmazonAppDev">@AmazonAppDev</a> and <a href="https://twitter.com/i/lists/1580293569897984000/members">our team</a> on Twitter</p>

<p>üì∫ Subscribe to our <a href="https://www.youtube.com/amazonappstoredevelopers">Youtube channel</a></p>

<p>üìß Sign up for the <a href="https://m.amazonappservices.com/devto-newsletter-subscribe">Developer Newsletter</a></p>

<h3>
  
  
  About the author
</h3>

<p>Giovanni ("Gio") Laquidara is a Senior Dev Advocate at Amazon, where he works on supporting developers around the world using the Amazon Appstore across many devices. </p>

<p>Previously, Gio worked as a software engineer building mobile apps, real-time defence systems, and VR/AR experiences. For fun, Gio enjoys low level programming, IoT hacking, and command line apps ‚å®Ô∏è‚ú®.</p>

<p><em>You can connect with Gio on <a href="https://twitter.com/giolaq">Twitter</a>, <a href="https://www.linkedin.com/in/glaquidara/">Linkedin</a>, and <a href="https://giolaq.dev">giolaq.dev</a>.</em></p>

 </details> 
 <hr /> 

 #### - [Convert a Hygraph Next.js project to Next.js app directory](https://dev.to/brob/convert-a-hygraph-nextjs-project-to-nextjs-app-directory-beta-4m13) 
 <details><summary>Article</summary> <p>In late 2022, the Next.js team launched their next stable version: Next.js 13. While this update came with a lot of improved functionality, one new feature is set to redefine the way you build with Next: the app directory beta.</p>

<p>The app beta is not used default. It needs to be enabled and can then be incrementally adopted. In this article, we're going to take a look at the new app structure and convert an existing Hygraph project to this new structure. We'll take this step by step and see how incremental adoption really works.</p>

<h2>
  
  
  Required Knowledge
</h2>

<ul>
<li>A basic understanding of <a href="https://nextjs.org/">Next.js</a>
</li>
<li>Basic knowledge of <a href="https://hygraph.com/learn/graphql">GraphQL</a>
</li>
<li>Basic knowledge of <a href="https://hygraph.com">Hygraph</a>
</li>
</ul>

<h2>
  
  
  Why the app structure?
</h2>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--m6M7jNBs--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://media.graphassets.com/d7bqvqN5Rq6PgNQO955j" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--m6M7jNBs--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://media.graphassets.com/d7bqvqN5Rq6PgNQO955j" alt="The new file structure allows for much more flexibility including the adding of specific templates for each route such as not-found, loading, head, and more" width="800" height="450"></a></p>

<p>The new app directory structure isn‚Äôt just a reorganization of your project (though it is, and that reorganization feels powerful). This new methodology utilizes <a href="https://beta.nextjs.org/docs/rendering/server-and-client-components#why-server-components">React Server Components</a> to bring many new features and mental models. With Server components, a developer can do their business logic in a React component that doesn‚Äôt need to be sent to the client. This allows for a lot less JavaScript to be sent to the browser. If you have frontend needs, you can then use client components that get sent individually to the browser. This should reduce your bundle size down to a more manageable state. Just the code you need for interactivity.</p>

<p>The overall data fetching model has shifted, as well. Next has extended the <a href="https://beta.nextjs.org/docs/api-reference/fetch">native fetch() method</a> from Node and the browser APIs and has added additional caching and deduplication functionality. This means you can create requests for data in various files, but the request will only fire to your API once. Fetching your blog posts to create a list on your homepage and to create the blog page list? Now that‚Äôs 1 API request, despite writing the code in multiple places. This gives a lot of developer convenience while creating better build and serve times.</p>

<p>There are even more new and improved features, but to use them, we need to be able to upgrade our project to use this new structure. It‚Äôs not as simple as moving your page files into the app directory, so let‚Äôs dig in and get things updated.</p>

<h2>
  
  
  Setting up a Next.js 13 project to work with the app directory
</h2>

<p>To start, we need a Next.js project. While this process is possible with any Next project using data fetching, let‚Äôs start from our simple Next example from the <a href="https://github.com/hygraph/hygraph-examples/tree/master/with-nextjs">hygraph-examples GitHub repository</a>. Run the following commands:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>npx degit hygraph/hygraph-examples/with-nextjs with-nextjs
<span class="nb">cd </span>with-nextjs
</code></pre>

</div>



<p>Before we install, we‚Äôll need to update some dependencies in the package.json file. Let‚Äôs upgrade Next to <code>^13.0.0</code> and remove the <code>react</code> and <code>react-doc</code> dependencies.</p>

<p>Your package.json should now look like this:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hygraph-with-nextjs"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"private"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"license"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MIT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"dev"</span><span class="p">:</span><span class="w"> </span><span class="s2">"next"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"build"</span><span class="p">:</span><span class="w"> </span><span class="s2">"next build"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"next start"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"dependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"graphql-request"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^1.8.2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^13.0.0"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

</div>



<p>Now we can start the development server by running <code>npm run dev</code>. Immediately on loading the local version, we‚Äôre presented with the first update. Since this was previously not running Next 13, the Link component is structured wrong. In Next 13, we no longer need to have an anchor tag inside the Link component. This is a great update, but we need to change these references. The only location the Link component is used is the homepage in <code>/src/pages/index.js</code>. Open that file, and remove the <code>&lt;a&gt;&lt;/a&gt;</code> tags to get the site to run<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="c1">// Old</span>
    <span class="o">&lt;</span><span class="nx">Link</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">slug</span><span class="p">}</span> <span class="nx">href</span><span class="o">=</span><span class="p">{</span><span class="s2">`/products/</span><span class="p">${</span><span class="nx">slug</span><span class="p">}</span><span class="s2">`</span><span class="p">}</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">a</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">name</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/a</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/Link</span><span class="err">&gt;
</span>
<span class="c1">// New</span>
    <span class="o">&lt;</span><span class="nx">Link</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">slug</span><span class="p">}</span> <span class="nx">href</span><span class="o">=</span><span class="p">{</span><span class="s2">`/products/</span><span class="p">${</span><span class="nx">slug</span><span class="p">}</span><span class="s2">`</span><span class="p">}</span><span class="o">&gt;</span>
       <span class="p">{</span><span class="nx">name</span><span class="p">}</span>
    <span class="o">&lt;</span><span class="sr">/Link</span><span class="err">&gt;
</span></code></pre>

</div>



<p>Now that the site runs, let‚Äôs update from the Pages directory to the new app directory.</p>

<h2>
  
  
  Converting from /pages to /app
</h2>

<p>Before we can convert to the app directory, we need to let Next know that we‚Äôll be using this experimental feature. To do that, we need a configuration file. In the root of our project, let‚Äôs create a <code>next.config.js</code> file. Inside that file, add the following basic configuration.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="cm">/** @type {import('next').NextConfig} */</span>
<span class="kd">const</span> <span class="nx">nextConfig</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">experimental</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">appDir</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">};</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">nextConfig</span><span class="p">;</span>
</code></pre>

</div>



<p>From there, we can create our app directory. Inside the src directory, add an <code>app</code> directory. We‚Äôll be moving each of our routes to this directory. The nice thing is that each of our older routes will continue to work as we make these changes, since both directories can work at the same time.</p>

<h3>
  
  
  Creating the root layout component
</h3>

<p>One of the first big changes to the overall structure is the need of a ‚Äúroot layout.‚Äù This will be the scaffolding of Markup for all pages. This can start very simply, but have any global information that each route will need. The <code>RootLayout</code> function accepts a children object. That children object will contain the Server Components that we‚Äôll add via each page we create.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">RootLayout</span><span class="p">({</span><span class="nx">children</span><span class="p">})</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">html</span> <span class="nx">lang</span><span class="o">=</span><span class="dl">"</span><span class="s2">en</span><span class="dl">"</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">body</span><span class="o">&gt;</span>
            <span class="p">{</span> <span class="nx">children</span> <span class="p">}</span>
        <span class="o">&lt;</span><span class="sr">/body</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/html</span><span class="err">&gt;
</span>    <span class="p">)</span>
<span class="p">}</span>
</code></pre>

</div>



<p>With this layout, we can now add our first page.</p>

<h3>
  
  
  Adding the homepage
</h3>

<p>Instead of the <code>index.js</code> convention of the <code>/pages</code> directory, each page in the app directory will be named <code>page.js</code>. In the root of the app directory, create a new <code>page.js</code> file. This will be our homepage.</p>

<p>Once you create this page, Next will thrown an error in the console. There is now a conflicting route: <code>/src/pages/index.js</code> is the same route as <code>/src/app/page.jsx</code>. For now, rename <code>/src/pages/index.js</code> to <code>oldIndex.js</code>. We‚Äôll delete this file later, but this file is the blueprint for our new file.</p>

<p>Once we rename the file, we get a new error. The <code>page.jsx</code> file is not exporting a React component. In fact, it‚Äôs exporting anything, since it‚Äôs blank. Let‚Äôs fix that and export a simple React component with an h1 of Products.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="k">export</span> <span class="k">default</span> <span class="k">async</span> <span class="kd">function</span> <span class="nx">Page</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="o">&lt;&gt;</span>
            <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">Products</span><span class="o">&lt;</span><span class="sr">/h1</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/</span><span class="err">&gt;
</span>    <span class="p">)</span>
<span class="p">}</span>
</code></pre>

</div>



<p>Now the homepage should have the H1 instead of the product list from the old homepage. Let‚Äôs get the list of products back.</p>

<p>In the old index file, we export a function called <code>getStaticProps</code> to get and pass the data to our page component. In the new structure, we don‚Äôt need to export anything or name things in any specific ways. Instead, we can create a regular async function to fetch our data.</p>

<p>Before our Server Component in the new <code>page.jsx</code> file, create a new async function named <code>getProducts</code>. This run a fetch request to the Hygraph endpoint for the project and return the products array. We can then run that function in our Server Component to loop through the data and display a link to each page.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="k">import</span> <span class="nx">Link</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">next/link</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">getProducts</span> <span class="o">=</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://api-eu-central-1.hygraph.com/v2/ck8sn5tnf01gc01z89dbc7s0o/master</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
        <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
            <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">Accept</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
            <span class="na">query</span><span class="p">:</span> <span class="s2">`{
                products {
                  slug
                  name
                  id
                }
              }`</span>
        <span class="p">})</span>

    <span class="p">})</span>

    <span class="kd">const</span> <span class="p">{</span><span class="nx">data</span><span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">()</span>

    <span class="k">return</span> <span class="nx">data</span><span class="p">.</span><span class="nx">products</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="k">async</span> <span class="kd">function</span> <span class="nx">Page</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">products</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">getProducts</span><span class="p">()</span>

    <span class="k">return</span> <span class="p">(</span>
        <span class="o">&lt;&gt;</span>
            <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">Products</span><span class="o">&lt;</span><span class="sr">/h1</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="nx">ul</span><span class="o">&gt;</span>
                <span class="p">{</span><span class="nx">products</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">product</span> <span class="o">=&gt;</span> <span class="p">(</span>
                    <span class="o">&lt;</span><span class="nx">li</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">product</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="nx">Link</span> <span class="nx">href</span><span class="o">=</span><span class="p">{</span><span class="s2">`/products/</span><span class="p">${</span><span class="nx">product</span><span class="p">.</span><span class="nx">slug</span><span class="p">}</span><span class="s2">`</span><span class="p">}</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">product</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/Link</span><span class="err">&gt;
</span>                    <span class="o">&lt;</span><span class="sr">/li</span><span class="err">&gt;
</span>                <span class="p">))}</span>
            <span class="o">&lt;</span><span class="sr">/ul</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/</span><span class="err">&gt;
</span>    <span class="p">)</span>
<span class="p">}</span>
</code></pre>

</div>



<p>A few things have changed between our old version and new. </p>

<ul>
<li>Since we‚Äôre not using <code>getStaticProps</code>, we no longer need to structure our return in a specific way. Instead, we just return back the array of products</li>
<li>Using <code>fetch</code> instead of <code>GraphQLRequest</code>. By using fetch, we allow Next to cache the information and if we execute an identical fetch later, it won‚Äôt make a separate call, but instead use this data</li>
</ul>

<p>Once you save this in, we have a functioning homepage. These links even take us to the pages associated with our old dynamic routes ‚Äî since <code>/app</code> and <code>/pages</code> can work incrementally. That could be a fine stopping point, but let‚Äôs convert our dynamic route over, as well.</p>

<h3>
  
  
  Converting the dynamic products route
</h3>

<p>Just like the homepage, we‚Äôll start by setting up our structure. Instead of the dynamic route brackets happening on the file, hey happen on the directory. So the <code>/pages/products[slug].js</code> will change to be <code>/app/products/[slug]/page.jsx</code>. This allows for more flexibility and the ability to add custom, co-located features such as error pages, loading pages, and custom layouts.</p>

<p>Create the new file and add a simple component like we did for the homepage.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="k">export</span> <span class="k">default</span> <span class="k">async</span> <span class="kd">function</span> <span class="nx">Page</span><span class="p">()</span> <span class="p">{</span>

    <span class="k">return</span> <span class="p">(</span>
        <span class="o">&lt;&gt;</span>
            <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">This</span> <span class="nx">is</span> <span class="nx">a</span> <span class="nx">product</span><span class="o">&lt;</span><span class="sr">/h1</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/</span><span class="err">&gt;
</span>    <span class="p">)</span>
<span class="p">}</span>
</code></pre>

</div>



<p>This time, the application won‚Äôt immediately error, since the static pages aren‚Äôt being rebuilt, but if you restart Next, it will throw the same error as before about conflicting files. Delete or rename the file and we‚Äôll move forward.</p>

<p>The overall structure of this file is significantly different. Just like the homepage, we no longer need the getStaticProps function, but we also don‚Äôt need the getStaticPaths either. These are all files that render on the server, so we can move all that information into a single async function that can happen at request time.</p>

<p>The new Server Component gives us a params object that we can use to get the slug for the current route. We can pass that into a new getProduct() function and use that as a variable in our query to Hygraph. This will fetch the data for that specific product. We can then use that in the Markup generated by our component to display the title, description, and price.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="k">async</span> <span class="kd">function</span> <span class="nx">getProduct</span><span class="p">(</span><span class="nx">params</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://api-eu-central-1.hygraph.com/v2/ck8sn5tnf01gc01z89dbc7s0o/master</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
        <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
            <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">Accept</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
            <span class="na">query</span><span class="p">:</span> <span class="s2">`{
                product(where: {slug: "</span><span class="p">${</span><span class="nx">params</span><span class="p">.</span><span class="nx">slug</span><span class="p">}</span><span class="s2">"}) {
                    name
                    description
                    price
                }
            }`</span><span class="p">,</span>
            <span class="na">variables</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">slug</span><span class="p">:</span> <span class="nx">params</span><span class="p">.</span><span class="nx">slug</span>
            <span class="p">}</span>
        <span class="p">})</span>
    <span class="p">})</span>
    <span class="kd">const</span> <span class="p">{</span><span class="nx">data</span><span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">()</span>
    <span class="k">return</span> <span class="nx">data</span><span class="p">.</span><span class="nx">product</span>
<span class="p">}</span>


<span class="k">export</span> <span class="k">default</span> <span class="k">async</span> <span class="kd">function</span> <span class="nx">Page</span><span class="p">({</span><span class="nx">params</span><span class="p">})</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">product</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">getProduct</span><span class="p">(</span><span class="nx">params</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">(</span>
        <span class="o">&lt;&gt;</span>
            <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">product</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/h1</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">product</span><span class="p">.</span><span class="nx">description</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">product</span><span class="p">.</span><span class="nx">price</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/</span><span class="err">&gt;
</span>    <span class="p">)</span>
<span class="p">}</span>
</code></pre>

</div>



<p>We now have all the pages working together. Let‚Äôs take this one step further and add a custom 404 page for any products that aren‚Äôt found.</p>

<h3>
  
  
  Setting up a custom 404 page
</h3>

<p>Because of the new app structure, we can colocate all of our relative files. In this case, if we want a custom 404 page, we can add a <code>not-found.jsx</code> template in the <code>/products/[slug]</code> directory.</p>

<p>The file will export a Server (or client) component, and for now, we‚Äôll have a very simple message. In this case, since we‚Äôre looking for a product, let‚Äôs be specific and say ‚ÄúProduct not found‚Äù instead of a simple ‚ÄúPage not found.‚Äù<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">NotFound</span><span class="p">()</span> <span class="p">{</span>

    <span class="k">return</span> <span class="p">(</span>
        <span class="o">&lt;&gt;</span>
            <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="mi">404</span><span class="o">&lt;</span><span class="sr">/h1</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Product</span> <span class="nx">not</span> <span class="nx">found</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/</span><span class="err">&gt;
</span>    <span class="p">)</span>
<span class="p">}</span>
</code></pre>

</div>



<p>Now, navigate to a route that doesn‚Äôt match any slug in Hygraph: try <a href="http://localhost:3000/products/sdlfkjl/">http://localhost:3000/products/sdlfkjl/</a></p>

<p>Instead of getting a 404 page, we receive an unhandled error. That‚Äôs because we need to tell Next when we know it‚Äôs not found. In this case, if our query to Hygraph returns no results, we need to throw a 404.</p>

<p>After calling the getProduct() function, we can check if product is defined and if not, run the notFound() function from <code>next/navigation</code>. This will do a few things for us. It will redirect the browser to the NotFound component and automatically add a "noindex" meta tag to these routes. This is good SEO practice and will keep your site‚Äôs 404 pages from being indexed by search engines.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="k">export</span> <span class="k">default</span> <span class="k">async</span> <span class="kd">function</span> <span class="nx">Page</span><span class="p">({</span><span class="nx">params</span><span class="p">})</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">product</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">getProduct</span><span class="p">(</span><span class="nx">params</span><span class="p">)</span>

    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">product</span><span class="p">)</span> <span class="nx">notFound</span><span class="p">()</span>

    <span class="k">return</span> <span class="p">(</span>
        <span class="o">&lt;&gt;</span>
            <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">product</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/h1</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">product</span><span class="p">.</span><span class="nx">description</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">product</span><span class="p">.</span><span class="nx">price</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/</span><span class="err">&gt;
</span>    <span class="p">)</span>
<span class="p">}</span>
</code></pre>

</div>



<p>Now, we have a fully-functioning 404 page! </p>

<p>From here, you can delete the /pages directory and move to working on your app. You‚Äôll still use the pages directory for your API routes, as well as any static routes you want to use, but most things can be used to this new, more-powerful version of Next.</p>

<h2>
  
  
  Next steps
</h2>

<p>With that, we have fully converted our simple Hygraph Next.js example from /pages to /app. At this point, I‚Äôd suggest taking look at all the different file types you can create in the colocated directories.</p>

<ul>
<li>Add a head.jsx file to specify meta data such as title, description, and more for each product page</li>
<li>Add a loading.jsx file for loading page for longer queries.</li>
<li>Add an error.jsx file to handle other error types.</li>
</ul>

 </details> 
 <hr /> 

 #### - [Docker Node.js and MongoDB example](https://dev.to/tienbku/docker-nodejs-and-mongodb-example-doc) 
 <details><summary>Article</summary> <p><a href="https://www.docker.com/">Docker</a> provides lightweight containers to run services in isolation from our infrastructure so we can deliver software quickly. In this tutorial, I will show you how to dockerize Nodejs Express and MongoDB example using <a href="https://docs.docker.com/compose/">Docker Compose</a>.</p>

<p>Related Posts:</p>

<ul>
    <li><a href="https://bezkoder.com/node-express-mongodb-crud-rest-api/">Node.js Express Rest API with MongoDb</a></li>
    <li><a href="https://bezkoder.com/node-js-mongodb-pagination/">Node.js Express Pagination with Mongoose and MongoDB</a></li>
    <li><a href="https://bezkoder.com/node-js-mongodb-auth-jwt/">Node.js + MongoDB: User Authentication &amp; Authorization</a></li>
    <li><a href="https://bezkoder.com/node-js-upload-store-images-mongodb/">Upload/store images in MongoDB using Node.js, Express &amp; Multer</a></li>
    <li><a href="https://bezkoder.com/mongoose-one-to-one-relationship-example/">MongoDB One-to-One relationship tutorial with Mongoose example</a></li>
    <li><a href="https://bezkoder.com/mongoose-one-to-many-relationship/">MongoDB One-to-Many Relationship tutorial with Mongoose examples</a></li>
    <li><a href="https://bezkoder.com/mongodb-many-to-many-mongoose/">MongoDB Many-to-Many Relationship with Mongoose examples</a></li>
</ul>

<p>Dockerize fullstack:</p>

<ul>
<li><a href="https://www.bezkoder.com/docker-mern/">Docker Compose: React + Node.js Express + MongoDB</a></li>
</ul>

<h2>Node.js Express and MongoDB with Docker Overview</h2>

<p>Assume that we have a Nodejs Application working with MongoDB database.<br>
The problem is to containerize a system that requires more than one Docker container:</p>

<ul>
    <li>Node.js Express for API</li>
    <li>MongoDB for database</li>
</ul>

<p>Docker Compose helps us setup the system more easily and efficiently than with only Docker. We're gonna following these steps:</p>

<ul>
    <li>Create Nodejs App working with MongoDB database.</li>
    <li>Create Dockerfile for Nodejs App.</li>
    <li>Write Docker Compose configurations in YAML file.</li>
    <li>Set Environment variables for Docker Compose</li>
    <li>Run the system.</li>
</ul>

<p>Directory Structure:</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--nbKlN0kA--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://www.bezkoder.com/wp-content/uploads/2021/08/docker-compose-nodejs-mongodb-example-structure.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--nbKlN0kA--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://www.bezkoder.com/wp-content/uploads/2021/08/docker-compose-nodejs-mongodb-example-structure.png" alt="docker-compose-nodejs-mongodb-example-structure" width="230" height="180"></a></p>

<h2>Create Nodejs App</h2>

<p>You can read and get Github source code from one of following tutorials:</p>

<ul>
    <li><a href="https://bezkoder.com/node-express-mongodb-crud-rest-api/">Node.js Express Rest API with MongoDb</a></li>
    <li><a href="https://bezkoder.com/node-js-mongodb-pagination/">Node.js Express Pagination with Mongoose and MongoDB</a></li>
    <li><a href="https://bezkoder.com/node-js-mongodb-auth-jwt/">Node.js + MongoDB: User Authentication &amp; Authorization</a></li>
    <li><a href="https://bezkoder.com/node-js-upload-store-images-mongodb/">Upload/store images in MongoDB using Node.js, Express &amp; Multer</a></li>
</ul>

<p>Using the code base above, we put the Nodejs project in <strong>bezkoder-app</strong> folder and modify some files to work with environment variables.</p>

<p>Firstly, let's add <code>dotenv</code> module into <em>package.json</em>.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="err">...</span><span class="w">
  </span><span class="nl">"dependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"dotenv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^10.0.0"</span><span class="p">,</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

</div>



<p>Next we import <code>dotenv</code> in <em>server.js</em> and use <code>process.env</code> for setting port.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">dotenv</span><span class="dl">"</span><span class="p">).</span><span class="nx">config</span><span class="p">();</span>
<span class="p">..</span>
<span class="c1">// set port, listen for requests</span>
<span class="kd">const</span> <span class="nx">PORT</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">NODE_DOCKER_PORT</span> <span class="o">||</span> <span class="mi">8080</span><span class="p">;</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="nx">PORT</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`Server is running on port </span><span class="p">${</span><span class="nx">PORT</span><span class="p">}</span><span class="s2">.`</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

</div>



<p>Then we change modify database configuration and initialization.</p>

<p><strong>app</strong>/<strong>config</strong>/<em>db.config.js</em><br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="kd">const</span> <span class="p">{</span>
  <span class="nx">DB_USER</span><span class="p">,</span>
  <span class="nx">DB_PASSWORD</span><span class="p">,</span>
  <span class="nx">DB_HOST</span><span class="p">,</span>
  <span class="nx">DB_PORT</span><span class="p">,</span>
  <span class="nx">DB_NAME</span><span class="p">,</span>
<span class="p">}</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">;</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">url</span><span class="p">:</span> <span class="s2">`mongodb://</span><span class="p">${</span><span class="nx">DB_USER</span><span class="p">}</span><span class="s2">:</span><span class="p">${</span><span class="nx">DB_PASSWORD</span><span class="p">}</span><span class="s2">@</span><span class="p">${</span><span class="nx">DB_HOST</span><span class="p">}</span><span class="s2">:</span><span class="p">${</span><span class="nx">DB_PORT</span><span class="p">}</span><span class="s2">/</span><span class="p">${</span><span class="nx">DB_NAME</span><span class="p">}</span><span class="s2">?authSource=admin`</span>
<span class="p">};</span>
</code></pre>

</div>



<p>We also need to make a <em>.env</em> sample file that shows all necessary arguments.</p>

<p><strong>bezkoder-app</strong>/<em>.env.sample</em><br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight properties"><code><span class="py">DB_HOST</span><span class="p">=</span><span class="s">localhost</span>
<span class="py">DB_USER</span><span class="p">=</span><span class="s">root</span>
<span class="py">DB_PASSWORD</span><span class="p">=</span><span class="s">123456</span>
<span class="py">DB_NAME</span><span class="p">=</span><span class="s">bezkoder_db</span>
<span class="py">DB_PORT</span><span class="p">=</span><span class="s">27017</span>

<span class="py">NODE_DOCKER_PORT</span><span class="p">=</span><span class="s">8080</span>
</code></pre>

</div>



<h2>Create Dockerfile for Nodejs App</h2>

<p>Dockerfile defines a list of commands that Docker uses for setting up the Node.js application environment. So we put the file in <strong>bezkoder-app</strong> folder.</p>

<p>Because we will use Docker Compose, we won't define all the configuration commands in this Dockerfile.</p>

<p><strong>bezkoder-app</strong>/<em>Dockerfile</em><br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight properties"><code><span class="err">FROM</span> <span class="py">node</span><span class="p">:</span><span class="s">14</span>

<span class="err">WORKDIR</span> <span class="err">/bezkoder-app</span>
<span class="err">COPY</span> <span class="err">package.json</span> <span class="err">.</span>
<span class="err">RUN</span> <span class="err">npm</span> <span class="err">install</span>
<span class="err">COPY</span> <span class="err">.</span> <span class="err">.</span>
<span class="err">CMD</span> <span class="err">npm</span> <span class="err">start</span>
</code></pre>

</div>



<p>Let me explain some points:</p>

<ul>
    <li>
<code>FROM</code>: install the image of the Node.js version.</li>
    <li>
<code>WORKDIR</code>: path of the working directory.</li>
    <li>
<code>COPY</code>: copy <em>package.json</em> file to the container, then the second one copies all the files inside the project directory.</li>
    <li>
<code>RUN</code>: execute a command-line inside the container: <code>npm install</code> to install the dependencies in <em>package.json</em>.</li>
    <li>
<code>CMD</code>: run script <code>npm start</code> after the image is built.</li>
</ul>

<h2>Write Docker Compose configurations</h2>

<p>On the root of the project directory, we're gonna create the <em>docker-compose.yml</em> file. Follow <a href="https://docs.docker.com/compose/compose-file/compose-file-v3/">version 3</a> syntax defined by Docker:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight properties"><code><span class="py">version</span><span class="p">:</span> <span class="s">'3.8'</span>

<span class="py">services</span><span class="p">:</span> 
    <span class="s">mongodb:</span>
    <span class="py">app</span><span class="p">:</span>

<span class="py">volumes</span><span class="p">:</span>
</code></pre>

</div>



<ul>
    <li>
<code>version</code>: Docker Compose file format version will be used.</li>
    <li>
<code>services</code>: individual services in isolated containers. Our application has two services: <code>app</code> (Nodejs) and <code>mongodb</code> (MongoDB database).</li>
    <li>
<code><a href="https://docs.docker.com/storage/volumes/">volumes</a></code>: named volumes that keeps our data alive after restart.</li>
</ul>

<p>Let's implement the details.</p>

<p><em>docker-compose.yml</em><br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight properties"><code><span class="py">version</span><span class="p">:</span> <span class="s">"3.8"</span>

<span class="py">services</span><span class="p">:</span>
  <span class="py">mongodb</span><span class="p">:</span>
    <span class="py">image</span><span class="p">:</span> <span class="s">mongo:5.0.2</span>
    <span class="py">restart</span><span class="p">:</span> <span class="s">unless-stopped</span>
    <span class="py">env_file</span><span class="p">:</span> <span class="s">./.env</span>
    <span class="py">environment</span><span class="p">:</span>
      <span class="err">-</span> <span class="py">MONGO_INITDB_ROOT_USERNAME</span><span class="p">=</span><span class="s">$MONGODB_USER</span>
      <span class="err">-</span> <span class="py">MONGO_INITDB_ROOT_PASSWORD</span><span class="p">=</span><span class="s">$MONGODB_PASSWORD</span>
    <span class="py">ports</span><span class="p">:</span>
      <span class="err">-</span> <span class="err">$</span><span class="py">MONGODB_LOCAL_PORT</span><span class="p">:</span><span class="s">$MONGODB_DOCKER_PORT</span>
    <span class="py">volumes</span><span class="p">:</span>
      <span class="err">-</span> <span class="py">db</span><span class="p">:</span><span class="s">/data/db</span>
  <span class="py">app</span><span class="p">:</span>
    <span class="py">depends_on</span><span class="p">:</span>
      <span class="err">-</span> <span class="err">mongodb</span>
    <span class="py">build</span><span class="p">:</span> <span class="s">./bezkoder-app</span>
    <span class="py">restart</span><span class="p">:</span> <span class="s">unless-stopped</span>
    <span class="py">env_file</span><span class="p">:</span> <span class="s">./.env</span>
    <span class="py">ports</span><span class="p">:</span>
      <span class="err">-</span> <span class="err">$</span><span class="py">NODE_LOCAL_PORT</span><span class="p">:</span><span class="s">$NODE_DOCKER_PORT</span>
    <span class="py">environment</span><span class="p">:</span>
      <span class="err">-</span> <span class="py">DB_HOST</span><span class="p">=</span><span class="s">mongodb</span>
      <span class="err">-</span> <span class="py">DB_USER</span><span class="p">=</span><span class="s">$MONGODB_USER</span>
      <span class="err">-</span> <span class="py">DB_PASSWORD</span><span class="p">=</span><span class="s">$MONGODB_PASSWORD</span>
      <span class="err">-</span> <span class="py">DB_NAME</span><span class="p">=</span><span class="s">$MONGODB_DATABASE</span>
      <span class="err">-</span> <span class="py">DB_PORT</span><span class="p">=</span><span class="s">$MONGODB_DOCKER_PORT</span>
    <span class="py">stdin_open</span><span class="p">:</span> <span class="s">true</span>
    <span class="py">tty</span><span class="p">:</span> <span class="s">true</span>

<span class="py">volumes</span><span class="p">:</span>
  <span class="py">db</span><span class="p">:</span>
</code></pre>

</div>



<ul>
<li>
<p><strong>mongodb</strong>:</p>

<ul>
<li>
<code>image</code>: official Docker image</li>
<li>
<code>restart</code>: configure the <a href="https://docs.docker.com/config/containers/start-containers-automatically/#use-a-restart-policy">restart policy</a>
</li>
<li>
<code>env_file</code>: specify our <em>.env</em> path that we will create later</li>
<li>
<code>environment</code>: provide setting using environment variables</li>
<li>
<code>ports</code>: specify ports will be used</li>
<li>
<code>volumes</code>: map volume folders</li>
</ul>


</li>
<li>

<p><strong>app</strong>:</p>

<ul>
<li>
<code><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#depends_on">depends_on</a></code>: dependency order, <strong>mongodb</strong> is started before <strong>app</strong>
</li>
<li>
<code>build</code>: configuration options that are applied at build time that we defined in the <em>Dockerfile</em> with relative path</li>
<li>
<code>environment</code>: environmental variables that Node application uses</li>
<li>
<code>stdin_open</code> and <code>tty</code>: keep open the terminal after building container</li>
</ul>


</li>
</ul>

<p>You should note that the host port (<code>LOCAL_PORT</code>) and the container port (<code>DOCKER_PORT</code>) is different. Networked service-to-service communication uses the container port, and the outside uses the host port.</p>

<h2>Docker Compose Environment variables with MongoDB</h2>

<p>In the service configuration, we used environmental variables defined inside the <em>.env</em> file. Now we start writing it.</p>

<p><em>.env</em><br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight properties"><code><span class="py">MONGODB_USER</span><span class="p">=</span><span class="s">root</span>
<span class="py">MONGODB_PASSWORD</span><span class="p">=</span><span class="s">123456</span>
<span class="py">MONGODB_DATABASE</span><span class="p">=</span><span class="s">bezkoder_db</span>
<span class="py">MONGODB_LOCAL_PORT</span><span class="p">=</span><span class="s">7017</span>
<span class="py">MONGODB_DOCKER_PORT</span><span class="p">=</span><span class="s">27017</span>

<span class="py">NODE_LOCAL_PORT</span><span class="p">=</span><span class="s">6868</span>
<span class="py">NODE_DOCKER_PORT</span><span class="p">=</span><span class="s">8080</span>
</code></pre>

</div>



<h2>Run Nodejs MongoDB with Docker Compose</h2>

<p>We can easily run the whole with only a single command:<br>
<code>docker-compose up</code></p>

<p>Docker will pull the MongoDB and Node.js images (if our machine does not have it before).</p>

<p>The services can be run on the background with command:<br>
<code>docker-compose up -d</code><br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code><span class="nv">$ </span>docker-compose up <span class="nt">-d</span>
Creating network <span class="s2">"node-mongodb_default"</span> with the default driver
Creating volume <span class="s2">"node-mongodb_db"</span> with default driver
Pulling mongodb <span class="o">(</span>mongo:5.0.2<span class="o">)</span>...
5.0.2: Pulling from library/mongo
16ec32c2132b: Pull <span class="nb">complete
</span>6335cf672677: Pull <span class="nb">complete
</span>cbc70ccc8ebe: Pull <span class="nb">complete
</span>0d1a3c6bd417: Pull <span class="nb">complete
</span>960f3b9b27d3: Pull <span class="nb">complete
</span>aff995a136b4: Pull <span class="nb">complete
</span>4249be7550a8: Pull <span class="nb">complete
</span>cc105ff5aa3c: Pull <span class="nb">complete
</span>82819807d07a: Pull <span class="nb">complete
</span>81447d2c233f: Pull <span class="nb">complete
</span>Digest: sha256:54d24682d00278f64bf21ff62b7ee62b59dae50f65139831a884b345922b0f8a
Status: Downloaded newer image <span class="k">for </span>mongo:5.0.2
Building app
Sending build context to Docker daemon  19.46kB
Step 1/6 : FROM node:14
14: Pulling from library/node
eb18d230e067: Pull <span class="nb">complete 
</span>83600c1b4583: Pull <span class="nb">complete 
</span>4ae15c65bfa0: Pull <span class="nb">complete 
</span>c19c058edda5: Pull <span class="nb">complete 
</span>05cdaa0fd103: Pull <span class="nb">complete 
</span>8461dcff50c4: Pull <span class="nb">complete 
</span>84be4117f79d: Pull <span class="nb">complete 
</span>4ccb803887fd: Pull <span class="nb">complete 
</span>ab52680a5469: Pull <span class="nb">complete 
</span>Digest: sha256:c1fa7759eeff3f33ba08ff600ffaca4558954722a4345653ed1a0d87dffed9aa
Status: Downloaded newer image <span class="k">for </span>node:14
 <span class="nt">---</span><span class="o">&gt;</span> 256d6360f157
Step 2/6 : WORKDIR /bezkoder-app
 <span class="nt">---</span><span class="o">&gt;</span> Running <span class="k">in </span>71b4b2e9dd6c
Removing intermediate container 71b4b2e9dd6c
 <span class="nt">---</span><span class="o">&gt;</span> 194372d3695c
Step 3/6 : COPY package.json <span class="nb">.</span>
 <span class="nt">---</span><span class="o">&gt;</span> 093f866b404a
Step 4/6 : RUN npm <span class="nb">install</span>
 <span class="nt">---</span><span class="o">&gt;</span> Running <span class="k">in </span>025f0f0365a9
npm notice created a lockfile as package-lock.json. You should commit this file.
npm WARN node-express-mongodb@1.0.0 No repository field.

added 81 packages from 128 contributors and audited 81 packages <span class="k">in </span>6.902s

2 packages are looking <span class="k">for </span>funding
  run <span class="sb">`</span>npm fund<span class="sb">`</span> <span class="k">for </span>details

found 0 vulnerabilities

Removing intermediate container 025f0f0365a9
 <span class="nt">---</span><span class="o">&gt;</span> 2f04aeaa93b1
Step 5/6 : COPY <span class="nb">.</span> <span class="nb">.</span>
 <span class="nt">---</span><span class="o">&gt;</span> 50e31a045a02
Step 6/6 : CMD npm start
 <span class="nt">---</span><span class="o">&gt;</span> Running <span class="k">in </span>7353ac17fa02
Removing intermediate container 7353ac17fa02
 <span class="nt">---</span><span class="o">&gt;</span> bd9d66054ea2
Successfully built bd9d66054ea2
Successfully tagged node-mongodb_app:latest
WARNING: Image <span class="k">for </span>service app was built because it did not already exist. To rebuild this image you must use <span class="sb">`</span>docker-compose build<span class="sb">`</span> or <span class="sb">`</span>docker-compose up <span class="nt">--build</span><span class="sb">`</span><span class="nb">.</span>
Creating node-mongodb_mongodb_1 ... <span class="k">done
</span>Creating node-mongodb_app_1     ... <span class="k">done</span>
</code></pre>

</div>



<p>Now you can check the current working containers:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code><span class="nv">$ </span>docker ps
CONTAINER ID   IMAGE              COMMAND                  CREATED         STATUS         PORTS                                         NAMES
42b9271dd73f   node-mongodb_app   <span class="s2">"docker-entrypoint.s‚Ä¶"</span>   2 minutes ago   Up 2 minutes   0.0.0.0:6868-&gt;8080/tcp, :::6868-&gt;8080/tcp     node-mongodb_app_1
e17bf545c0ba   mongo:5.0.2        <span class="s2">"docker-entrypoint.s‚Ä¶"</span>   2 minutes ago   Up 2 minutes   0.0.0.0:7017-&gt;27017/tcp, :::7017-&gt;27017/tcp   node-mongodb_mongodb_1
</code></pre>

</div>



<p>And Docker images:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code><span class="nv">$ </span>docker images
REPOSITORY            TAG            IMAGE ID       CREATED         SIZE
node-mongodb_app      latest         bd9d66054ea2   5 minutes ago   960MB
node                  14             256d6360f157   6 minutes ago   944MB
mongo                 5.0.2          269b735e72cb   6 minutes ago   682MB
</code></pre>

</div>



<p>Let's send an HTTP request to check the Express Rest API:</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--J0K2FGtQ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://www.bezkoder.com/wp-content/uploads/2021/08/docker-compose-nodejs-mongodb-example-test-api.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--J0K2FGtQ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://www.bezkoder.com/wp-content/uploads/2021/08/docker-compose-nodejs-mongodb-example-test-api.png" alt="docker-compose-nodejs-mongodb-example-test-api" width="510" height="410"></a></p>

<p>And the MongoDB database also:</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s---w-BTzBf--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://www.bezkoder.com/wp-content/uploads/2021/08/docker-compose-nodejs-mongodb-example-test-database.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s---w-BTzBf--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://www.bezkoder.com/wp-content/uploads/2021/08/docker-compose-nodejs-mongodb-example-test-database.png" alt="docker-compose-nodejs-mongodb-example-test-database" width="600" height="390"></a></p>

<h2>Stop the Application</h2>

<p>Stopping all the running containers is also simple with a single command:<br>
<code>docker-compose down</code><br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code><span class="nv">$ </span>docker-compose down
Stopping node-mongodb_app_1     ... <span class="k">done
</span>Stopping node-mongodb_mongodb_1 ... <span class="k">done
</span>Removing node-mongodb_app_1     ... <span class="k">done
</span>Removing node-mongodb_mongodb_1 ... <span class="k">done
</span>Removing network node-mongodb_default
</code></pre>

</div>



<p>If you need to stop and remove all containers, networks, and all images used by any service in <em>docker-compose.yml</em> file, use the command:<br>
<code>docker-compose down --rmi all</code><br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code><span class="nv">$ </span>docker-compose down <span class="nt">--rmi</span> all
Stopping node-mongodb_app_1     ... <span class="k">done
</span>Stopping node-mongodb_mongodb_1 ... <span class="k">done
</span>Removing node-mongodb_app_1     ... <span class="k">done
</span>Removing node-mongodb_mongodb_1 ... <span class="k">done
</span>Removing network node-mongodb_default
Removing image mongo:5.0.2
Removing image node-mongodb_app
</code></pre>

</div>



<h2>Conclusion</h2>

<p>Today we've successfully created Docker Compose file for Nodejs and MongoDB application. Now we can deploy Nodejs Express and MongoDB with Docker on a very simple way: <em>docker-compose.yml</em>.</p>

<p>You can apply this way to one of following project:</p>

<ul>
    <li><a href="https://bezkoder.com/node-express-mongodb-crud-rest-api/">Node.js Express Rest API with MongoDb</a></li>
    <li><a href="https://bezkoder.com/node-js-mongodb-pagination/">Node.js Express Pagination with Mongoose and MongoDB</a></li>
    <li><a href="https://bezkoder.com/node-js-mongodb-auth-jwt/">Node.js + MongoDB: User Authentication &amp; Authorization</a></li>
    <li><a href="https://bezkoder.com/node-js-upload-store-images-mongodb/">Upload/store images in MongoDB using Node.js, Express &amp; Multer</a></li>
</ul>

<p>Or Dockerize fullstack:</p>

<ul>
<li><a href="https://www.bezkoder.com/docker-mern/">Docker Compose: React + Node.js Express + MongoDB</a></li>
</ul>

<p>Happy Learning! See you again.</p>

<h2>Source Code</h2>

<p>The source code for this tutorial can be found at <a href="https://github.com/bezkoder/docker-compose-nodejs-mongodb">Github</a>.</p>

<h2>Further Reading</h2>

<p>Associations:</p>

<ul>
    <li><a href="https://bezkoder.com/mongoose-one-to-one-relationship-example/">MongoDB One-to-One relationship tutorial with Mongoose example</a></li>
    <li><a href="https://bezkoder.com/mongoose-one-to-many-relationship/">MongoDB One-to-Many Relationship tutorial with Mongoose examples</a></li>
    <li><a href="https://bezkoder.com/mongodb-many-to-many-mongoose/">MongoDB Many-to-Many Relationship with Mongoose examples</a></li>
</ul>

 </details> 
 <hr /> 

 #### - [Automating AWS Operations: A Deep Dive into Systems Manager for SysOps](https://dev.to/brandondamue/automating-aws-operations-a-deep-dive-into-systems-manager-for-sysops-30nc) 
 <details><summary>Article</summary> <p>Wearing my SysOps suit, I've navigated the intricate realm of AWS infrastructure management, and one thing has become abundantly clear: efficiency and control are paramount. In this fast-paced cloud environment, where every second counts and resource management can be a maze, AWS Systems Manager (SSM) emerges as the beacon of hope for SysOps administrators. It's the tool that addresses a multitude of challenges that have often left us scratching our heads.</p>

<p>This article is an expedition into Systems Manager (SSM) and it delves deep into its transformative capabilities, tailored specifically to resolve the challenges that have left SysOps professionals pondering solutions. From providing an all-encompassing view of your infrastructure to streamlining routine tasks and ensuring compliance, SSM furnishes a robust set of solutions poised to revolutionize your AWS environment management. Enough said! Let's get to exploring SSM and its wonderful features but before we get to that here is a concise overview of what SSM is all about.</p>

<p>SSM is like a trusty sidekick for sysops administrators, giving them a single, easy-to-use dashboard to wrangle, automate, and fortify their AWS setup. Imagine it as a Swiss Army knife for sysops, covering everything from keeping tabs on resources and automatic updates to boss-level command execution and smart workflow automation. It even does some neat tricks like secure session management, secret storage, and compliance watchdog duties.</p>

<p>In practical terms, this means sysops folks can breathe a little easier. SSM takes care of repetitive chores, keeps a vigilant eye on security, and makes sure everything plays by the rules. It's like having a skilled assistant who can automate tasks, keep everything in line, and maintain top-notch security across your AWS kingdom. In the end, it's about simplifying the complex, saving time, and lightening the load for sysops teams. Now let's explore the different features and tools that are part of the SSM Swiss army knife.</p>

<h2>
  
  
  System Patch Management
</h2>

<p>With SSM Patch Manager, sysops professionals can streamline and automate patch management for EC2 instances and other AWS resources. Patch Manager allows you to create patch baselines to define which patches should be applied to instances, set up patching schedules, and even automate the patching process using predefined automation documents. This level of automation not only guarantees that your resources stay current with the latest security patches but also trims down the amount of work needed for manually handling patches.</p>

<p>Furthermore, SSM offers strong compliance monitoring and reporting features, giving sysops administrators the tools to uphold top-notch security and compliance standards throughout their AWS setup. SSM's adaptability reaches into cross-platform patching, making it easy to handle patches for servers in on-premises settings and other cloud environments without a hitch. By embracing SSM for patch management, sysops teams can notably boost the security, efficiency, and oversight of their AWS resources while keeping downtime and disruptions to a minimum.</p>

<h2>
  
  
  SSM Run Command
</h2>

<p>Sysops administrators can tap into the efficiency of SSM Run Command to perform tasks on multiple instances simultaneously, making their workload more manageable. This feature proves especially useful for handling routine operations like software installations and configurations across a bunch of instances. Imagine you have a batch of EC2 instances that require crucial security updates. Instead of the tedious process of connecting to each instance individually and applying updates step by step, SSM Run Command enables you to run the necessary commands on all the selected instances simultaneously. This not only slashes the time needed but also maintains uniformity while reducing the chances of mistakes. In simpler terms, it's like having a powerful remote control for your instances. You can send commands to a group of instances all at once, making tasks that used to be painstakingly manual more efficient and reliable. So, whether you're fine-tuning configurations, installing software, or applying security patches, SSM Run Command streamlines the process, making life easier for sysops administrators.</p>

<p>Similarly, if you need to configure specific settings on a group of instances, like adjusting firewall rules or modifying system parameters, SSM Run Command allows you to push these configurations across multiple instances simultaneously. For instance, you can execute commands to update firewall rules to enhance security or change the configurations to optimize resource utilization. This centralized control over command execution not only simplifies the administration of your AWS resources but also enhances security and compliance by ensuring that all instances are configured consistently according to your desired specifications. In essence, SSM Run Command empowers sysops administrators to efficiently manage and maintain their instances, making it an invaluable tool for tasks that require consistency and scale across their AWS environment.</p>

<h2>
  
  
  State Management
</h2>

<p>Maintaining consistent configurations across a fleet of instances is a daunting task, especially as your infrastructure grows. Here's where SSM State Manager shines as a beacon of efficiency. It allows sysops administrators to define, enforce, and track configurations across their instances systematically. By creating custom documents or leveraging pre-built ones (like the AWS-managed documents), sysops can specify the desired state of their instances. These documents can cover a wide array of configurations, from security settings to application installations.</p>

<p>When it comes to compliance SSM State Manager plays an integral role in ensuring compliance with organizational standards and industry regulations. It enables sysops to establish configuration baselines that adhere to security best practices. For instance, you can define a baseline configuration that mandates specific firewall rules, software versions, or file permissions. If an instance's configuration ever drifts away from this desired state, SSM State Manager automatically remediates it, bringing it back into compliance. This real-time enforcement minimizes security risks and ensures that instances consistently meet compliance requirements.</p>

<h2>
  
  
  Inventory Management
</h2>

<p>Picture SSM as your PA, but for managing your AWS instances. One of its cool tricks is that it can keep track of all your instances and gather information about them - things like their names, IP addresses, operating systems, and more. It's like having a little notebook where it jots down details about all your instances.</p>

<p>Now, why is this handy? Imagine you have a bunch of instances doing different tasks - some for your website, some for databases, and who knows what else. With SSM Inventory Manager, you don't have to go hunting for information about each one individually. You've got it all in one place, organized and easy to find. It's like having a neat inventory of all your IT resources. Plus, when you need to take action, like installing updates or checking security settings, you know exactly which instance is which. SSM makes managing your AWS resources as smooth as a well-organized toolbox.</p>

<h2>
  
  
  Automation Documents
</h2>

<p>I just realized I have been making references to automation documents without telling you what they are all about. I apologize for that oversight. Let's examine what they are. Think of Automation Documents as a collection of predefined steps for common tasks, kind of like a recipe for cooking your favourite meal. In the world of sysops, these documents are like secret shortcuts to getting things done quickly and correctly. They're like having an expert sysadmin by your side, guiding you through complex tasks.</p>

<p>For example, let's say you need to create a backup of your EC2 instances regularly. You could write a long list of steps to do it manually, but that's time-consuming and prone to errors. With an Automation Document, you just choose the "Create EC2 Backup" recipe, provide some details like which instances to back up and where to store the backups, and hit "Start." It's like having a magical kitchen gadget that prepares your meal with the push of a button.</p>

<p>But these documents can do much more than backups. They can handle tasks like setting up monitoring, scaling your infrastructure, or even responding to security incidents. So, sysops administrators can save a ton of time and ensure consistency by using these pre-built automation scripts. It's like having a library of superpowers at your fingertips.</p>

<h2>
  
  
  Session Management
</h2>

<p>SSM Session Manager offers a secure and auditable way for sysops administrators to remotely access their AWS instances, ensuring both security and transparency in the process. Instead of relying on traditional methods like SSH or RDP, Session Manager establishes a secure, encrypted connection to the instance via the AWS Management Console, AWS CLI, or AWS SDKs.</p>

<p>Here's how it works: Sysops administrators can initiate a session to an instance directly from the AWS Management Console. Once the session is set up, it's like administrators have taken a virtual seat right in front of the instance, giving them complete control over it. It's almost as if they were there in person, but they can manage everything remotely and securely.</p>

<p>The key advantages are security and auditability. Sessions are logged, providing a detailed record of who accessed which instance, what commands were executed, and when these actions occurred. These logs are invaluable for compliance, troubleshooting, and security investigations, offering transparency into system changes and user activities. Moreover, SSM Session Manager eliminates the need to open inbound ports on instances, reducing the attack surface and enhancing overall security. This centralized and auditable remote access capability is a significant enhancement over traditional access methods like SSH or RDP.</p>

<h2>
  
  
  Resource Groups and Tagging
</h2>

<p>Resource groups and tagging are powerful tools in SSM that play a crucial role in organizing and managing instances efficiently within your AWS infrastructure.</p>

<p>Resource groups allow you to create logical collections of AWS resources, including EC2 instances, based on criteria that you define. These criteria can include resource types, tags, and other properties. Utilizing resource groups provides a unified perspective of your assets, simplifying their management and monitoring. For sysops administrators, this means you can create groups based on specific requirements, such as grouping all instances related to a particular application, environment (like development, staging, or production), or business unit. This simplifies the process of locating and accessing instances when performing management tasks.</p>

<p>Tagging is another essential feature that involves attaching metadata (key-value pairs) to AWS resources, like EC2 instances. Sysops administrators can use tags to add custom labels to instances, indicating their purpose, owner, environment, or any other relevant information. Tags streamline the process of classifying and recognizing instances, particularly within extensive environments. SSM leverages these tags and resource groups, allowing sysops teams to target and manage instances based on specific tags or the resource groups they belong to. This streamlined approach ensures that actions taken through SSM are precise and that you can efficiently manage instances based on their intended purpose or role within your infrastructure. Additionally, tags and resource groups enhance visibility and control, facilitating tasks like monitoring, security, and compliance management.</p>

<h2>
  
  
  Parameter Store
</h2>

<p>SSM Parameter Store is like a highly secure digital vault for all the critical data that keeps your AWS infrastructure running smoothly. It's like your go-to bank for storing everything from database passwords and API keys to configuration settings and secrets.</p>

<p>Now, here's where it gets handy for sysops: SSM Parameter Store allows you to neatly organize and label your data, much like having labelled folders in a physical filing cabinet. This allows you to maintain a well-organized repository of secrets and configurations, ensuring they are readily accessible when required.</p>

<p>However, there's more to it. SSM Parameter Store enhances security by enabling encryption for your stored data using AWS Key Management Service (KMS). Think of it as having a secure, digital lock on each of those folders in your vault. Only those with the right keys can access the information inside.</p>

<p>Sysops professionals can then seamlessly integrate this stored data into their workflows and applications. Need to update a database password for an application? No problem, just fetch it securely from Parameter Store. This ensures that sensitive information remains safe, easily accessible when required, and highly manageable, making the sysops' job much more efficient and secure. It's like having a trusty digital Swiss Army knife for managing sensitive data in your AWS environment.</p>

<h2>
  
  
  Integration with Other AWS Services
</h2>

<p>We have covered a lot of ground when it comes to SSM and how sysops professionals can leverage it in performing various actions. However, I still feel like ending this article without talking about SSM's integration with other AWS services won't be nice. With that in mind, here is how SSM integrates with a few AWS services starting with CloudWatch.</p>

<p>SSM and CloudWatch are a dynamic pair for efficient resource management. CloudWatch continuously monitors AWS resources and applications' performance, collecting valuable data and logs. SSM complements this by enabling real-time responses to CloudWatch alarms and events. When a CloudWatch alarm triggers, SSM can swiftly execute commands, run scripts, or initiate specific workflows on managed instances. This synergy ensures proactive management and rapid responses to critical incidents.</p>

<p>SSM also seamlessly integrates with AWS Config, forming a comprehensive resource management and compliance solution. AWS Config records resource configurations and evaluates compliance with your policies. With SSM, you can track historical data and compliance checks for your managed instances. AWS Config Rules define desired resource configurations, while SSM enforces these configurations automatically. This integration helps maintain instances in the desired state and ensures regulatory compliance, enhancing governance and auditing capabilities.</p>

<p>AWS IAM regulates access to AWS resources and pairs effectively with SSM for streamlined access control. By creating finely-tuned IAM policies that specify who can access SSM functionalities and what actions they can perform, you enhance security. The integration ensures that only authorized personnel can interact with managed instances, bolstering the security and compliance posture of your AWS environment.</p>

<h2>
  
  
  Last Words
</h2>

<p>En masse, Systems Manager stands as a formidable ally in the realm of sysops administration. Its capabilities, from automating patch management to streamlining command execution, have illuminated a path toward operational efficiency and resource security. As you embark on your journey with SSM, remember that its true power lies not just in its features but in how you harness them to optimize your AWS infrastructure. With SSM by your side, tasks that once seemed daunting become manageable, and you can maintain control and security over your resources effortlessly. So, as you dive into the world of SSM, remember that it's here to simplify your life as a sysops admin. Use it wisely, and you'll find that it's the key to smoother, more secure, and more efficient cloud operations.</p>

 </details> 
 <hr /> 
<!-- BLOG-POST-LIST:END -->
</table>
</details>


<!-- TODO
Change the 3stats boxes around, possibly two on top and one on bottom
Fix RSSfeed
Fix Spotify Playlists
Fix Socials [Portfolio, Discord, Linkedin]
In the future, add Public Repositories of Selected Projects
-->
